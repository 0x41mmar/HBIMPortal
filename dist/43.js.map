{"version":3,"sources":["webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/index.js?88e8*******************","webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js?6fc5*******************","webpack:///./src/client/viewer.components/Viewer.EventTool/Viewer.EventTool.js?75e6*******","webpack:///./src/client/viewer.components/Viewer.EventTool/index.js?b393*******","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/index.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/Viewing.Extension.Showcase.js","webpack:///./src/client/viewer.components/Viewer.Skybox/Viewer.Skybox.js","webpack:///./src/client/viewer.components/Viewer.Skybox/index.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-xneg.png","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-xpos.png","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-yneg.png","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-ypos.png","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-zneg.png","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-zpos.png"],"names":["MultiModelExtensionBase","viewer","options","defaultOptions","onModelCompletedLoad","bind","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","impl","modelQueue","getModels","map","model","guid","initializeEvents","viewerEvents","forEach","event","removeEventListener","id","handler","eventSink","off","viewerEvent","Autodesk","Viewing","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","then","args","filter","on","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","addEventListener","eventIdArray","Array","isArray","eventTasks","resolve","__handler","all","Composer","Extension","EventTool","toolName","toolController","registerTool","getName","active","activateTool","emit","deactivateTool","button","keyCode","ShowcaseExtension","onCameraChanged","runAnimation","eventTool","imageList","size","THREE","Vector3","fromArray","skybox","stopwatch","console","log","e","window","clearTimeout","timeoutId","setTimeout","getElapsedMs","userInteraction","CAMERA_CHANGE_EVENT","nav","navigation","setLockSettings","pan","bounds","Box3","fitBounds","setViewCube","toPerspective","autocam","setHomeViewFrom","getCamera","loader","show","dbModelId","loadContainer","containerURN","configureNavigation","activate","urn","loadDocument","doc","path","getViewablePath","loadModel","cancelAnimationFrame","animId","vector","min","max","length","divideScalar","multiplyScalar","Math","pos","getPosition","clampLength","setView","axis","speed","dt","up","getCameraUpVector","matrix","Matrix4","makeRotationAxis","applyMatrix4","setCameraUpVector","rotateCamera","PI","requestAnimationFrame","theExtensionManager","registerExtension","ExtensionId","ViewerSkybox","faceMaterials","url","MeshBasicMaterial","ImageUtils","loadTexture","side","BackSide","skyMaterial","MeshFaceMaterial","geometry","CubeGeometry","x","y","z","Mesh","scene","add"],"mappings":"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","file":"43.js","sourcesContent":["import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\r\n\r\nexport default MultiModelExtensionBase\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/index.js","import EventsEmitter from 'EventsEmitter'\r\n\r\nexport default class MultiModelExtensionBase extends\r\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (viewer, options = {}, defaultOptions = {}) {\r\n\r\n    super (viewer)\r\n\r\n    // bindings\r\n\r\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\r\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\r\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\r\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\r\n    this.onModelActivated     = this.onModelActivated.bind(this)\r\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\r\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\r\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\r\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\r\n    this.onSelection          = this.onSelection.bind(this)\r\n\r\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\r\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\r\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\r\n\r\n    this.defaultOptions = defaultOptions\r\n\r\n    this.options = Object.assign({},\r\n      defaultOptions,\r\n      options)\r\n\r\n    this.viewer = viewer\r\n\r\n    // read the modelQueue to detect currently loaded models\r\n    // when the extension gets loaded\r\n    const models = viewer.impl.modelQueue().getModels()\r\n\r\n    this.models = models.map((model) => {\r\n\r\n      model.guid = model.guid || this.guid()\r\n\r\n      return model\r\n    })\r\n\r\n    this.initializeEvents ()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static get ExtensionId() {\r\n\r\n    return 'Viewing.Extension.MultiModelExtensionBase'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  load () {\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  unload () {\r\n\r\n    this.viewerEvents.forEach((event) => {\r\n\r\n      this.viewer.removeEventListener(\r\n        event.id, this[event.handler])\r\n    })\r\n\r\n    if (this.eventSink) {\r\n\r\n      this.eventSink.off('model.activated',\r\n        this.__onModelActivated)\r\n\r\n      this.eventSink.off('model.unloaded',\r\n        this.__onModelUnloaded)\r\n\r\n      this.eventSink.off('model.loaded',\r\n        this.__onModelLoaded)\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Reload callback, in case the extension is re-loaded\r\n  // more than once\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  reload (options = {}) {\r\n\r\n    this.options = Object.assign({},\r\n      this.defaultOptions,\r\n      this.options,\r\n      options)\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when extension gets loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onExtensionLoaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when the model starts to load\r\n  // The geometry and instanceTree may not be available\r\n  // at this time\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelBeginLoad (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Triggered by ModelLoader extension when a model is\r\n  // selected in a multi-model environment\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelActivated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelActivated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when model root node has been loaded\r\n  // Extensions that do not require access to full\r\n  // model geometry or component tree may use that\r\n  // event to know a new model has been loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelRootLoaded (event) {\r\n\r\n    this.viewerEvent([\r\n\r\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\r\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\r\n\r\n    ]).then((args) => {\r\n\r\n      this.onModelCompletedLoad (args[0])\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when object tree is fully loaded.\r\n  // Extensions that are interested in using the\r\n  // instanceTree need to use that event to make sure\r\n  // it is available\r\n  //\r\n  ////////////////////////////////////////////////////////\r\n  onObjectTreeCreated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when geometry is fully loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onGeometryLoaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\r\n  // have both been fired\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelCompletedLoad (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked once the viewer toolbar has been created\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onToolbarCreated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Triggered by ModelLoader extension when a model has\r\n  // been unloaded as per user request\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelUnloaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when a model is being selected\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onSelection (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onSelection')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //Sink Events\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  __onModelLoaded (event) {\r\n\r\n    this.models = [...this.models, event.model]\r\n\r\n    this.onModelBeginLoad (event)\r\n  }\r\n\r\n  __onModelActivated (event) {\r\n\r\n    this.onModelActivated (event)\r\n  }\r\n\r\n  __onModelUnloaded (event) {\r\n\r\n    this.models = this.models.filter((model) => {\r\n\r\n      return model.guid !== event.model.guid\r\n    })\r\n\r\n    this.onModelUnloaded(event)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Initialize all events for the extension\r\n  // Each event will invoke a predefined handler\r\n  // implemented or not by the derived extension\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  initializeEvents () {\r\n\r\n    if (this.options.eventSink) {\r\n\r\n      // event object passed in options\r\n      this.eventSink = this.options.eventSink\r\n\r\n      this.eventSink.on('model.loaded',\r\n        this.__onModelLoaded)\r\n\r\n      this.eventSink.on('model.activated',\r\n        this.__onModelActivated)\r\n\r\n      this.eventSink.on('model.unloaded',\r\n        this.__onModelUnloaded)\r\n    }\r\n\r\n    this.viewerEvents = [\r\n      {\r\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\r\n        handler: 'onExtensionLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\r\n        handler: 'onObjectTreeCreated'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\r\n        handler: 'onModelRootLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\r\n        handler: 'onGeometryLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\r\n        handler: 'onToolbarCreated'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\r\n        handler: 'onSelection'\r\n      }\r\n    ]\r\n\r\n    this.viewerEvents.forEach((event) => {\r\n\r\n      this.viewerEvent(event.id, this[event.handler])\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Async viewer event\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  viewerEvent (eventId, handler) {\r\n\r\n    if (handler) {\r\n\r\n      this.viewer.addEventListener (eventId, handler)\r\n      return\r\n    }\r\n\r\n    const eventIdArray = Array.isArray(eventId)\r\n      ? eventId : [eventId]\r\n\r\n    const eventTasks = eventIdArray.map((id) => {\r\n      return new Promise ((resolve) => {\r\n        const __handler = (args) => {\r\n          this.viewer.removeEventListener (id, __handler)\r\n          resolve (args)\r\n        }\r\n        this.viewer.addEventListener (id, __handler)\r\n      })\r\n    })\r\n\r\n    return Promise.all (eventTasks)\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","import EventsEmitter from 'EventsEmitter'\r\n\r\nexport default class EventTool extends EventsEmitter {\r\n\r\n  constructor (viewer) {\r\n\r\n    super()\r\n\r\n    this.viewer = viewer\r\n\r\n    this.toolName = this.guid()\r\n\r\n    viewer.toolController.registerTool(this)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Tool names\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getNames () {\r\n\r\n    return [this.getName()]\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Tool name\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getName () {\r\n\r\n    return this.toolName\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Activate Tool\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  activate () {\r\n\r\n    if(!this.active) {\r\n\r\n      this.active = true\r\n\r\n      this.viewer.toolController.activateTool(\r\n        this.toolName)\r\n\r\n      this.emit('activate', this)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Deactivate tool\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  deactivate () {\r\n\r\n    if (this.active) {\r\n\r\n      this.active = false\r\n\r\n      this.viewer.toolController.deactivateTool(\r\n        this.toolName)\r\n\r\n      this.emit('deactivate', this)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleSingleClick (event, button) {\r\n\r\n    return this.emit('singleclick', event, button)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleDoubleClick (event, button) {\r\n\r\n    return this.emit('doubleclick', event, button)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleMouseMove (event) {\r\n\r\n    return this.emit('mousemove', event)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleWheelInput (event) {\r\n\r\n    return this.emit('mousewheel', event)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleGesture (event) {\r\n\r\n    return this.emit('gesture', event)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleKeyDown (event, keyCode) {\r\n\r\n    return this.emit('keydown', event, keyCode)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleButtonDown (event, button) {\r\n\r\n    return this.emit('buttondown', event, button)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleButtonUp (event, button) {\r\n\r\n    return this.emit('buttonup', event, button)\r\n  }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.EventTool/Viewer.EventTool.js","import EventTool from './Viewer.EventTool'\r\n\r\nexport default EventTool\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.EventTool/index.js","import './Viewing.Extension.Showcase'\r\n\r\nexport default 'Viewing.Extension.Showcase'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/index.js","/////////////////////////////////////////////////////////////////////\r\n// Viewing.Extension.Showcase\r\n// by Philippe Leefsma, July 2017\r\n//\r\n/////////////////////////////////////////////////////////////////////\r\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\r\nimport xpos from './img/bridge/skybox-xpos.png'\r\nimport xneg from './img/bridge/skybox-xneg.png'\r\nimport ypos from './img/bridge/skybox-ypos.png'\r\nimport yneg from './img/bridge/skybox-yneg.png'\r\nimport zpos from './img/bridge/skybox-zpos.png'\r\nimport zneg from './img/bridge/skybox-zneg.png'\r\nimport EventTool from 'Viewer.EventTool'\r\nimport Skybox from 'Viewer.Skybox'\r\nimport Stopwatch from 'Stopwatch'\r\n\r\nclass ShowcaseExtension extends MultiModelExtensionBase {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor(viewer, options) {\r\n\r\n    super (viewer, options)\r\n\r\n    this.onCameraChanged =\r\n      this.onCameraChanged.bind(this)\r\n\r\n    this.runAnimation =\r\n      this.runAnimation.bind(this)\r\n\r\n    this.eventTool = new EventTool(viewer)\r\n\r\n    const imageList = [\r\n      xpos, xneg,\r\n      ypos, yneg,\r\n      zpos, zneg\r\n    ]\r\n\r\n    const size = new THREE.Vector3()\r\n\r\n    size.fromArray(options.size || [10000, 10000, 10000])\r\n\r\n    this.skybox = new Skybox(viewer, {\r\n      imageList,\r\n      size\r\n    })\r\n\r\n    this.stopwatch = new Stopwatch()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static get ExtensionId() {\r\n\r\n    return 'Viewing.Extension.Showcase'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  load() {\r\n\r\n    console.log('Viewing.Extension.Showcase loaded')\r\n\r\n    this.eventTool.on('mousewheel', (e) => {\r\n\r\n      window.clearTimeout(this.timeoutId)\r\n\r\n      this.timeoutId = window.setTimeout(() => {\r\n        this.stopwatch.getElapsedMs()\r\n        this.userInteraction = false\r\n        this.runAnimation()\r\n      }, 3500)\r\n\r\n      this.userInteraction = true\r\n\r\n      return false\r\n    })\r\n\r\n    this.eventTool.on('buttondown', (e) => {\r\n\r\n      window.clearTimeout(this.timeoutId)\r\n\r\n      this.userInteraction = true\r\n\r\n      return false\r\n    })\r\n\r\n    this.eventTool.on('buttonup', (e) => {\r\n\r\n      this.timeoutId = window.setTimeout(() => {\r\n        this.stopwatch.getElapsedMs()\r\n        this.runAnimation()\r\n      }, 3500)\r\n\r\n      this.userInteraction = false\r\n\r\n      return false\r\n    })\r\n\r\n    this.viewer.addEventListener(\r\n      Autodesk.Viewing.CAMERA_CHANGE_EVENT,\r\n      this.onCameraChanged)\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Setup navigation\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  configureNavigation () {\r\n\r\n    const nav = this.viewer.navigation\r\n\r\n    nav.setLockSettings({\r\n      pan: true\r\n    })\r\n\r\n    this.bounds = new THREE.Box3(\r\n      new THREE.Vector3(-100, -100, -100),\r\n      new THREE.Vector3(100, 100, 100))\r\n\r\n    nav.fitBounds(true, this.bounds)\r\n\r\n    this.viewer.setViewCube('front')\r\n\r\n    nav.toPerspective()\r\n\r\n    setTimeout(() => {\r\n      this.viewer.autocam.setHomeViewFrom(\r\n        nav.getCamera())\r\n      this.options.loader.show(false)\r\n    }, 2000)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Model completed load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelCompletedLoad (event) {\r\n\r\n    if (event.model.dbModelId) {\r\n\r\n      this.loadContainer(this.options.containerURN).then(\r\n        () => {\r\n          this.configureNavigation()\r\n        })\r\n\r\n      this.stopwatch.getElapsedMs()\r\n\r\n      this.eventTool.activate()\r\n\r\n      this.runAnimation()\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load container model\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  loadContainer (urn) {\r\n\r\n    return new Promise(async(resolve) => {\r\n\r\n      const doc = await this.options.loadDocument(urn)\r\n\r\n      const path = this.options.getViewablePath(doc)\r\n\r\n      this.viewer.loadModel(path, {}, (model) => {\r\n\r\n        resolve (model)\r\n      })\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  unload() {\r\n\r\n    console.log('Viewing.Extension.Showcase unloaded')\r\n\r\n    window.cancelAnimationFrame(this.animId)\r\n\r\n    this.viewer.removeEventListener(\r\n      Autodesk.Viewing.CAMERA_CHANGE_EVENT,\r\n      this.onCameraChanged)\r\n\r\n    this.userInteraction = true\r\n\r\n    this.eventTool.off()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Clamp vector length, not avail in three.js version\r\n  // used by the viewer\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  clampLength(vector, min, max ) {\r\n\r\n    const length = vector.length()\r\n\r\n    vector.divideScalar(length || 1)\r\n\r\n    vector.multiplyScalar(\r\n      Math.max(min, Math.min(max, length)))\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Camera changed event\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onCameraChanged () {\r\n\r\n    const nav = this.viewer.navigation\r\n\r\n    const pos = nav.getPosition()\r\n\r\n    if (pos.length() > 700.0 || pos.length() < 100.0) {\r\n\r\n      this.clampLength(pos, 100.0, 700.0)\r\n\r\n      nav.fitBounds(true, this.bounds)\r\n\r\n      nav.setView(pos, new THREE.Vector3(0,0,0))\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Rotate camera around axis\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  rotateCamera (axis, speed, dt) {\r\n\r\n    const nav = this.viewer.navigation\r\n\r\n    const up = nav.getCameraUpVector()\r\n\r\n    const pos = nav.getPosition()\r\n\r\n    const matrix = new THREE.Matrix4().makeRotationAxis(\r\n      axis, speed * dt);\r\n\r\n    pos.applyMatrix4(matrix)\r\n    up.applyMatrix4(matrix)\r\n\r\n    nav.setView(pos, new THREE.Vector3(0,0,0))\r\n    nav.setCameraUpVector(up)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // starts animation\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  runAnimation () {\r\n\r\n    if (!this.userInteraction) {\r\n\r\n      const dt = this.stopwatch.getElapsedMs() * 0.001\r\n\r\n      const axis = new THREE.Vector3(0,1,0)\r\n\r\n      this.rotateCamera(axis, 10.0 * Math.PI/180, dt)\r\n\r\n      this.animId = window.requestAnimationFrame(\r\n        this.runAnimation)\r\n    }\r\n  }\r\n}\r\n\r\nAutodesk.Viewing.theExtensionManager.registerExtension(\r\n  ShowcaseExtension.ExtensionId,\r\n  ShowcaseExtension)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/Viewing.Extension.Showcase.js","\r\n\r\nexport default class ViewerSkybox {\r\n\r\n  constructor (viewer, options) {\r\n\r\n    const faceMaterials = options.imageList.map((url) => {\r\n      return new THREE.MeshBasicMaterial({\r\n        map: THREE.ImageUtils.loadTexture(url),\r\n        side: THREE.BackSide\r\n      })\r\n    })\r\n\r\n    const skyMaterial = new THREE.MeshFaceMaterial(\r\n      faceMaterials)\r\n\r\n    const geometry = new THREE.CubeGeometry(\r\n      options.size.x,\r\n      options.size.y,\r\n      options.size.z,\r\n      1, 1, 1,\r\n      null, true)\r\n\r\n    const skybox = new THREE.Mesh(\r\n      geometry, skyMaterial)\r\n\r\n    viewer.impl.scene.add(skybox)\r\n  }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Skybox/Viewer.Skybox.js","import ViewerSkybox from './Viewer.Skybox'\r\n\r\nexport default ViewerSkybox\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Skybox/index.js","module.exports = __webpack_public_path__ + \"1fe04a8d6958c7cd0aae0e73ce0930b5.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-xneg.png\n// module id = 1899\n// module chunks = 43","module.exports = __webpack_public_path__ + \"a8415c39630fbb82149b09fd06ec67ca.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-xpos.png\n// module id = 1900\n// module chunks = 43","module.exports = __webpack_public_path__ + \"777814e94305f9c8a899e3a8dd26ca1e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-yneg.png\n// module id = 1901\n// module chunks = 43","module.exports = __webpack_public_path__ + \"4ac6ce01f872698835795143c8358e09.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-ypos.png\n// module id = 1902\n// module chunks = 43","module.exports = __webpack_public_path__ + \"2a27e43e7b0e0184f484869676df954c.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-zneg.png\n// module id = 1903\n// module chunks = 43","module.exports = __webpack_public_path__ + \"b502cec8d3187970f2df80b2f86838c5.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Showcase/img/bridge/skybox-zpos.png\n// module id = 1904\n// module chunks = 43"],"sourceRoot":""}