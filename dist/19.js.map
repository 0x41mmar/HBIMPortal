{"version":3,"sources":["webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?1a41********","webpack:///./src/client/viewer.components/Viewer.Toolkit/index.js?3d64********","webpack:///./src/client/components/Label/Label.scss?d194********","webpack:///./src/client/viewer.components/Viewer.Toolkit/Viewer.Toolkit.js?9bfb********","webpack:///./src/client/components/Switch/Switch.scss?f8a8****","webpack:///./src/client/components/WidgetContainer/index.js?87e1********","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js?bbdf********","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?2530********","webpack:///./~/dompurify/src/purify.js?f974*********","webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.ExtensionBase/index.js?d1b9*","webpack:///./src/client/components/Label/index.js?d0bb********","webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.ExtensionBase/Viewer.ExtensionBase.js?48a7*","webpack:///./src/client/components/Label/Label.js?7c58********","webpack:///./src/client/components/Label/Label.scss?2314********","webpack:///./~/react-contenteditable/lib/react-contenteditable.js?23ef*******","webpack:///./~/lodash/_baseForOwn.js?f659******","webpack:///./~/lodash/_baseFlatten.js?a3c3******","webpack:///./src/client/components/Switch/Switch.js?492e****","webpack:///./src/client/components/Switch/index.js?5934****","webpack:///./src/client/components/Switch/Switch.scss?9e38****","webpack:///./~/lodash/sortBy.js?2be6*****","webpack:///./~/lodash/_isFlattenable.js?0a54******","webpack:///./~/lodash/_baseEach.js?08a1*****","webpack:///./~/lodash/_baseMap.js?e43e*****","webpack:///./~/lodash/_baseOrderBy.js?45d1*****","webpack:///./~/lodash/_baseSortBy.js?8b72*****","webpack:///./~/lodash/_compareAscending.js?1e2c*****","webpack:///./~/lodash/_compareMultiple.js?e80d*****","webpack:///./~/lodash/_createBaseEach.js?843d*****","webpack:///./~/atoa/atoa.js?532b","webpack:///./~/dragula/dragula.js?1a53","webpack:///./~/contra/debounce.js?aec2","webpack:///./~/contra/emitter.js?b421","webpack:///./~/crossvent/src/crossvent.js?5379","webpack:///./~/crossvent/src/eventmap.js?9357","webpack:///./~/custom-event/index.js?040d","webpack:///./~/dragula/classes.js?dfd9","webpack:///./~/ticky/ticky-browser.js?01ff","webpack:///./~/react-dragula/dist/dragula.min.css","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.ConfigManager.scss","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ConfigManager/index.js","webpack:///./~/react-dragula/react-dragula.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.Config.API.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.ConfigManager.js","webpack:///./~/react-dragula/dist/dragula.min.css?2966","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.ConfigManager.scss?d17f"],"names":["Toolkit","format","d","Date","getTime","guid","replace","c","r","Math","random","floor","toString","urn","resolve","reject","paramUrn","startsWith","Autodesk","Viewing","Document","load","doc","error","roles","rootItem","getRootItem","items","roleArray","Array","isArray","forEach","role","getSubItemsWithProperties","type","id","className","tooltip","handler","button","UI","Button","icon","style","fontSize","setToolTip","onClick","viewer","ctrlGroupName","viewerToolbar","getToolbar","ctrlGroup","ControlGroup","addControl","model","dbIds","instanceTree","getData","getRootId","dbIdArray","leafIds","getLeafNodesRec","childCount","enumNodeChildren","childId","push","i","length","ex","getLeafNodes","fragIds","enumNodeFragments","fragId","leafId","dbId","getFragIds","fragList","getFragmentList","fragbBox","THREE","Box3","nodebBox","getWorldBounds","union","requestedProps","dbIdInt","parseInt","isNaN","propTasks","map","displayName","getProperty","all","then","properties","getProperties","result","defaultValue","prop","displayValue","Error","activeModel","propertyTasks","propertyResults","propertyResult","indexOf","sort","propFilter","propRes","filteredRes","filter","res","propFilterArray","getBulkProperties","components","defaultProp","getBulkPropertiesAsync","results","componentsMap","value","split","root","taskFunc","tasks","runTaskOnDataTreeRec","node","parent","children","childNode","task","min","max","material","overlayId","geometry","Geometry","vertices","Vector3","x","y","z","lines","Line","LinePieces","impl","addOverlay","invalidate","setMaterial","createNodeFunc","_buildModelTreeRec","name","getNodeName","rootId","rootNode","taskResults","_executeTaskOnModelTreeRec","hide","targetIds","visibilityManager","setNodeOff","show","isolate","targetLeafIds","leafTasks","resolveLeaf","axis","angle","center","quaternion","Quaternion","setFromAxisAngle","fragProxy","getFragmentProxy","getAnimTransform","position","applyQuaternion","add","multiplyQuaternions","updateAnimTransform","state","immediate","onStateRestored","removeEventListener","VIEWER_STATE_RESTORED_EVENT","pivot","viewport","pivotPoint","setTimeout","navigation","setPivotPoint","addEventListener","restoreState","parentId","nodeName","faceFilter","vertexArray","getLeafFragIds","matrixWorld","meshGeometry","renderProxy","getRenderProxy","attributes","positions","vb","array","indices","index","ib","stride","vbstride","offsets","count","start","oi","ol","il","a","b","vA","vB","vC","fromArray","faceIdx","face","Face3","faces","applyMatrix","computeFaceNormals","computeVertexNormals","mesh","Mesh","scale","excludedFragIds","svf","mc","getVisibleBounds","pt","nodeAccess","nodeBoxes","scaledExplodeDepth","maxDepth","explodeDepth","currentSegmentFraction","it","tmpBox","Float32Array","explodeRec","nodeId","depth","cx","cy","cz","ox","oy","oz","oscale","getNodeBox","mycx","mycy","mycz","dx","dy","dz","boxes","fragments","nbFrags","getCount","box_offset","getUserAgent","navigator","userAgent","isAndroid","match","isBlackBerry","isIOS","isOpera","isWindows","isWindowsDesktop","isWindowsMobile","isAny","WidgetContainer","props","showTitle","renderTitle","title","dimensions","Children","child","newProps","cloneElement","classNames","height","join","renderChildren","Component","propTypes","string","bool","defaultProps","ExtensionBase","options","_viewer","_options","eventId","eventIdArray","eventTasks","args","Composer","Extension","Label","width","textAlign","sanitize","text","Switch","checked","setState","disabled","onChange","toggle","ConfigAPI","apiUrl","opts","url","ajax","sequences","sortByName","sortBy","seq","sequence","payload","method","headers","data","sequenceId","stateId","ConfigManagerExtension","bind","toggleItem","dialogSvc","getService","itemsClass","react","restoreEvents","drake","modelId","dbModel","_id","api","database","MODEL_ROOT_LOADED_EVENT","e","loader","itemToggling","emptyStateNameCaption","stateSelection","stateCreation","newSequenceName","newStateName","play","loop","pushRenderExtension","getSequences","setActiveSequence","console","log","popViewerPanel","onClose","getState","stateIds","s","addSequence","off","on","content","onInputChanged","onKeyDown","open","item","active","readonly","addState","deleteSequence","emit","msg","__html","domItems","document","getElementsByClassName","childNodes","dataset","getStateIds","newSequence","newItems","updateSequence","viewerState","event","onRestoreState","filteredState","filterState","restoreImmediate","deleteState","keyCode","stopPropagation","preventDefault","key","target","srcState","setNames","elementNames","strObj","JSON","parse","sets","elements","setName","elementName","element","destroy","onUpdateSequence","clearTimeout","playTimeout","sequenceIdx","events","activateDrag","getStates","states","period","step","docked","ExtensionId","popRenderExtension","pushViewerPanel","panel","spanClass","setDocking","sequenceName","stateCreationDisabled","copySequence","addItem","playSequence","selectedItem","deleteItem","renderControls","renderItems","theExtensionManager","registerExtension"],"mappings":"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SAAX,GACX,mBADW,GAEX,MAFJ;;AAIA,aACE;AAAA;AAAA,UAAK,WAAWQ,WAAWE,IAAX,CAAgB,GAAhB,CAAhB,EAAsC,OAAO,KAAKX,KAAL,CAAW9O,KAAxD;AACK,aAAKgP,WAAL,EADL;AAEE;AAAA;AAAA,YAAK,WAAU,SAAf,EAAyB,OAAO,EAACQ,cAAD,EAAhC;AACG,eAAKE,cAAL;AADH;AAFF,OADF;AAQD;;;EA1F2B,gBAAMC,S,UAM3BC,S,GAAY;AACjBnQ,aAAW,oBAAUoQ,MADJ;AAEjBd,aAAW,oBAAUe,IAFJ,E,SASZC,Y,GAAe;AACpBhB,aAAW,IADS;AAEpBtP,aAAW,EAFS,E;kBA8EToP,e;;;;;;;;;;AClGf;;AAEA;AACA;AACA;AACA;AACA,gDAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACpBA,mCAAC;AACD;AACA;AACA;;AAEA;AACA,qDAA0B,sBAAsB,EAAE;AAAA;AAClD,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,EAAE,iBAAiB,EAAE;AAChD;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;;AAEA;AACA,0CAA0C;AAC1C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB,gEAAgE;AAChE,gEAAgE;AAChE,uEAAuE;AACvE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;;AAEhE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,8BAA8B;;AAEzD;AACA;AACA,2CAA2C,oBAAoB;;AAE/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iCAAiC,EAAE;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,iCAAiC;AACrE,+EAA+E;AAC/E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iCAAiC;AACzE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uCAAuC;AACvC,0BAA0B,QAAQ;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,KAAK;AACrB;AACA;AACA,iCAAiC,QAAQ;;AAEzC;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA,iDAAiD,QAAQ;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;;;;;ACv7BD;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;IAEqBmB,a;;;AAGnB;AACA;AACA;AACA;AACA,yBAAa5P,MAAb,EAAmC;AAAA,QAAd6P,OAAc,uEAAJ,EAAI;AAAA;;AAAA,oJAE3B7P,MAF2B,EAEnB6P,OAFmB;;AAIjC,UAAKC,OAAL,GAAe9P,MAAf;AACA,UAAKA,MAAL,GAAcA,MAAd;;AAEA,UAAK+P,QAAL,GAAgBF,OAAhB;AACA,UAAKA,OAAL,GAAeA,OAAf;AARiC;AASlC;;AAED;AACA;AACA;AACA;;;;;;;AAyBA;AACA;AACA;AACA;2BACO;;AAEL,aAAO,IAAP;AACD;;AAED;AACA;AACA;AACA;;;;6BACS;;AAEP,aAAO,IAAP;AACD;;AAED;AACA;AACA;AACA;;;;2BACQA,O,EAAS;;AAEf,aAAO,IAAP;AACD;;AAED;AACA;AACA;AACA;;;;gCACaG,O,EAAS;AAAA;;AAEpB,UAAMC,eAAen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A;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wEAAwE;AACxE;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,kCAAkC;AAClC,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA,oC;;;;;;;AClGA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;ACfA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrCA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEqBK,M;;;AAoBnB;AACA;AACA;AACA;;;AArBA;AACA;AACA;AACA;AAmBA,oBAAe;AAAA;;AAAA;;AAIb,UAAKvI,KAAL,GAAa;AACXwI,eAAS;AADE,KAAb;AAJa;AAOd;;AAED;AACA;AACA;AACA;;;AAzBA;AACA;AACA;AACA;;;;;yCAuBsB;;AAEpB,WAAKC,QAAL,CAAc;AACZD,iBAAS,KAAKlC,KAAL,CAAWkC;AADR,OAAd;AAGD;;AAED;AACA;AACA;AACA;;;;6BAEU;;AAER,UAAI,KAAKlC,KAAL,CAAWoC,QAAf,EAAyB;AACvB;AACD;;AAED,UAAMF,UAAU,CAAC,KAAKxI,KAAL,CAAWwI,OAA5B;;AAEA,WAAKC,QAAL,CAAc;AACZD;AADY,OAAd;;AAIA,UAAI,KAAKlC,KAAL,CAAWqC,QAAf,EAAyB;;AAEvB,aAAKrC,KAAL,CAAWqC,QAAX,CAAqBH,OAArB;AACD;AACF;;AAED;AACA;AACA;AACA;;;;6BACU;;AAER,UAAMzB,cACJ,kBADI,EAEJ,KAAKT,KAAL,CAAWoC,QAAX,GAAsB,UAAtB,GAAmC,EAF/B,0CAGD,KAAKpC,KAAL,CAAWrP,SAAX,CAAqBoF,KAArB,CAA2B,GAA3B,CAHC,EAAN;;AAMA,aACE;AAAA;AAAA,UAAK,WAAW0K,WAAWE,IAAX,CAAgB,GAAhB,CAAhB;AACE,mBAAS,KAAK2B,MADhB;AAEE,iDAAO,KAAI,QAAX,EAAoB,WAAU,QAA9B;AACE,mBAAS,KAAK5I,KAAL,CAAWwI,OADtB;AAEE,iBAAO,KAAKxI,KAAL,CAAWwI,OAFpB;AAGE,oBAAU,oBAAK,CAAE,CAHnB;AAIE,gBAAK;AAJP,UAFF;AAQE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,iDAAG,WAAU,6BAAb;AADF,WADF;AAIE;AAAA;AAAA;AACE,iDAAG,WAAU,+BAAb;AADF,WAJF;AAOE;AAPF;AARF,OADF;AAoBD;;;EAnGiC,gBAAMrB,S,WAMjCC,S,GAAY;AACjBnQ,aAAW,oBAAUoQ,MADJ;AAEjBmB,WAAS,oBAAUlB,IAFF,E,UASZC,Y,GAAe;AACpBiB,WAAS,IADW;AAEpBvR,aAAW,EAFS,E;kBAfHsR,M;;;;;;;;;;;;;;;;;;ACJrB;;;;AACA;;;;;;;;;;;;;;ACDA;;AAEA;AACA;AACA;AACA;AACA,gDAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACpBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,yBAAyB;AACpC;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA,MAAM,8BAA8B;AACpC,MAAM,8BAA8B;AACpC,MAAM,8BAA8B;AACpC,MAAM;AACN;AACA;AACA,iCAAiC,eAAe,EAAE;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;AC/CA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACnBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,aAAa;AAC1B;AACA;;AAEA;;;;;;;;ACbA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,6BAA6B;AACxC,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,YAAY;AACZ,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACxCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,mBAAmB;AAC9B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC3CA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC/BA,uCAAuC,yCAAyC;;;;;;;;;8CCAhF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,YAAY;AACZ,eAAe;AACf,eAAe;AACf,aAAa;AACb,aAAa;AACb,sBAAsB;AACtB,sBAAsB;AACtB,YAAY;AACZ,mBAAmB;AACnB,6BAA6B;AAC7B,eAAe;;AAEf;AACA,2BAA2B,kBAAkB;AAC7C,6BAA6B,oBAAoB;AACjD,6BAA6B,2BAA2B;AACxD,gCAAgC,wCAAwC;AACxE,iCAAiC,uBAAuB;AACxD,0BAA0B,gBAAgB;AAC1C,oCAAoC,0BAA0B;AAC9D,mCAAmC,yBAAyB;AAC5D,mCAAmC,yBAAyB;AAC5D,+BAA+B,0BAA0B;AACzD,8CAA8C,mCAAmC;AACjF,qCAAqC,8BAA8B;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kEAAkE;AAClE;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,qBAAqB;AACrB,OAAO;AACP,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kDAAkD;AAC7E,sBAAsB,eAAe,eAAe,EAAE;AACtD,qBAAqB,uBAAuB,cAAc,EAAE;AAC5D;;AAEA;AACA;AACA;;AAEA;AACA,yBAAyB,4BAA4B;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA,6DAA6D,WAAW;AACxE,8DAA8D,WAAW;AACzE;AACA;AACA;;AAEA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,yBAAyB;AACtD,4CAA4C,gBAAgB,EAAE;AAC9D,6BAA6B,kBAAkB;AAC/C;AACA,0BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC,oBAAoB,aAAa;AACjC,8BAA8B,+CAA+C;AAC7E,+BAA+B,gDAAgD;AAC/E,yBAAyB,qDAAqD;AAC9E,uBAAuB,yGAAyG;AAChI;AACA,YAAY,cAAc,EAAE;AAC5B,uCAAuC,cAAc,EAAE;AACvD,sCAAsC,aAAa,EAAE;AACrD,mCAAmC;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AC/lBA;;AAEA;;AAEA;AACA,YAAY,QAAQ;AACpB;AACA;AACA,GAAG;AACH;;;;;;;;;ACTA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,YAAY;AACxC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,0CAA0C;AAC9G;AACA,yBAAyB,6BAA6B,EAAE,OAAO,yBAAyB;AACxF,2BAA2B,yBAAyB;AACpD,OAAO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;8CCrDA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,kCAAkC,gBAAgB;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA,uEAAuE,uBAAuB;AAC9F,0EAA0E,uBAAuB;AACjG;AACA;AACA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","file":"19.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  background-color: white;\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/WidgetContainer/WidgetContainer.scss\n// module id = 1020\n// module chunks = 0 10 11 12 13 14 15 16 19 21 24 25 26 28 29 31 32 33 35 36 37 39 40","import ViewerToolkit from './Viewer.Toolkit'\r\n\r\nexport default ViewerToolkit\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Toolkit/index.js","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".label-container {\\n  position: relative;\\n  overflow: hidden;\\n  font-size: 100%;\\n  color: #343434;\\n  height: 100%;\\n  float: left; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/Label/Label.scss\n// module id = 1023\n// module chunks = 1 10 11 14 15 16 17 18 19 24 25 28 29 31 32 38 39 41","\r\n\r\nexport default class Toolkit {\r\n\r\n  ///////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////\r\n  static guid(format = 'xxxxxxxxxxxx') {\r\n\r\n    var d = new Date().getTime();\r\n\r\n    var guid = format.replace(\r\n      /[xy]/g,\r\n      function (c) {\r\n        var r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16);\r\n      });\r\n\r\n    return guid;\r\n  }\r\n\r\n  /////////////////////////////////////////////\r\n  //mobile detection\r\n  //\r\n  /////////////////////////////////////////////\r\n  static get mobile() {\r\n\r\n    return {\r\n\r\n      getUserAgent: function () {\r\n        return navigator.userAgent;\r\n      },\r\n      isAndroid: function () {\r\n        return this.getUserAgent().match(/Android/i);\r\n      },\r\n      isBlackBerry: function () {\r\n        return this.getUserAgent().match(/BlackBerry/i);\r\n      },\r\n      isIOS: function () {\r\n        return this.getUserAgent().match(/iPhone|iPad|iPod/i);\r\n      },\r\n      isOpera: function () {\r\n        return this.getUserAgent().match(/Opera Mini/i);\r\n      },\r\n      isWindows: function () {\r\n        return this.isWindowsDesktop() || this.isWindowsMobile();\r\n      },\r\n      isWindowsMobile: function () {\r\n        return this.getUserAgent().match(/IEMobile/i);\r\n      },\r\n      isWindowsDesktop: function () {\r\n        return this.getUserAgent().match(/WPDesktop/i);\r\n      },\r\n      isAny: function () {\r\n\r\n        return this.isAndroid() ||\r\n          this.isBlackBerry() ||\r\n          this.isIOS() ||\r\n          this.isWindowsMobile();\r\n      }\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load a document from URN\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static loadDocument (urn) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      const paramUrn = !urn.startsWith('urn:')\r\n        ? 'urn:' + urn\r\n        : urn\r\n\r\n      Autodesk.Viewing.Document.load(paramUrn, (doc) => {\r\n\r\n        resolve (doc)\r\n\r\n      }, (error) => {\r\n\r\n        reject (error)\r\n      })\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Return viewables\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getViewableItems (doc, roles = ['3d', '2d']) {\r\n\r\n    const rootItem = doc.getRootItem()\r\n\r\n    let items = []\r\n\r\n    const roleArray = roles\r\n      ? (Array.isArray(roles) ? roles : [roles])\r\n      : []\r\n\r\n    roleArray.forEach((role) => {\r\n\r\n      items = [ ...items,\r\n        ...Autodesk.Viewing.Document.getSubItemsWithProperties(\r\n          rootItem, { type: 'geometry', role }, true) ]\r\n    })\r\n\r\n    return items\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Toolbar button\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static createButton(id, className, tooltip, handler) {\r\n\r\n    var button = new Autodesk.Viewing.UI.Button(id)\r\n\r\n    button.icon.style.fontSize = '24px'\r\n\r\n    button.icon.className = className\r\n\r\n    button.setToolTip(tooltip)\r\n\r\n    button.onClick = handler\r\n\r\n    return button\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Control group\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static createControlGroup (viewer, ctrlGroupName) {\r\n\r\n    var viewerToolbar = viewer.getToolbar(true)\r\n\r\n    if (viewerToolbar) {\r\n\r\n      var ctrlGroup =  new Autodesk.Viewing.UI.ControlGroup(\r\n        ctrlGroupName)\r\n\r\n      viewerToolbar.addControl(ctrlGroup)\r\n\r\n      return ctrlGroup\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getLeafNodes (model, dbIds) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const instanceTree = model.getData().instanceTree\r\n\r\n        dbIds = dbIds || instanceTree.getRootId()\r\n\r\n        const dbIdArray = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n        let leafIds = []\r\n\r\n        const getLeafNodesRec = (id) => {\r\n\r\n          var childCount = 0;\r\n\r\n          instanceTree.enumNodeChildren(id, (childId) => {\r\n\r\n              getLeafNodesRec(childId)\r\n\r\n              ++childCount\r\n            })\r\n\r\n          if (childCount == 0) {\r\n\r\n            leafIds.push(id)\r\n          }\r\n        }\r\n\r\n        for (var i = 0; i < dbIdArray.length; ++i) {\r\n\r\n          getLeafNodesRec(dbIdArray[i])\r\n        }\r\n\r\n        return resolve(leafIds)\r\n\r\n      } catch(ex){\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // get node fragIds\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getFragIds (model, dbIds) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const instanceTree = model.getData().instanceTree\r\n\r\n        dbIds = dbIds || instanceTree.getRootId()\r\n\r\n        const dbIdArray = Array.isArray(dbIds)\r\n          ? dbIds : [dbIds]\r\n\r\n        const leafIds =\r\n          await Toolkit.getLeafNodes(\r\n            model, dbIdArray)\r\n\r\n        const fragIds = []\r\n\r\n        for(var i=0; i< leafIds.length; ++i) {\r\n\r\n          instanceTree.enumNodeFragments(\r\n            leafIds[i], (fragId) => {\r\n              fragIds.push(fragId)\r\n            })\r\n        }\r\n\r\n        return resolve(fragIds)\r\n\r\n      } catch(ex) {\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // get leaf node fragIds\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getLeafFragIds (model, leafId) {\r\n\r\n    const instanceTree = model.getData().instanceTree\r\n\r\n    const fragIds = []\r\n\r\n    instanceTree.enumNodeFragments(\r\n      leafId, (fragId) => {\r\n        fragIds.push(fragId)\r\n      })\r\n\r\n    return fragIds\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Node bounding box\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getWorldBoundingBox (model, dbId) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      try {\r\n\r\n        var fragIds =\r\n          await Toolkit.getFragIds(\r\n            model, dbId)\r\n\r\n        if (!fragIds.length) {\r\n\r\n          return reject('No geometry, invalid dbId?')\r\n        }\r\n\r\n        var fragList = model.getFragmentList()\r\n\r\n        var fragbBox = new THREE.Box3()\r\n        var nodebBox = new THREE.Box3()\r\n\r\n        fragIds.forEach(function(fragId) {\r\n\r\n          fragList.getWorldBounds(fragId, fragbBox)\r\n          nodebBox.union(fragbBox)\r\n        })\r\n\r\n        return resolve(nodebBox)\r\n\r\n      } catch(ex){\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Gets properties from component\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getProperties (model, dbId, requestedProps = null) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const dbIdInt = parseInt(dbId)\r\n\r\n        if (isNaN(dbIdInt)) {\r\n\r\n          return reject(dbId + ' is not a valid integer')\r\n        }\r\n\r\n        if (requestedProps) {\r\n\r\n          const propTasks = requestedProps.map((displayName) => {\r\n\r\n            return Toolkit.getProperty(\r\n              model, dbIdInt, displayName, 'Not Available')\r\n          })\r\n\r\n          Promise.all(propTasks).then((properties) => {\r\n\r\n            resolve(properties)\r\n          })\r\n\r\n        } else {\r\n\r\n          model.getProperties(dbIdInt, (result) => {\r\n\r\n            if (result.properties) {\r\n\r\n              return resolve(\r\n                result.properties)\r\n            }\r\n\r\n            return reject('No Properties')\r\n          })\r\n        }\r\n\r\n      } catch (ex) {\r\n\r\n          return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getProperty (model, dbId, displayName, defaultValue) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      try {\r\n\r\n        model.getProperties(dbId, (result) => {\r\n\r\n          if (result.properties) {\r\n\r\n            result.properties.forEach((prop) => {\r\n\r\n              prop.dbId = dbId\r\n\r\n              if (typeof displayName === 'function') {\r\n\r\n                if (displayName (prop.displayName)){\r\n\r\n                  resolve(prop)\r\n                }\r\n\r\n              } else if (displayName === prop.displayName) {\r\n\r\n                resolve(prop)\r\n              }\r\n            })\r\n\r\n            if (defaultValue) {\r\n\r\n              return resolve({\r\n                displayValue: defaultValue,\r\n                displayName,\r\n                dbId\r\n              })\r\n            }\r\n\r\n            reject(new Error('Not Found'))\r\n\r\n          } else {\r\n\r\n            reject(new Error('Error getting properties'));\r\n          }\r\n        })\r\n\r\n      } catch(ex){\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Gets all existing properties from component  dbIds\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getPropertyList (viewer, dbIds, model = null) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      try {\r\n\r\n        model = model || viewer.activeModel || viewer.model\r\n\r\n        var propertyTasks = dbIds.map((dbId) => {\r\n\r\n          return Toolkit.getProperties(model, dbId)\r\n        })\r\n\r\n        var propertyResults = await Promise.all(\r\n          propertyTasks)\r\n\r\n        var properties = []\r\n\r\n        propertyResults.forEach((propertyResult) => {\r\n\r\n          propertyResult.forEach((prop) => {\r\n\r\n            if (properties.indexOf(prop.displayName) < 0){\r\n\r\n              properties.push(prop.displayName)\r\n            }\r\n          })\r\n        })\r\n\r\n        return resolve(properties.sort())\r\n\r\n      } catch (ex) {\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getBulkPropertiesAsync (model, dbIds, propFilter) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      if (typeof propFilter === 'function') {\r\n\r\n        const propTasks = dbIds.map((dbId) => {\r\n\r\n          return this.getProperty(\r\n            model, dbId, propFilter, 'Not Found')\r\n        })\r\n\r\n        const propRes = await Promise.all(propTasks)\r\n\r\n        const filteredRes = propRes.filter((res) => {\r\n\r\n          return res.displayValue !== 'Not Found'\r\n        })\r\n\r\n        resolve(filteredRes.map((res) => {\r\n\r\n          return {\r\n            properties: [res],\r\n            dbId: res.dbId\r\n          }\r\n        }))\r\n\r\n      } else {\r\n\r\n        const propFilterArray = Array.isArray (propFilter)\r\n          ? propFilter :[propFilter]\r\n\r\n\r\n        model.getBulkProperties(dbIds, propFilterArray, (result) => {\r\n\r\n          resolve (result)\r\n\r\n        }, (error) => {\r\n\r\n          reject(error)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Maps components by property\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static mapComponentsByProp (model, propFilter, components, defaultProp) {\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const results = await Toolkit.getBulkPropertiesAsync(\r\n          model, components, propFilter)\r\n\r\n        const propertyResults = results.map((result) => {\r\n\r\n          const prop = result.properties[0]\r\n\r\n          return Object.assign({}, prop, {\r\n            dbId: result.dbId\r\n          })\r\n        })\r\n\r\n        var componentsMap = {};\r\n\r\n        propertyResults.forEach((result) => {\r\n\r\n          var value = result.displayValue;\r\n\r\n          if (typeof value == 'string') {\r\n\r\n            value = value.split(':')[0]\r\n          }\r\n\r\n          if (!componentsMap[value]) {\r\n\r\n            componentsMap[value] = []\r\n          }\r\n\r\n          componentsMap[value].push(result.dbId)\r\n        })\r\n\r\n        return resolve(componentsMap)\r\n\r\n      } catch (ex) {\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  // Runs recursively the argument task on each node\r\n  // of the data tree\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  static runTaskOnDataTree(root, taskFunc) {\r\n\r\n    var tasks = [];\r\n\r\n    var runTaskOnDataTreeRec = (node, parent=null)=> {\r\n\r\n      if (node.children) {\r\n\r\n        node.children.forEach((childNode)=> {\r\n\r\n          runTaskOnDataTreeRec(childNode, node);\r\n        });\r\n      }\r\n\r\n      var task = taskFunc(node, parent);\r\n\r\n      tasks.push(task);\r\n    }\r\n\r\n    runTaskOnDataTreeRec(root);\r\n\r\n    return Promise.all(tasks);\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static drawBox (viewer, min, max, material, overlayId) {\r\n\r\n    const geometry = new THREE.Geometry()\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, max.z))\r\n\r\n    const lines = new THREE.Line(geometry,\r\n      material, THREE.LinePieces)\r\n\r\n    viewer.impl.addOverlay(overlayId, lines)\r\n\r\n    viewer.impl.invalidate(\r\n      true, true, true)\r\n\r\n    return lines\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Set component material\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static async setMaterial(model, dbId, material) {\r\n\r\n    const fragIds = await Toolkit.getFragIds(\r\n      model, dbId)\r\n\r\n    const fragList = model.getFragmentList()\r\n\r\n    fragIds.forEach((fragId) => {\r\n\r\n      fragList.setMaterial(fragId, material)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Recursively builds the model tree\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static buildModelTree (model, createNodeFunc = null){\r\n\r\n    //builds model tree recursively\r\n    function _buildModelTreeRec(node){\r\n\r\n      instanceTree.enumNodeChildren(node.dbId,\r\n        function(childId) {\r\n\r\n          var childNode = null;\r\n\r\n          if(createNodeFunc){\r\n\r\n            childNode = createNodeFunc(childId);\r\n\r\n          } else {\r\n\r\n            node.children = node.children || [];\r\n\r\n            childNode = {\r\n              dbId: childId,\r\n              name: instanceTree.getNodeName(childId)\r\n            }\r\n\r\n            node.children.push(childNode)\r\n          }\r\n\r\n          _buildModelTreeRec(childNode)\r\n        })\r\n    }\r\n\r\n    //get model instance tree and root component\r\n    var instanceTree = model.getData().instanceTree\r\n\r\n    var rootId = instanceTree.getRootId()\r\n\r\n    var rootNode = {\r\n      dbId: rootId,\r\n      name: instanceTree.getNodeName(rootId)\r\n    }\r\n\r\n    _buildModelTreeRec(rootNode)\r\n\r\n    return rootNode\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Recursively execute task on model tree\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static executeTaskOnModelTree (model, task) {\r\n\r\n    var taskResults = [];\r\n\r\n    function _executeTaskOnModelTreeRec(dbId){\r\n\r\n      instanceTree.enumNodeChildren(dbId,\r\n        function(childId) {\r\n\r\n          taskResults.push(task(model, childId));\r\n\r\n          _executeTaskOnModelTreeRec(childId);\r\n        });\r\n    }\r\n\r\n    //get model instance tree and root component\r\n    var instanceTree = model.getData().instanceTree;\r\n\r\n    var rootId = instanceTree.getRootId();\r\n\r\n    _executeTaskOnModelTreeRec(rootId);\r\n\r\n    return taskResults;\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static hide (viewer, dbIds = [], model = null) {\r\n\r\n    try {\r\n\r\n      model = model || viewer.activeModel || viewer.model\r\n\r\n      viewer.hide (dbIds)\r\n\r\n      const targetIds = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n      const tasks = targetIds.map((dbId) => {\r\n\r\n        return new Promise((resolve) => {\r\n\r\n          viewer.impl.visibilityManager.setNodeOff(\r\n            dbId, true)\r\n\r\n          resolve()\r\n        })\r\n      })\r\n\r\n      return Promise.all(tasks)\r\n\r\n    } catch (ex) {\r\n\r\n      return Promise.reject(ex)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static show (viewer, dbIds = [], model = null) {\r\n\r\n    try {\r\n\r\n      model = model || viewer.activeModel || viewer.model\r\n\r\n      viewer.show (dbIds)\r\n\r\n      const targetIds = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n      targetIds.forEach((dbId) => {\r\n\r\n        viewer.impl.visibilityManager.setNodeOff(\r\n          dbId, false)\r\n      })\r\n\r\n      return Promise.resolve()\r\n\r\n    } catch (ex) {\r\n\r\n      return Promise.reject(ex)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static async isolateFull (viewer, dbIds = [], model = null) {\r\n\r\n    try {\r\n\r\n      model = model || viewer.activeModel || viewer.model\r\n\r\n      viewer.isolate(dbIds)\r\n\r\n      const targetIds = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n      const targetLeafIds = await Toolkit.getLeafNodes(\r\n        model, targetIds)\r\n\r\n      const leafIds = await Toolkit.getLeafNodes (model)\r\n\r\n      const leafTasks = leafIds.map((dbId) => {\r\n\r\n        return new Promise((resolveLeaf) => {\r\n\r\n          const show = !targetLeafIds.length  ||\r\n            targetLeafIds.indexOf(dbId) > -1\r\n\r\n          viewer.impl.visibilityManager.setNodeOff(\r\n            dbId, !show)\r\n\r\n          resolveLeaf()\r\n        })\r\n      })\r\n\r\n      return Promise.all(leafTasks)\r\n\r\n    } catch (ex) {\r\n\r\n      return Promise.reject(ex)\r\n    }\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  // Rotate selected fragments\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  static rotateFragments (viewer, fragIds, axis, angle, center, model = null) {\r\n\r\n    var quaternion = new THREE.Quaternion()\r\n\r\n    quaternion.setFromAxisAngle(axis, angle)\r\n\r\n    model = model || viewer.activeModel || viewer.model\r\n\r\n    fragIds.forEach((fragId) => {\r\n\r\n      var fragProxy = viewer.impl.getFragmentProxy(\r\n        model, fragId)\r\n\r\n      fragProxy.getAnimTransform()\r\n\r\n      var position = new THREE.Vector3(\r\n        fragProxy.position.x - center.x,\r\n        fragProxy.position.y - center.y,\r\n        fragProxy.position.z - center.z)\r\n\r\n      position.applyQuaternion(quaternion)\r\n\r\n      position.add(center)\r\n\r\n      fragProxy.position = position\r\n\r\n      fragProxy.quaternion.multiplyQuaternions(\r\n        quaternion, fragProxy.quaternion)\r\n\r\n      fragProxy.updateAnimTransform()\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // A fix for viewer.restoreState\r\n  // that also restores pivotPoint\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static restoreStateWithPivot (\r\n    viewer, state, filter = null, immediate = false) {\r\n\r\n    const onStateRestored = () => {\r\n\r\n      viewer.removeEventListener(\r\n        Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\r\n        onStateRestored)\r\n\r\n      const pivot = state.viewport.pivotPoint\r\n\r\n      setTimeout(() => {\r\n\r\n        viewer.navigation.setPivotPoint(\r\n          new THREE.Vector3(\r\n            pivot[0], pivot[1], pivot[2]))\r\n      }, immediate ? 0 : 1250)\r\n    }\r\n\r\n    viewer.addEventListener(\r\n      Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\r\n      onStateRestored)\r\n\r\n    viewer.restoreState(state, filter, immediate)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getComponentsByParentName (name, model) {\r\n\r\n    const instanceTree = model.getData().instanceTree\r\n\r\n    const rootId = instanceTree.getRootId()\r\n\r\n    let parentId = 0\r\n\r\n    instanceTree.enumNodeChildren(rootId,\r\n      (childId) => {\r\n\r\n        const nodeName = instanceTree.getNodeName(childId)\r\n\r\n        if (nodeName.indexOf(name) > -1) {\r\n\r\n          parentId = childId\r\n        }\r\n      })\r\n\r\n    return parentId > 0\r\n      ? Toolkit.getLeafNodes(model, parentId)\r\n      : []\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Creates a standard THREE.Mesh out of a Viewer\r\n  // component\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static buildComponentMesh (\r\n    viewer, model, dbId, faceFilter, material) {\r\n\r\n    const vertexArray = []\r\n\r\n    // first we assume the component dbId is a leaf\r\n    // component: ie has no child so contains\r\n    // geometry. This util method will return all fragIds\r\n    // associated with that specific dbId\r\n    const fragIds = Toolkit.getLeafFragIds(model, dbId)\r\n\r\n    let matrixWorld = null\r\n\r\n    const meshGeometry = new THREE.Geometry()\r\n\r\n    fragIds.forEach((fragId) => {\r\n\r\n      // for each fragId, get the proxy in order to access\r\n      // THREE geometry\r\n      const renderProxy =\r\n        viewer.impl.getRenderProxy(\r\n          model, fragId)\r\n\r\n      matrixWorld = matrixWorld ||\r\n      renderProxy.matrixWorld\r\n\r\n      const geometry = renderProxy.geometry\r\n\r\n      const attributes = geometry.attributes\r\n\r\n      const positions = geometry.vb\r\n        ? geometry.vb\r\n        : attributes.position.array\r\n\r\n      const indices = attributes.index.array || geometry.ib\r\n\r\n      const stride = geometry.vb ? geometry.vbstride : 3\r\n\r\n      const offsets = [{\r\n        count: indices.length,\r\n        index: 0,\r\n        start: 0\r\n      }]\r\n\r\n      for (var oi = 0, ol = offsets.length; oi < ol; ++oi) {\r\n\r\n        var start = offsets[oi].start\r\n        var count = offsets[oi].count\r\n        var index = offsets[oi].index\r\n\r\n        for (var i = start, il = start + count; i < il; i += 3) {\r\n\r\n          const a = index + indices[i]\r\n          const b = index + indices[i + 1]\r\n          const c = index + indices[i + 2]\r\n\r\n          const vA = new THREE.Vector3()\r\n          const vB = new THREE.Vector3()\r\n          const vC = new THREE.Vector3()\r\n\r\n          vA.fromArray(positions, a * stride)\r\n          vB.fromArray(positions, b * stride)\r\n          vC.fromArray(positions, c * stride)\r\n\r\n          if (!faceFilter || faceFilter(vA, vB, vC)) {\r\n\r\n            const faceIdx = meshGeometry.vertices.length\r\n\r\n            meshGeometry.vertices.push(vA)\r\n            meshGeometry.vertices.push(vB)\r\n            meshGeometry.vertices.push(vC)\r\n\r\n            const face = new THREE.Face3(\r\n              faceIdx, faceIdx + 1, faceIdx + 2)\r\n\r\n            meshGeometry.faces.push(face)\r\n          }\r\n        }\r\n      }\r\n    })\r\n\r\n    meshGeometry.applyMatrix(matrixWorld)\r\n    meshGeometry.computeFaceNormals()\r\n    meshGeometry.computeVertexNormals()\r\n\r\n    // creates THREE.Mesh\r\n    const mesh = new THREE.Mesh(\r\n      meshGeometry, material)\r\n\r\n    mesh.dbId = dbId\r\n\r\n    return mesh\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static selectiveExplode (viewer, scale, excludedFragIds, model = null) {\r\n\r\n    model = model || viewer.activeModel || viewer.model\r\n\r\n    var svf = model.getData();\r\n\r\n    var mc = model.getVisibleBounds(true).center();\r\n\r\n    var fragList = model.getFragmentList();\r\n\r\n    var pt = new THREE.Vector3();\r\n\r\n    //Input scale is in the range 0-1, where 0\r\n    //means no displacement, and 1 maximum reasonable displacement.\r\n    scale *= 2;\r\n\r\n    //If we have a full part hierarchy we can use a\r\n    //better grouping strategy when exploding\r\n    if (svf.instanceTree && svf.instanceTree.nodeAccess.nodeBoxes && scale !== 0) {\r\n\r\n      var scaledExplodeDepth = scale * (svf.instanceTree.maxDepth - 1) + 1;\r\n      var explodeDepth = 0 | scaledExplodeDepth;\r\n      var currentSegmentFraction = scaledExplodeDepth - explodeDepth;\r\n\r\n      var it = svf.instanceTree;\r\n      var tmpBox = new Float32Array(6);\r\n\r\n      (function explodeRec(nodeId, depth, cx, cy, cz, ox, oy, oz) {\r\n\r\n        var oscale = scale * 2;\r\n\r\n        // smooth transition of this tree depth\r\n        // from non-exploded to exploded state\r\n        if (depth == explodeDepth)\r\n          oscale *= currentSegmentFraction;\r\n\r\n        it.getNodeBox(nodeId, tmpBox);\r\n\r\n        var mycx = 0.5 * (tmpBox[0] + tmpBox[3]);\r\n        var mycy = 0.5 * (tmpBox[1] + tmpBox[4]);\r\n        var mycz = 0.5 * (tmpBox[2] + tmpBox[5]);\r\n\r\n        if (depth > 0 && depth <= explodeDepth) {\r\n          var dx = (mycx - cx) * oscale;\r\n          var dy = (mycy - cy) * oscale;\r\n          var dz = (mycz - cz) * oscale;\r\n\r\n          //var omax = Math.max(dx, Math.max(dy, dz));\r\n          ox += dx;\r\n          oy += dy;\r\n          oz += dz;\r\n        }\r\n\r\n        svf.instanceTree.enumNodeChildren(nodeId, function(dbId) {\r\n\r\n          explodeRec(dbId, depth+1, mycx, mycy, mycz, ox, oy, oz);\r\n\r\n        }, false);\r\n\r\n        svf.instanceTree.enumNodeFragments(nodeId, function(fragId) {\r\n\r\n          if (excludedFragIds.indexOf(fragId.toString()) < 0) {\r\n\r\n            pt.x = ox;\r\n            pt.y = oy;\r\n            pt.z = oz;\r\n\r\n            fragList.updateAnimTransform(fragId, null, null, pt);\r\n          }\r\n\r\n        }, false);\r\n\r\n      })(svf.instanceTree.getRootId(), 0, mc.x, mc.y, mc.x, 0, 0, 0);\r\n\r\n    } else {\r\n\r\n      var boxes = fragList.fragments.boxes;\r\n\r\n      var nbFrags = fragList.getCount()\r\n\r\n      for (var fragId = 0; fragId < nbFrags; ++fragId) {\r\n\r\n        if(excludedFragIds.indexOf(fragId.toString()) < 0) {\r\n\r\n          if (scale == 0) {\r\n\r\n            fragList.updateAnimTransform(fragId);\r\n\r\n          } else {\r\n\r\n            var box_offset = fragId * 6;\r\n\r\n            var cx = 0.5 * (boxes[box_offset] + boxes[box_offset + 3]);\r\n            var cy = 0.5 * (boxes[box_offset + 1] + boxes[box_offset + 4]);\r\n            var cz = 0.5 * (boxes[box_offset + 2] + boxes[box_offset + 5]);\r\n\r\n            cx = scale * (cx - mc.x);\r\n            cy = scale * (cy - mc.y);\r\n            cz = scale * (cz - mc.z);\r\n\r\n            pt.x = cx;\r\n            pt.y = cy;\r\n            pt.z = cz;\r\n\r\n            fragList.updateAnimTransform(fragId, null, null, pt);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Toolkit/Viewer.Toolkit.js","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".switch-container {\\n  position: relative; }\\n\\n.switch-container *:hover {\\n  cursor: pointer; }\\n\\n.switch-container.disabled *:hover {\\n  cursor: not-allowed; }\\n\\ninput[type=\\\"checkbox\\\"].switch {\\n  pointer-events: none;\\n  position: absolute;\\n  cursor: pointer;\\n  opacity: 0; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  vertical-align: middle;\\n  width: 40px;\\n  height: 20px;\\n  border-radius: 999px;\\n  background-color: #9d9d9d;\\n  transition-duration: .4s;\\n  transition-property: background-color, box-shadow;\\n  cursor: pointer; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span {\\n  position: absolute;\\n  font-size: 1.6rem;\\n  color: #f5f5f5;\\n  margin-top: 12px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(1) {\\n  margin-left: 15px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(2) {\\n  margin-left: 55px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div {\\n  width: 60px;\\n  background-position: 0 0;\\n  background-color: #57BB00; }\\n\\n.switch-container.disabled input[type=\\\"checkbox\\\"].switch + div {\\n  background-color: rgba(157, 157, 157, 0.5); }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  width: 60px;\\n  height: 26px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div > div {\\n  float: left;\\n  width: 24px;\\n  height: 24px;\\n  border-radius: inherit;\\n  background: #f5f5f5;\\n  transition-timing-function: cubic-bezier(1, 0, 0, 1);\\n  transition-duration: 0.4s;\\n  transition-property: background-color, -webkit-transform;\\n  transition-property: transform, background-color;\\n  transition-property: transform, background-color, -webkit-transform;\\n  pointer-events: none;\\n  margin-top: 1px;\\n  margin-left: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(20px, 0, 0);\\n  transform: translate3d(20px, 0, 0);\\n  background-color: #f5f5f5; }\\n\\ninput[type=\\\"checkbox\\\"].bigswitch.switch + div > div {\\n  width: 44px;\\n  height: 44px;\\n  margin-top: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(34px, 0, 0);\\n  transform: translate3d(34px, 0, 0); }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/Switch/Switch.scss\n// module id = 1026\n// module chunks = 11 13 14 15 19 21 24 28 31 32 36 38","import WidgetContainer from './WidgetContainer'\r\n\r\nexport default WidgetContainer\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/WidgetContainer/index.js","import PropTypes from 'prop-types'\r\nimport ReactDOM from 'react-dom'\r\nimport './WidgetContainer.scss'\r\nimport React from 'react'\r\n\r\nclass WidgetContainer extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    showTitle: PropTypes.bool\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    showTitle: true,\r\n    className: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderTitle () {\r\n\r\n    if (!this.props.showTitle) {\r\n\r\n      return <div/>\r\n    }\r\n\r\n    if (this.props.renderTitle) {\r\n\r\n      return this.props.renderTitle()\r\n    }\r\n\r\n    return (\r\n      <div className=\"title\">\r\n        <label>\r\n          { this.props.title }\r\n        </label>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  renderChildren() {\r\n\r\n    if (this.props.dimensions) {\r\n\r\n      return React.Children.map(this.props.children, (child) => {\r\n\r\n        const newProps = Object.assign({},\r\n          child.props, {\r\n            dimensions: this.props.dimensions\r\n          })\r\n\r\n        return React.cloneElement(child, newProps)\r\n      })\r\n    }\r\n\r\n    return this.props.children\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  render() {\r\n\r\n    const classNames = [\r\n      'widget-container',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    const height = this.props.showTitle\r\n      ? 'calc(100% - 40px)'\r\n      : '100%'\r\n\r\n    return (\r\n      <div className={classNames.join(' ')} style={this.props.style}>\r\n         { this.renderTitle() }\r\n        <div className=\"content\" style={{height}}>\r\n          {this.renderChildren()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WidgetContainer\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/WidgetContainer/WidgetContainer.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/WidgetContainer/WidgetContainer.scss\n// module id = 1031\n// module chunks = 0 10 11 12 13 14 15 16 19 21 24 25 26 28 29 31 32 33 35 36 37 39 40",";(function(factory) {\n    'use strict';\n    /* global window: false, define: false, module: false */\n    var root = typeof window === 'undefined' ? null : window;\n\n    if (typeof define === 'function' && define.amd) {\n        define(function(){ return factory(root); });\n    } else if (typeof module !== 'undefined') {\n        module.exports = factory(root);\n    } else {\n        root.DOMPurify = factory(root);\n    }\n}(function factory(window) {\n    'use strict';\n\n    var DOMPurify = function(window) {\n        return factory(window);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '0.8.9';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n        // not running in a browser, provide a factory function\n        // so that you can pass your own Window\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n    }\n\n    var document = window.document;\n    var originalDocument = document;\n    var DocumentFragment = window.DocumentFragment;\n    var HTMLTemplateElement = window.HTMLTemplateElement;\n    var Node = window.Node;\n    var NodeFilter = window.NodeFilter;\n    var NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap;\n    var Text = window.Text;\n    var Comment = window.Comment;\n    var DOMParser = window.DOMParser;\n    var useDOMParser = false; // See comment below\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n            document = template.content.ownerDocument;\n        }\n    }\n    var implementation = document.implementation;\n    var createNodeIterator = document.createNodeIterator;\n    var getElementsByTagName = document.getElementsByTagName;\n    var createDocumentFragment = document.createDocumentFragment;\n    var importNode = originalDocument.importNode;\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported =\n        typeof implementation.createHTMLDocument !== 'undefined' &&\n        document.documentMode !== 9;\n\n    /* Add properties to a lookup table */\n    var _addToSet = function(set, array) {\n        var l = array.length;\n        while (l--) {\n            if (typeof array[l] === 'string') {\n                array[l] = array[l].toLowerCase();\n            }\n            set[array[l]] = true;\n        }\n        return set;\n    };\n\n    /* Shallow clone an object */\n    var _cloneObj = function(object) {\n        var newObject = {};\n        var property;\n        for (property in object) {\n            if (object.hasOwnProperty(property)) {\n                newObject[property] = object[property];\n            }\n        }\n        return newObject;\n    };\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = _addToSet({}, [\n\n        // HTML\n        'a','abbr','acronym','address','area','article','aside','audio','b',\n        'bdi','bdo','big','blink','blockquote','body','br','button','canvas',\n        'caption','center','cite','code','col','colgroup','content','data',\n        'datalist','dd','decorator','del','details','dfn','dir','div','dl','dt',\n        'element','em','fieldset','figcaption','figure','font','footer','form',\n        'h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i',\n        'img','input','ins','kbd','label','legend','li','main','map','mark',\n        'marquee','menu','menuitem','meter','nav','nobr','ol','optgroup',\n        'option','output','p','pre','progress','q','rp','rt','ruby','s','samp',\n        'section','select','shadow','small','source','spacer','span','strike',\n        'strong','style','sub','summary','sup','table','tbody','td','template',\n        'textarea','tfoot','th','thead','time','tr','track','tt','u','ul','var',\n        'video','wbr',\n\n        // SVG\n        'svg','altglyph','altglyphdef','altglyphitem','animatecolor',\n        'animatemotion','animatetransform','circle','clippath','defs','desc',\n        'ellipse','filter','font','g','glyph','glyphref','hkern','image','line',\n        'lineargradient','marker','mask','metadata','mpath','path','pattern',\n        'polygon','polyline','radialgradient','rect','stop','switch','symbol',\n        'text','textpath','title','tref','tspan','view','vkern',\n\n        // SVG Filters\n        'feBlend','feColorMatrix','feComponentTransfer','feComposite',\n        'feConvolveMatrix','feDiffuseLighting','feDisplacementMap',\n        'feFlood','feFuncA','feFuncB','feFuncG','feFuncR','feGaussianBlur',\n        'feMerge','feMergeNode','feMorphology','feOffset',\n        'feSpecularLighting','feTile','feTurbulence',\n\n        //MathML\n        'math','menclose','merror','mfenced','mfrac','mglyph','mi','mlabeledtr',\n        'mmuliscripts','mn','mo','mover','mpadded','mphantom','mroot','mrow',\n        'ms','mpspace','msqrt','mystyle','msub','msup','msubsup','mtable','mtd',\n        'mtext','mtr','munder','munderover',\n\n        //Text\n        '#text'\n    ]);\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = _addToSet({}, [\n\n        // HTML\n        'accept','action','align','alt','autocomplete','background','bgcolor',\n        'border','cellpadding','cellspacing','checked','cite','class','clear','color',\n        'cols','colspan','coords','datetime','default','dir','disabled',\n        'download','enctype','face','for','headers','height','hidden','high','href',\n        'hreflang','id','ismap','label','lang','list','loop', 'low','max',\n        'maxlength','media','method','min','multiple','name','noshade','novalidate',\n        'nowrap','open','optimum','pattern','placeholder','poster','preload','pubdate',\n        'radiogroup','readonly','rel','required','rev','reversed','role','rows',\n        'rowspan','spellcheck','scope','selected','shape','size','span',\n        'srclang','start','src','step','style','summary','tabindex','title',\n        'type','usemap','valign','value','width','xmlns',\n\n        // SVG\n        'accent-height','accumulate','additivive','alignment-baseline',\n        'ascent','attributename','attributetype','azimuth','basefrequency',\n        'baseline-shift','begin','bias','by','clip','clip-path','clip-rule',\n        'color','color-interpolation','color-interpolation-filters','color-profile',\n        'color-rendering','cx','cy','d','dx','dy','diffuseconstant','direction',\n        'display','divisor','dur','edgemode','elevation','end','fill','fill-opacity',\n        'fill-rule','filter','flood-color','flood-opacity','font-family','font-size',\n        'font-size-adjust','font-stretch','font-style','font-variant','font-weight',\n        'fx', 'fy','g1','g2','glyph-name','glyphref','gradientunits','gradienttransform',\n        'image-rendering','in','in2','k','k1','k2','k3','k4','kerning','keypoints',\n        'keysplines','keytimes','lengthadjust','letter-spacing','kernelmatrix',\n        'kernelunitlength','lighting-color','local','marker-end','marker-mid',\n        'marker-start','markerheight','markerunits','markerwidth','maskcontentunits',\n        'maskunits','max','mask','mode','min','numoctaves','offset','operator',\n        'opacity','order','orient','orientation','origin','overflow','paint-order',\n        'path','pathlength','patterncontentunits','patterntransform','patternunits',\n        'points','preservealpha','r','rx','ry','radius','refx','refy','repeatcount',\n        'repeatdur','restart','result','rotate','scale','seed','shape-rendering',\n        'specularconstant','specularexponent','spreadmethod','stddeviation','stitchtiles',\n        'stop-color','stop-opacity','stroke-dasharray','stroke-dashoffset','stroke-linecap',\n        'stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke','stroke-width',\n        'surfacescale','targetx','targety','transform','text-anchor','text-decoration',\n        'text-rendering','textlength','u1','u2','unicode','values','viewbox',\n        'visibility','vert-adv-y','vert-origin-x','vert-origin-y','word-spacing',\n        'wrap','writing-mode','xchannelselector','ychannelselector','x','x1','x2',\n        'y','y1','y2','z','zoomandpan',\n\n        // MathML\n        'accent','accentunder','bevelled','close','columnsalign','columnlines',\n        'columnspan','denomalign','depth','display','displaystyle','fence',\n        'frame','largeop','length','linethickness','lspace','lquote',\n        'mathbackground','mathcolor','mathsize','mathvariant','maxsize',\n        'minsize','movablelimits','notation','numalign','open','rowalign',\n        'rowlines','rowspacing','rowspan','rspace','rquote','scriptlevel',\n        'scriptminsize','scriptsizemultiplier','selection','separator',\n        'separators','stretchy','subscriptshift','supscriptshift','symmetric',\n        'voffset',\n\n        // XML\n        'xlink:href','xml:id','xlink:title','xml:space','xmlns:xlink'\n    ]);\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    var ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Output should be safe for jQuery's $() factory? */\n    var SAFE_FOR_JQUERY = false;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Specify template detection regex for SAFE_FOR_TEMPLATES mode */\n    var MUSTACHE_EXPR = /\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm;\n    var ERB_EXPR = /<%[\\s\\S]*|[\\s\\S]*%>/gm;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    var FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html string.\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html string */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n     * `Node` is imported into the current `Document`. If this flag is not enabled the\n     * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n     * DOMPurify. */\n    var RETURN_DOM_IMPORT = false;\n\n    /* Output should be free from DOM clobbering attacks? */\n    var SANITIZE_DOM = true;\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = _addToSet({}, [\n        'audio', 'head', 'math', 'script', 'style', 'template', 'svg', 'video'\n    ]);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = _addToSet({}, [\n        'audio', 'video', 'img', 'source', 'image'\n    ]);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = _addToSet({}, [\n        'alt','class','for','id','label','name','pattern','placeholder',\n        'summary','title','value','style','xmlns'\n    ]);\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    /**\n     * _parseConfig\n     *\n     * @param  optional config literal\n     */\n    var _parseConfig = function(cfg) {\n        /* Shield configuration object from tampering */\n        if (typeof cfg !== 'object') {\n            cfg = {};\n        }\n\n        /* Set configuration parameters */\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ?\n            _addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ?\n            _addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ?\n            _addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ?\n            _addToSet({}, cfg.FORBID_ATTR) : {};\n        ALLOW_ARIA_ATTR     = cfg.ALLOW_ARIA_ATTR     !== false; // Default true\n        ALLOW_DATA_ATTR     = cfg.ALLOW_DATA_ATTR     !== false; // Default true\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n        SAFE_FOR_JQUERY     = cfg.SAFE_FOR_JQUERY     ||  false; // Default false\n        SAFE_FOR_TEMPLATES  = cfg.SAFE_FOR_TEMPLATES  ||  false; // Default false\n        WHOLE_DOCUMENT      = cfg.WHOLE_DOCUMENT      ||  false; // Default false\n        RETURN_DOM          = cfg.RETURN_DOM          ||  false; // Default false\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT ||  false; // Default false\n        RETURN_DOM_IMPORT   = cfg.RETURN_DOM_IMPORT   ||  false; // Default false\n        FORCE_BODY          = cfg.FORCE_BODY          ||  false; // Default false\n        SANITIZE_DOM        = cfg.SANITIZE_DOM        !== false; // Default true\n        KEEP_CONTENT        = cfg.KEEP_CONTENT        !== false; // Default true\n\n        if (SAFE_FOR_TEMPLATES) {\n            ALLOW_DATA_ATTR = false;\n        }\n\n        if (RETURN_DOM_FRAGMENT) {\n            RETURN_DOM = true;\n        }\n\n        /* Merge configuration parameters */\n        if (cfg.ADD_TAGS) {\n            if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n                ALLOWED_TAGS = _cloneObj(ALLOWED_TAGS);\n            }\n            _addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n            if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n                ALLOWED_ATTR = _cloneObj(ALLOWED_ATTR);\n            }\n            _addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n            _addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n\n        /* Add #text in case KEEP_CONTENT is set to true */\n        if (KEEP_CONTENT) { ALLOWED_TAGS['#text'] = true; }\n\n        // Prevent further manipulation of configuration.\n        // Not available in IE8, Safari 5, etc.\n        if (Object && 'freeze' in Object) { Object.freeze(cfg); }\n\n        CONFIG = cfg;\n    };\n\n   /**\n     * _forceRemove\n     *\n     * @param  a DOM node\n     */\n    var _forceRemove = function(node) {\n        DOMPurify.removed.push({element: node});\n        try {\n            node.parentNode.removeChild(node);\n        } catch (e) {\n            node.outerHTML = '';\n        }\n    };\n\n   /**\n     * _removeAttribute\n     *\n     * @param  an Attribute name\n     * @param  a DOM node\n     */\n    var _removeAttribute = function(name, node) {\n        DOMPurify.removed.push({\n            attribute: node.getAttributeNode(name),\n            from: node\n        });\n        node.removeAttribute(name);\n    };\n\n   /**\n     * _initDocument\n     *\n     * @param  a string of dirty markup\n     * @return a DOM, filled with the dirty markup\n     */\n    var _initDocument = function(dirty) {\n        /* Create a HTML document */\n        var doc, body;\n\n        /* Fill body with bogus element */\n        if (FORCE_BODY) {\n            dirty = '<remove></remove>' + dirty;\n        }\n\n        /* Use DOMParser to workaround Firefox bug (see comment below) */\n        if (useDOMParser) {\n            try {\n                doc = new DOMParser().parseFromString(dirty, 'text/html');\n            } catch (e) {}\n        }\n\n        /* Otherwise use createHTMLDocument, because DOMParser is unsafe in\n           Safari (see comment below) */\n        if (!doc || !doc.documentElement) {\n            doc = implementation.createHTMLDocument('');\n            body = doc.body;\n            body.parentNode.removeChild(body.parentNode.firstElementChild);\n            body.outerHTML = dirty;\n        }\n\n        /* Work on whole document or just its body */\n        return getElementsByTagName.call(doc,\n            WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    };\n\n    // Safari 10.1+ (unfixed as of time of writing) has a catastrophic bug in\n    // its implementation of DOMParser such that the following executes the\n    // JavaScript:\n    //\n    // new DOMParser()\n    //   .parseFromString('<svg onload=alert(document.domain)>', 'text/html');\n    //\n    // However, Firefox uses a different parser for innerHTML rather than\n    // DOMParser (see https://bugzilla.mozilla.org/show_bug.cgi?id=1205631)\n    // which means that you *must* use DOMParser, otherwise the output may\n    // not be safe if used in a document.write context later.\n    //\n    // So we feature detect the Firefox bug and use the DOMParser if necessary.\n    if (DOMPurify.isSupported) {\n        (function () {\n            var doc = _initDocument('<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">');\n            if (doc.querySelector('svg img')) {\n                useDOMParser = true;\n            }\n        }());\n    }\n\n    /**\n     * _createIterator\n     *\n     * @param  document/fragment to create iterator for\n     * @return iterator instance\n     */\n    var _createIterator = function(root) {\n        return createNodeIterator.call(root.ownerDocument || root,\n            root,\n            NodeFilter.SHOW_ELEMENT\n            | NodeFilter.SHOW_COMMENT\n            | NodeFilter.SHOW_TEXT,\n            function() { return NodeFilter.FILTER_ACCEPT; },\n            false\n        );\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  element to check for clobbering attacks\n     * @return true if clobbered, false if safe\n     */\n    var _isClobbered = function(elm) {\n        if (elm instanceof Text || elm instanceof Comment) {\n            return false;\n        }\n        if (  typeof elm.nodeName !== 'string'\n           || typeof elm.textContent !== 'string'\n           || typeof elm.removeChild !== 'function'\n           || !(elm.attributes instanceof NamedNodeMap)\n           || typeof elm.removeAttribute !== 'function'\n           || typeof elm.setAttribute !== 'function'\n        ) {\n            return true;\n        }\n        return false;\n    };\n\n    /**\n     * _isNode\n     *\n     * @param object to check whether it's a DOM node\n     * @return true is object is a DOM node\n     */\n    var _isNode = function(obj) {\n        return (\n            typeof Node === \"object\" ? obj instanceof Node : obj\n                && typeof obj === \"object\" && typeof obj.nodeType === \"number\"\n                && typeof obj.nodeName===\"string\"\n        );\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   node to check for permission to exist\n     * @return  true if node was killed, false if left alive\n     */\n    var _sanitizeElements = function(currentNode) {\n        var tagName, content;\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeElements', currentNode, null);\n\n        /* Check if element is clobbered or can clobber */\n        if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Now let's check the element's type and name */\n        tagName = currentNode.nodeName.toLowerCase();\n\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeElement', currentNode, {\n            tagName: tagName,\n            allowedTags: ALLOWED_TAGS\n        });\n\n        /* Remove element if anything forbids its presence */\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            /* Keep content except for black-listed elements */\n            if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]\n                    && typeof currentNode.insertAdjacentHTML === 'function') {\n                try {\n                    currentNode.insertAdjacentHTML('AfterEnd', currentNode.innerHTML);\n                } catch (e) {}\n            }\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Convert markup to cover jQuery behavior */\n        if (SAFE_FOR_JQUERY && !currentNode.firstElementChild &&\n                (!currentNode.content || !currentNode.content.firstElementChild) &&\n                /</g.test(currentNode.textContent)) {\n            DOMPurify.removed.push({element: currentNode.cloneNode()});\n            currentNode.innerHTML = currentNode.textContent.replace(/</g, '&lt;');\n        }\n\n        /* Sanitize element content to be template-safe */\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n            /* Get the element's text content */\n            content = currentNode.textContent;\n            content = content.replace(MUSTACHE_EXPR, ' ');\n            content = content.replace(ERB_EXPR, ' ');\n            if (currentNode.textContent !== content) {\n                DOMPurify.removed.push({element: currentNode.cloneNode()});\n                currentNode.textContent = content;\n            }\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeElements', currentNode, null);\n\n        return false;\n    };\n\n    var DATA_ATTR = /^data-[\\-\\w.\\u00B7-\\uFFFF]/;\n    var ARIA_ATTR = /^aria-[\\-\\w]+$/;\n    var IS_ALLOWED_URI = /^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i;\n    var IS_SCRIPT_OR_DATA = /^(?:\\w+script|data):/i;\n    /* This needs to be extensive thanks to Webkit/Blink's behavior */\n    var ATTR_WHITESPACE = /[\\x00-\\x20\\xA0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g;\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param   node to sanitize\n     * @return  void\n     */\n    var _sanitizeAttributes = function(currentNode) {\n        var attr, name, value, lcName, idAttr, attributes, hookEvent, l;\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n        attributes = currentNode.attributes;\n\n        /* Check if we have attributes; if not we might have a text node */\n        if (!attributes) { return; }\n\n        hookEvent = {\n            attrName: '',\n            attrValue: '',\n            keepAttr: true,\n            allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n\n        /* Go backwards over all attributes; safely remove bad ones */\n        while (l--) {\n            attr = attributes[l];\n            name = attr.name;\n            value = attr.value.trim();\n            lcName = name.toLowerCase();\n\n            /* Execute a hook if present */\n            hookEvent.attrName = lcName;\n            hookEvent.attrValue = value;\n            hookEvent.keepAttr = true;\n            _executeHook('uponSanitizeAttribute', currentNode, hookEvent );\n            value = hookEvent.attrValue;\n\n            /* Remove attribute */\n            // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n            // remove a \"name\" attribute from an <img> tag that has an \"id\"\n            // attribute at the time.\n            if (lcName === 'name'  &&\n                    currentNode.nodeName === 'IMG' && attributes.id) {\n                idAttr = attributes.id;\n                attributes = Array.prototype.slice.apply(attributes);\n                _removeAttribute('id', currentNode);\n                _removeAttribute(name, currentNode);\n                if (attributes.indexOf(idAttr) > l) {\n                    currentNode.setAttribute('id', idAttr.value);\n                }\n            } else if (\n                  // This works around a bug in Safari, where input[type=file]\n                  // cannot be dynamically set after type has been removed\n                  currentNode.nodeName === 'INPUT' && lcName === 'type' &&\n                  value === 'file' && (ALLOWED_ATTR[lcName] || !FORBID_ATTR[lcName])) {\n                  continue;\n            } else {\n                // This avoids a crash in Safari v9.0 with double-ids.\n                // The trick is to first set the id to be empty and then to\n                // remove the attribute\n                if (name === 'id') {\n                    currentNode.setAttribute(name, '');\n                }\n                _removeAttribute(name, currentNode);\n            }\n\n            /* Did the hooks approve of the attribute? */\n            if (!hookEvent.keepAttr) {\n                continue;\n            }\n\n            /* Make sure attribute cannot clobber */\n            if (SANITIZE_DOM &&\n                    (lcName === 'id' || lcName === 'name') &&\n                    (value in window || value in document || value in formElement)) {\n                continue;\n            }\n\n            /* Sanitize attribute content to be template-safe */\n            if (SAFE_FOR_TEMPLATES) {\n                value = value.replace(MUSTACHE_EXPR, ' ');\n                value = value.replace(ERB_EXPR, ' ');\n            }\n\n            /* Allow valid data-* attributes: At least one character after \"-\"\n               (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n               XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n               We don't need to check the value; it's always URI safe. */\n            if (ALLOW_DATA_ATTR && DATA_ATTR.test(lcName)) {\n                // This attribute is safe\n            }\n            else if (ALLOW_ARIA_ATTR && ARIA_ATTR.test(lcName)) {\n                // This attribute is safe\n            }\n            /* Otherwise, check the name is permitted */\n            else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n                continue;\n            }\n            /* Check value is safe. First, is attr inert? If so, is safe */\n            else if (URI_SAFE_ATTRIBUTES[lcName]) {\n                // This attribute is safe\n            }\n            /* Check no script, data or unknown possibly unsafe URI\n               unless we know URI values are safe for that attribute */\n            else if (IS_ALLOWED_URI.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Keep image data URIs alive if src/xlink:href is allowed */\n            else if (\n                (lcName === 'src' || lcName === 'xlink:href') &&\n                value.indexOf('data:') === 0 &&\n                DATA_URI_TAGS[currentNode.nodeName.toLowerCase()]) {\n                // This attribute is safe\n            }\n            /* Allow unknown protocols: This provides support for links that\n               are handled by protocol handlers which may be unknown ahead of\n               time, e.g. fb:, spotify: */\n            else if (\n                ALLOW_UNKNOWN_PROTOCOLS &&\n                !IS_SCRIPT_OR_DATA.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Check for binary attributes */\n            else if (!value) {\n                // binary attributes are safe at this point\n            }\n            /* Anything else, presume unsafe, do not add it back */\n            else {\n                continue;\n            }\n\n            /* Handle invalid data-* attribute set by try-catching it */\n            try {\n                currentNode.setAttribute(name, value);\n                DOMPurify.removed.pop();\n            } catch (e) {}\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  fragment to iterate over recursively\n     * @return void\n     */\n    var _sanitizeShadowDOM = function(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n        while ( (shadowNode = shadowIterator.nextNode()) ) {\n            /* Execute a hook if present */\n            _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(shadowNode)) {\n                continue;\n            }\n\n            /* Deep shadow DOM detected */\n            if (shadowNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(shadowNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(shadowNode);\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode\n     */\n    var _executeHook = function(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) { return; }\n\n        hooks[entryPoint].forEach(function(hook) {\n            hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n    };\n\n    /**\n     * sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    DOMPurify.sanitize = function(dirty, cfg) {\n        var body, importedNode, currentNode, oldNode, nodeIterator, returnNode;\n        /* Make sure we have a string to sanitize.\n           DO NOT return early, as this will return the wrong type if\n           the user has requested a DOM object rather than a string */\n        if (!dirty) {\n            dirty = '<!-->';\n        }\n\n        /* Stringify, in case dirty is an object */\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n            if (typeof dirty.toString !== 'function') {\n                throw new TypeError('toString is not a function');\n            } else {\n                dirty = dirty.toString();\n            }\n        }\n\n        /* Check we can run. Otherwise fall back or ignore */\n        if (!DOMPurify.isSupported) {\n            if (typeof window.toStaticHTML === 'object'\n                || typeof window.toStaticHTML === 'function') {\n                if (typeof dirty === 'string') {\n                    return window.toStaticHTML(dirty);\n                } else if (_isNode(dirty)) {\n                    return window.toStaticHTML(dirty.outerHTML);\n                }\n            }\n            return dirty;\n        }\n\n        /* Assign config vars */\n        _parseConfig(cfg);\n\n        /* Clean up removed elements */\n        DOMPurify.removed = [];\n\n        if (dirty instanceof Node) {\n            /* If dirty is a DOM element, append to an empty document to avoid\n               elements being stripped by the parser */\n            body = _initDocument('<!-->');\n            importedNode = body.ownerDocument.importNode(dirty, true);\n            if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n                /* Node is already a body, use as is */\n                body = importedNode;\n            } else {\n                body.appendChild(importedNode);\n            }\n        } else {\n            /* Exit directly if we have nothing to do */\n            if (!RETURN_DOM && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n                return dirty;\n            }\n\n            /* Initialize the document to work on */\n            body = _initDocument(dirty);\n\n            /* Check we have a DOM node from the data */\n            if (!body) {\n                return RETURN_DOM ? null : '';\n            }\n        }\n\n        /* Remove first element node (ours) if FORCE_BODY is set */\n        if (FORCE_BODY) {\n            _forceRemove(body.firstChild);\n        }\n\n        /* Get node iterator */\n        nodeIterator = _createIterator(body);\n\n        /* Now start iterating over the created document */\n        while ( (currentNode = nodeIterator.nextNode()) ) {\n\n            /* Fix IE's strange behavior with manipulated textNodes #89 */\n            if (currentNode.nodeType === 3 && currentNode === oldNode) {\n                continue;\n            }\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(currentNode)) {\n                continue;\n            }\n\n            /* Shadow DOM detected, sanitize it */\n            if (currentNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(currentNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(currentNode);\n\n            oldNode = currentNode;\n        }\n\n        /* Return sanitized string or DOM */\n        if (RETURN_DOM) {\n\n            if (RETURN_DOM_FRAGMENT) {\n                returnNode = createDocumentFragment.call(body.ownerDocument);\n\n                while (body.firstChild) {\n                    returnNode.appendChild(body.firstChild);\n                }\n            } else {\n                returnNode = body;\n            }\n\n            if (RETURN_DOM_IMPORT) {\n                /* adoptNode() is not used because internal state is not reset\n                   (e.g. the past names map of a HTMLFormElement), this is safe\n                   in theory but we would rather not risk another attack vector.\n                   The state that is cloned by importNode() is explicitly defined\n                   by the specs. */\n                returnNode = importNode.call(originalDocument, returnNode, true);\n            }\n\n            return returnNode;\n        }\n\n        return WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    };\n\n    /**\n     * addHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint\n     * @param {Function} hookFunction\n     */\n    DOMPurify.addHook = function(entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') { return; }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        hooks[entryPoint].push(hookFunction);\n    };\n\n    /**\n     * removeHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHook = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint].pop();\n        }\n    };\n\n    /**\n     * removeHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHooks = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint] = [];\n        }\n    };\n\n    /**\n     * removeAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     * @return void\n     */\n    DOMPurify.removeAllHooks = function() {\n        hooks = {};\n    };\n\n    return DOMPurify;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dompurify/src/purify.js\n// module id = 1032\n// module chunks = 1 3 10 11 14 15 16 17 18 19 21 24 25 28 29 31 32 38 39 41","import ViewerExtensionBase from './Viewer.ExtensionBase'\r\n\r\nexport default ViewerExtensionBase\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.ExtensionBase/index.js","import Label from './Label'\r\n\r\nexport default Label\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Label/index.js","import EventsEmitter from 'EventsEmitter'\r\n\r\nexport default class ExtensionBase extends\r\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (viewer, options = {}) {\r\n\r\n    super(viewer, options)\r\n\r\n    this._viewer = viewer\r\n    this.viewer = viewer\r\n\r\n    this._options = options\r\n    this.options = options\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static get ExtensionId() {\r\n\r\n    return 'Viewing.Extension.Base'\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////\r\n  static guid(format = 'xxxxxxxxxx') {\r\n\r\n    var d = new Date().getTime()\r\n\r\n    var guid = format.replace(\r\n      /[xy]/g,\r\n      function (c) {\r\n        var r = (d + Math.random() * 16) % 16 | 0\r\n        d = Math.floor(d / 16)\r\n        return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16)\r\n      })\r\n\r\n    return guid\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  load() {\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  unload() {\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Reload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  reload (options) {\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Async viewer event\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  viewerEvent (eventId) {\r\n\r\n    const eventIdArray = Array.isArray(eventId)\r\n      ? eventId : [eventId]\r\n\r\n    const eventTasks = eventIdArray.map((id) => {\r\n      return new Promise ((resolve) => {\r\n        const handler = (args) => {\r\n          this.viewer.removeEventListener (\r\n            id, handler)\r\n          resolve (args)\r\n        }\r\n        this.viewer.addEventListener (\r\n          id, handler)\r\n      })\r\n    })\r\n\r\n    return Promise.all(eventTasks)\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.ExtensionBase/Viewer.ExtensionBase.js","import PropTypes from 'prop-types'\r\nimport DOMPurify from 'dompurify'\r\nimport ReactDOM from 'react-dom'\r\nimport React from 'react'\r\nimport './Label.scss'\r\n\r\nexport default class Label extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    textAlign: PropTypes.string,\r\n    className: PropTypes.string,\r\n    text: PropTypes.string\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    textAlign: 'left',\r\n    className: '',\r\n    text: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (props) {\r\n\r\n    super (props)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    const classNames = [\r\n      'label-container',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    const style = {\r\n      width: this.props.textAlign === 'center'\r\n        ? '100%' : '',\r\n      textAlign: this.props.textAlign\r\n    }\r\n\r\n    return(\r\n      <div className={classNames.join(' ')}\r\n        style={style}>\r\n        <p>\r\n          { DOMPurify.sanitize(this.props.text) }\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Label/Label.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Label/Label.scss\n// module id = 1037\n// module chunks = 1 10 11 14 15 16 17 18 19 24 25 28 29 31 32 38 39 41","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ContentEditable = function (_React$Component) {\n  _inherits(ContentEditable, _React$Component);\n\n  function ContentEditable() {\n    _classCallCheck(this, ContentEditable);\n\n    var _this = _possibleConstructorReturn(this, (ContentEditable.__proto__ || Object.getPrototypeOf(ContentEditable)).call(this));\n\n    _this.emitChange = _this.emitChange.bind(_this);\n    return _this;\n  }\n\n  _createClass(ContentEditable, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          tagName = _props.tagName,\n          html = _props.html,\n          props = _objectWithoutProperties(_props, ['tagName', 'html']);\n\n      return _react2.default.createElement(tagName || 'div', _extends({}, props, {\n        ref: function ref(e) {\n          return _this2.htmlEl = e;\n        },\n        onInput: this.emitChange,\n        onBlur: this.props.onBlur || this.emitChange,\n        contentEditable: !this.props.disabled,\n        dangerouslySetInnerHTML: { __html: html }\n      }), this.props.children);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      // We need not rerender if the change of props simply reflects the user's\n      // edits. Rerendering in this case would make the cursor/caret jump.\n      return (\n        // Rerender if there is no element yet... (somehow?)\n        !this.htmlEl\n        // ...or if html really changed... (programmatically, not by user edit)\n        || nextProps.html !== this.htmlEl.innerHTML && nextProps.html !== this.props.html\n        // ...or if editing is enabled or disabled.\n        || this.props.disabled !== nextProps.disabled\n        // ...or if className changed\n        || this.props.className !== nextProps.className\n      );\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.htmlEl && this.props.html !== this.htmlEl.innerHTML) {\n        // Perhaps React (whose VDOM gets outdated because we often prevent\n        // rerendering) did not update the DOM. So we update it manually now.\n        this.htmlEl.innerHTML = this.props.html;\n      }\n    }\n  }, {\n    key: 'emitChange',\n    value: function emitChange(evt) {\n      if (!this.htmlEl) return;\n      var html = this.htmlEl.innerHTML;\n      if (this.props.onChange && html !== this.lastHtml) {\n        evt.target = { value: html };\n        this.props.onChange(evt);\n      }\n      this.lastHtml = html;\n    }\n  }]);\n\n  return ContentEditable;\n}(_react2.default.Component);\n\nexports.default = ContentEditable;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-contenteditable/lib/react-contenteditable.js\n// module id = 1040\n// module chunks = 0 1 3 10 11 14 16 18 19 29 31 32 39 52","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseForOwn.js\n// module id = 1043\n// module chunks = 0 4 10 12 16 17 18 19 20 29 33 34 35","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseFlatten.js\n// module id = 1044\n// module chunks = 0 4 10 12 16 17 18 19 29 34","import autobind from 'autobind-decorator'\r\nimport PropTypes from 'prop-types'\r\nimport React from 'react'\r\n\r\nexport default class Switch extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    checked: PropTypes.bool\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    checked: true,\r\n    className: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor () {\r\n\r\n    super ()\r\n\r\n    this.state = {\r\n      checked: true\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  componentWillMount () {\r\n\r\n    this.setState({\r\n      checked: this.props.checked\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  @autobind\r\n  toggle () {\r\n\r\n    if (this.props.disabled) {\r\n      return\r\n    }\r\n\r\n    const checked = !this.state.checked\r\n\r\n    this.setState({\r\n      checked\r\n    })\r\n\r\n    if (this.props.onChange) {\r\n\r\n      this.props.onChange (checked)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    const classNames = [\r\n      'switch-container',\r\n      this.props.disabled ? 'disabled' : '',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    return(\r\n      <div className={classNames.join(' ')}\r\n        onClick={this.toggle}>\r\n        <input ref=\"switch\" className=\"switch\"\r\n          checked={this.state.checked}\r\n          value={this.state.checked}\r\n          onChange={()=> {}}\r\n          type=\"checkbox\"\r\n        />\r\n        <div>\r\n          <span>\r\n            <g className=\"icon icon-toolbar grid-view\"/>\r\n          </span>\r\n          <span>\r\n            <g className=\"icon icon-toolbar ticket-view\"/>\r\n          </span>\r\n          <div/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Switch/Switch.js","import Switch from './Switch'\r\nimport './Switch.scss'\r\n\r\nexport default Switch\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Switch/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Switch/Switch.scss\n// module id = 1050\n// module chunks = 11 13 14 15 19 21 24 28 31 32 36 38","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/sortBy.js\n// module id = 1053\n// module chunks = 0 4 10 16 17 18 19 29 34","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isFlattenable.js\n// module id = 1056\n// module chunks = 0 4 10 12 16 17 18 19 29 34","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseEach.js\n// module id = 1059\n// module chunks = 0 4 10 16 17 18 19 29 34","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseMap.js\n// module id = 1060\n// module chunks = 0 4 10 16 17 18 19 29 34","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseOrderBy.js\n// module id = 1061\n// module chunks = 0 4 10 16 17 18 19 29 34","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseSortBy.js\n// module id = 1062\n// module chunks = 0 4 10 16 17 18 19 29 34","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_compareAscending.js\n// module id = 1063\n// module chunks = 0 4 10 16 17 18 19 29 34","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_compareMultiple.js\n// module id = 1064\n// module chunks = 0 4 10 16 17 18 19 29 34","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_createBaseEach.js\n// module id = 1065\n// module chunks = 0 4 10 16 17 18 19 29 34","module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/atoa/atoa.js\n// module id = 1147\n// module chunks = 0 19 20 23","'use strict';\n\nvar emitter = require('contra/emitter');\nvar crossvent = require('crossvent');\nvar classes = require('./classes');\nvar doc = document;\nvar documentElement = doc.documentElement;\n\nfunction dragula (initialContainers, options) {\n  var len = arguments.length;\n  if (len === 1 && Array.isArray(initialContainers) === false) {\n    options = initialContainers;\n    initialContainers = [];\n  }\n  var _mirror; // mirror image\n  var _source; // source container\n  var _item; // item being dragged\n  var _offsetX; // reference x\n  var _offsetY; // reference y\n  var _moveX; // reference move x\n  var _moveY; // reference move y\n  var _initialSibling; // reference sibling when grabbed\n  var _currentSibling; // reference sibling now\n  var _copy; // item used for copying\n  var _renderTimer; // timer for setTimeout renderMirrorImage\n  var _lastDropTarget = null; // last container item was over\n  var _grabbed; // holds mousedown context until first mousemove\n\n  var o = options || {};\n  if (o.moves === void 0) { o.moves = always; }\n  if (o.accepts === void 0) { o.accepts = always; }\n  if (o.invalid === void 0) { o.invalid = invalidTarget; }\n  if (o.containers === void 0) { o.containers = initialContainers || []; }\n  if (o.isContainer === void 0) { o.isContainer = never; }\n  if (o.copy === void 0) { o.copy = false; }\n  if (o.copySortSource === void 0) { o.copySortSource = false; }\n  if (o.revertOnSpill === void 0) { o.revertOnSpill = false; }\n  if (o.removeOnSpill === void 0) { o.removeOnSpill = false; }\n  if (o.direction === void 0) { o.direction = 'vertical'; }\n  if (o.ignoreInputTextSelection === void 0) { o.ignoreInputTextSelection = true; }\n  if (o.mirrorContainer === void 0) { o.mirrorContainer = doc.body; }\n\n  var drake = emitter({\n    containers: o.containers,\n    start: manualStart,\n    end: end,\n    cancel: cancel,\n    remove: remove,\n    destroy: destroy,\n    canMove: canMove,\n    dragging: false\n  });\n\n  if (o.removeOnSpill === true) {\n    drake.on('over', spillOver).on('out', spillOut);\n  }\n\n  events();\n\n  return drake;\n\n  function isContainer (el) {\n    return drake.containers.indexOf(el) !== -1 || o.isContainer(el);\n  }\n\n  function events (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousedown', grab);\n    touchy(documentElement, op, 'mouseup', release);\n  }\n\n  function eventualMovements (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);\n  }\n\n  function movements (remove) {\n    var op = remove ? 'remove' : 'add';\n    crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8\n    crossvent[op](documentElement, 'click', preventGrabbed);\n  }\n\n  function destroy () {\n    events(true);\n    release({});\n  }\n\n  function preventGrabbed (e) {\n    if (_grabbed) {\n      e.preventDefault();\n    }\n  }\n\n  function grab (e) {\n    _moveX = e.clientX;\n    _moveY = e.clientY;\n\n    var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;\n    if (ignore) {\n      return; // we only care about honest-to-god left clicks and touch events\n    }\n    var item = e.target;\n    var context = canStart(item);\n    if (!context) {\n      return;\n    }\n    _grabbed = context;\n    eventualMovements();\n    if (e.type === 'mousedown') {\n      if (isInput(item)) { // see also: https://github.com/bevacqua/dragula/issues/208\n        item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176\n      } else {\n        e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155\n      }\n    }\n  }\n\n  function startBecauseMouseMoved (e) {\n    if (!_grabbed) {\n      return;\n    }\n    if (whichMouseButton(e) === 0) {\n      release({});\n      return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n    }\n    // truthy check fixes #239, equality fixes #207\n    if (e.clientX !== void 0 && e.clientX === _moveX && e.clientY !== void 0 && e.clientY === _moveY) {\n      return;\n    }\n    if (o.ignoreInputTextSelection) {\n      var clientX = getCoord('clientX', e);\n      var clientY = getCoord('clientY', e);\n      var elementBehindCursor = doc.elementFromPoint(clientX, clientY);\n      if (isInput(elementBehindCursor)) {\n        return;\n      }\n    }\n\n    var grabbed = _grabbed; // call to end() unsets _grabbed\n    eventualMovements(true);\n    movements();\n    end();\n    start(grabbed);\n\n    var offset = getOffset(_item);\n    _offsetX = getCoord('pageX', e) - offset.left;\n    _offsetY = getCoord('pageY', e) - offset.top;\n\n    classes.add(_copy || _item, 'gu-transit');\n    renderMirrorImage();\n    drag(e);\n  }\n\n  function canStart (item) {\n    if (drake.dragging && _mirror) {\n      return;\n    }\n    if (isContainer(item)) {\n      return; // don't drag container itself\n    }\n    var handle = item;\n    while (getParent(item) && isContainer(getParent(item)) === false) {\n      if (o.invalid(item, handle)) {\n        return;\n      }\n      item = getParent(item); // drag target should be a top element\n      if (!item) {\n        return;\n      }\n    }\n    var source = getParent(item);\n    if (!source) {\n      return;\n    }\n    if (o.invalid(item, handle)) {\n      return;\n    }\n\n    var movable = o.moves(item, source, handle, nextEl(item));\n    if (!movable) {\n      return;\n    }\n\n    return {\n      item: item,\n      source: source\n    };\n  }\n\n  function canMove (item) {\n    return !!canStart(item);\n  }\n\n  function manualStart (item) {\n    var context = canStart(item);\n    if (context) {\n      start(context);\n    }\n  }\n\n  function start (context) {\n    if (isCopy(context.item, context.source)) {\n      _copy = context.item.cloneNode(true);\n      drake.emit('cloned', _copy, context.item, 'copy');\n    }\n\n    _source = context.source;\n    _item = context.item;\n    _initialSibling = _currentSibling = nextEl(context.item);\n\n    drake.dragging = true;\n    drake.emit('drag', _item, _source);\n  }\n\n  function invalidTarget () {\n    return false;\n  }\n\n  function end () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    drop(item, getParent(item));\n  }\n\n  function ungrab () {\n    _grabbed = false;\n    eventualMovements(true);\n    movements(true);\n  }\n\n  function release (e) {\n    ungrab();\n\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    if (dropTarget && ((_copy && o.copySortSource) || (!_copy || dropTarget !== _source))) {\n      drop(item, dropTarget);\n    } else if (o.removeOnSpill) {\n      remove();\n    } else {\n      cancel();\n    }\n  }\n\n  function drop (item, target) {\n    var parent = getParent(item);\n    if (_copy && o.copySortSource && target === _source) {\n      parent.removeChild(_item);\n    }\n    if (isInitialPlacement(target)) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, target, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function remove () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var parent = getParent(item);\n    if (parent) {\n      parent.removeChild(item);\n    }\n    drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);\n    cleanup();\n  }\n\n  function cancel (revert) {\n    if (!drake.dragging) {\n      return;\n    }\n    var reverts = arguments.length > 0 ? revert : o.revertOnSpill;\n    var item = _copy || _item;\n    var parent = getParent(item);\n    var initial = isInitialPlacement(parent);\n    if (initial === false && reverts) {\n      if (_copy) {\n        if (parent) {\n          parent.removeChild(_copy);\n        }\n      } else {\n        _source.insertBefore(item, _initialSibling);\n      }\n    }\n    if (initial || reverts) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, parent, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function cleanup () {\n    var item = _copy || _item;\n    ungrab();\n    removeMirrorImage();\n    if (item) {\n      classes.rm(item, 'gu-transit');\n    }\n    if (_renderTimer) {\n      clearTimeout(_renderTimer);\n    }\n    drake.dragging = false;\n    if (_lastDropTarget) {\n      drake.emit('out', item, _lastDropTarget, _source);\n    }\n    drake.emit('dragend', item);\n    _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;\n  }\n\n  function isInitialPlacement (target, s) {\n    var sibling;\n    if (s !== void 0) {\n      sibling = s;\n    } else if (_mirror) {\n      sibling = _currentSibling;\n    } else {\n      sibling = nextEl(_copy || _item);\n    }\n    return target === _source && sibling === _initialSibling;\n  }\n\n  function findDropTarget (elementBehindCursor, clientX, clientY) {\n    var target = elementBehindCursor;\n    while (target && !accepted()) {\n      target = getParent(target);\n    }\n    return target;\n\n    function accepted () {\n      var droppable = isContainer(target);\n      if (droppable === false) {\n        return false;\n      }\n\n      var immediate = getImmediateChild(target, elementBehindCursor);\n      var reference = getReference(target, immediate, clientX, clientY);\n      var initial = isInitialPlacement(target, reference);\n      if (initial) {\n        return true; // should always be able to drop it right back where it was\n      }\n      return o.accepts(_item, target, _source, reference);\n    }\n  }\n\n  function drag (e) {\n    if (!_mirror) {\n      return;\n    }\n    e.preventDefault();\n\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var x = clientX - _offsetX;\n    var y = clientY - _offsetY;\n\n    _mirror.style.left = x + 'px';\n    _mirror.style.top = y + 'px';\n\n    var item = _copy || _item;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    var changed = dropTarget !== null && dropTarget !== _lastDropTarget;\n    if (changed || dropTarget === null) {\n      out();\n      _lastDropTarget = dropTarget;\n      over();\n    }\n    var parent = getParent(item);\n    if (dropTarget === _source && _copy && !o.copySortSource) {\n      if (parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    var reference;\n    var immediate = getImmediateChild(dropTarget, elementBehindCursor);\n    if (immediate !== null) {\n      reference = getReference(dropTarget, immediate, clientX, clientY);\n    } else if (o.revertOnSpill === true && !_copy) {\n      reference = _initialSibling;\n      dropTarget = _source;\n    } else {\n      if (_copy && parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    if (\n      (reference === null && changed) ||\n      reference !== item &&\n      reference !== nextEl(item)\n    ) {\n      _currentSibling = reference;\n      dropTarget.insertBefore(item, reference);\n      drake.emit('shadow', item, dropTarget, _source);\n    }\n    function moved (type) { drake.emit(type, item, _lastDropTarget, _source); }\n    function over () { if (changed) { moved('over'); } }\n    function out () { if (_lastDropTarget) { moved('out'); } }\n  }\n\n  function spillOver (el) {\n    classes.rm(el, 'gu-hide');\n  }\n\n  function spillOut (el) {\n    if (drake.dragging) { classes.add(el, 'gu-hide'); }\n  }\n\n  function renderMirrorImage () {\n    if (_mirror) {\n      return;\n    }\n    var rect = _item.getBoundingClientRect();\n    _mirror = _item.cloneNode(true);\n    _mirror.style.width = getRectWidth(rect) + 'px';\n    _mirror.style.height = getRectHeight(rect) + 'px';\n    classes.rm(_mirror, 'gu-transit');\n    classes.add(_mirror, 'gu-mirror');\n    o.mirrorContainer.appendChild(_mirror);\n    touchy(documentElement, 'add', 'mousemove', drag);\n    classes.add(o.mirrorContainer, 'gu-unselectable');\n    drake.emit('cloned', _mirror, _item, 'mirror');\n  }\n\n  function removeMirrorImage () {\n    if (_mirror) {\n      classes.rm(o.mirrorContainer, 'gu-unselectable');\n      touchy(documentElement, 'remove', 'mousemove', drag);\n      getParent(_mirror).removeChild(_mirror);\n      _mirror = null;\n    }\n  }\n\n  function getImmediateChild (dropTarget, target) {\n    var immediate = target;\n    while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {\n      immediate = getParent(immediate);\n    }\n    if (immediate === documentElement) {\n      return null;\n    }\n    return immediate;\n  }\n\n  function getReference (dropTarget, target, x, y) {\n    var horizontal = o.direction === 'horizontal';\n    var reference = target !== dropTarget ? inside() : outside();\n    return reference;\n\n    function outside () { // slower, but able to figure out any position\n      var len = dropTarget.children.length;\n      var i;\n      var el;\n      var rect;\n      for (i = 0; i < len; i++) {\n        el = dropTarget.children[i];\n        rect = el.getBoundingClientRect();\n        if (horizontal && (rect.left + rect.width / 2) > x) { return el; }\n        if (!horizontal && (rect.top + rect.height / 2) > y) { return el; }\n      }\n      return null;\n    }\n\n    function inside () { // faster, but only available if dropped inside a child element\n      var rect = target.getBoundingClientRect();\n      if (horizontal) {\n        return resolve(x > rect.left + getRectWidth(rect) / 2);\n      }\n      return resolve(y > rect.top + getRectHeight(rect) / 2);\n    }\n\n    function resolve (after) {\n      return after ? nextEl(target) : target;\n    }\n  }\n\n  function isCopy (item, container) {\n    return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);\n  }\n}\n\nfunction touchy (el, op, type, fn) {\n  var touch = {\n    mouseup: 'touchend',\n    mousedown: 'touchstart',\n    mousemove: 'touchmove'\n  };\n  var pointers = {\n    mouseup: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove'\n  };\n  var microsoft = {\n    mouseup: 'MSPointerUp',\n    mousedown: 'MSPointerDown',\n    mousemove: 'MSPointerMove'\n  };\n  if (global.navigator.pointerEnabled) {\n    crossvent[op](el, pointers[type], fn);\n  } else if (global.navigator.msPointerEnabled) {\n    crossvent[op](el, microsoft[type], fn);\n  } else {\n    crossvent[op](el, touch[type], fn);\n    crossvent[op](el, type, fn);\n  }\n}\n\nfunction whichMouseButton (e) {\n  if (e.touches !== void 0) { return e.touches.length; }\n  if (e.which !== void 0 && e.which !== 0) { return e.which; } // see https://github.com/bevacqua/dragula/issues/261\n  if (e.buttons !== void 0) { return e.buttons; }\n  var button = e.button;\n  if (button !== void 0) { // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0);\n  }\n}\n\nfunction getOffset (el) {\n  var rect = el.getBoundingClientRect();\n  return {\n    left: rect.left + getScroll('scrollLeft', 'pageXOffset'),\n    top: rect.top + getScroll('scrollTop', 'pageYOffset')\n  };\n}\n\nfunction getScroll (scrollProp, offsetProp) {\n  if (typeof global[offsetProp] !== 'undefined') {\n    return global[offsetProp];\n  }\n  if (documentElement.clientHeight) {\n    return documentElement[scrollProp];\n  }\n  return doc.body[scrollProp];\n}\n\nfunction getElementBehindPoint (point, x, y) {\n  var p = point || {};\n  var state = p.className;\n  var el;\n  p.className += ' gu-hide';\n  el = doc.elementFromPoint(x, y);\n  p.className = state;\n  return el;\n}\n\nfunction never () { return false; }\nfunction always () { return true; }\nfunction getRectWidth (rect) { return rect.width || (rect.right - rect.left); }\nfunction getRectHeight (rect) { return rect.height || (rect.bottom - rect.top); }\nfunction getParent (el) { return el.parentNode === doc ? null : el.parentNode; }\nfunction isInput (el) { return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el); }\nfunction isEditable (el) {\n  if (!el) { return false; } // no parents were editable\n  if (el.contentEditable === 'false') { return false; } // stop the lookup\n  if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain\n  return isEditable(getParent(el)); // contentEditable is set to 'inherit'\n}\n\nfunction nextEl (el) {\n  return el.nextElementSibling || manually();\n  function manually () {\n    var sibling = el;\n    do {\n      sibling = sibling.nextSibling;\n    } while (sibling && sibling.nodeType !== 1);\n    return sibling;\n  }\n}\n\nfunction getEventHost (e) {\n  // on touchend event, we have to use `e.changedTouches`\n  // see http://stackoverflow.com/questions/7192563/touchend-event-properties\n  // see https://github.com/bevacqua/dragula/issues/34\n  if (e.targetTouches && e.targetTouches.length) {\n    return e.targetTouches[0];\n  }\n  if (e.changedTouches && e.changedTouches.length) {\n    return e.changedTouches[0];\n  }\n  return e;\n}\n\nfunction getCoord (coord, e) {\n  var host = getEventHost(e);\n  var missMap = {\n    pageX: 'clientX', // IE8\n    pageY: 'clientY' // IE8\n  };\n  if (coord in missMap && !(coord in host) && missMap[coord] in host) {\n    coord = missMap[coord];\n  }\n  return host[coord];\n}\n\nmodule.exports = dragula;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dragula/dragula.js\n// module id = 1149\n// module chunks = 0 19 20 23","'use strict';\n\nvar ticky = require('ticky');\n\nmodule.exports = function debounce (fn, args, ctx) {\n  if (!fn) { return; }\n  ticky(function run () {\n    fn.apply(ctx || null, args || []);\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/contra/debounce.js\n// module id = 1162\n// module chunks = 0 19 20 23","'use strict';\n\nvar atoa = require('atoa');\nvar debounce = require('./debounce');\n\nmodule.exports = function emitter (thing, options) {\n  var opts = options || {};\n  var evt = {};\n  if (thing === undefined) { thing = {}; }\n  thing.on = function (type, fn) {\n    if (!evt[type]) {\n      evt[type] = [fn];\n    } else {\n      evt[type].push(fn);\n    }\n    return thing;\n  };\n  thing.once = function (type, fn) {\n    fn._once = true; // thing.off(fn) still works!\n    thing.on(type, fn);\n    return thing;\n  };\n  thing.off = function (type, fn) {\n    var c = arguments.length;\n    if (c === 1) {\n      delete evt[type];\n    } else if (c === 0) {\n      evt = {};\n    } else {\n      var et = evt[type];\n      if (!et) { return thing; }\n      et.splice(et.indexOf(fn), 1);\n    }\n    return thing;\n  };\n  thing.emit = function () {\n    var args = atoa(arguments);\n    return thing.emitterSnapshot(args.shift()).apply(this, args);\n  };\n  thing.emitterSnapshot = function (type) {\n    var et = (evt[type] || []).slice(0);\n    return function () {\n      var args = atoa(arguments);\n      var ctx = this || thing;\n      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n      et.forEach(function emitter (listen) {\n        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n        if (listen._once) { thing.off(type, listen); }\n      });\n      return thing;\n    };\n  };\n  return thing;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/contra/emitter.js\n// module id = 1163\n// module chunks = 0 19 20 23","'use strict';\n\nvar customEvent = require('custom-event');\nvar eventmap = require('./eventmap');\nvar doc = global.document;\nvar addEvent = addEventEasy;\nvar removeEvent = removeEventEasy;\nvar hardCache = [];\n\nif (!global.addEventListener) {\n  addEvent = addEventHard;\n  removeEvent = removeEventHard;\n}\n\nmodule.exports = {\n  add: addEvent,\n  remove: removeEvent,\n  fabricate: fabricateEvent\n};\n\nfunction addEventEasy (el, type, fn, capturing) {\n  return el.addEventListener(type, fn, capturing);\n}\n\nfunction addEventHard (el, type, fn) {\n  return el.attachEvent('on' + type, wrap(el, type, fn));\n}\n\nfunction removeEventEasy (el, type, fn, capturing) {\n  return el.removeEventListener(type, fn, capturing);\n}\n\nfunction removeEventHard (el, type, fn) {\n  var listener = unwrap(el, type, fn);\n  if (listener) {\n    return el.detachEvent('on' + type, listener);\n  }\n}\n\nfunction fabricateEvent (el, type, model) {\n  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n  if (el.dispatchEvent) {\n    el.dispatchEvent(e);\n  } else {\n    el.fireEvent('on' + type, e);\n  }\n  function makeClassicEvent () {\n    var e;\n    if (doc.createEvent) {\n      e = doc.createEvent('Event');\n      e.initEvent(type, true, true);\n    } else if (doc.createEventObject) {\n      e = doc.createEventObject();\n    }\n    return e;\n  }\n  function makeCustomEvent () {\n    return new customEvent(type, { detail: model });\n  }\n}\n\nfunction wrapperFactory (el, type, fn) {\n  return function wrapper (originalEvent) {\n    var e = originalEvent || global.event;\n    e.target = e.target || e.srcElement;\n    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };\n    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };\n    e.which = e.which || e.keyCode;\n    fn.call(el, e);\n  };\n}\n\nfunction wrap (el, type, fn) {\n  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n  hardCache.push({\n    wrapper: wrapper,\n    element: el,\n    type: type,\n    fn: fn\n  });\n  return wrapper;\n}\n\nfunction unwrap (el, type, fn) {\n  var i = find(el, type, fn);\n  if (i) {\n    var wrapper = hardCache[i].wrapper;\n    hardCache.splice(i, 1); // free up a tad of memory\n    return wrapper;\n  }\n}\n\nfunction find (el, type, fn) {\n  var i, item;\n  for (i = 0; i < hardCache.length; i++) {\n    item = hardCache[i];\n    if (item.element === el && item.type === type && item.fn === fn) {\n      return i;\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/crossvent/src/crossvent.js\n// module id = 1164\n// module chunks = 0 19 20 23","'use strict';\n\nvar eventmap = [];\nvar eventname = '';\nvar ron = /^on/;\n\nfor (eventname in global) {\n  if (ron.test(eventname)) {\n    eventmap.push(eventname.slice(2));\n  }\n}\n\nmodule.exports = eventmap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/crossvent/src/eventmap.js\n// module id = 1165\n// module chunks = 0 19 20 23","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/custom-event/index.js\n// module id = 1185\n// module chunks = 0 19 20 23","'use strict';\n\nvar cache = {};\nvar start = '(?:^|\\\\s)';\nvar end = '(?:\\\\s|$)';\n\nfunction lookupClass (className) {\n  var cached = cache[className];\n  if (cached) {\n    cached.lastIndex = 0;\n  } else {\n    cache[className] = cached = new RegExp(start + className + end, 'g');\n  }\n  return cached;\n}\n\nfunction addClass (el, className) {\n  var current = el.className;\n  if (!current.length) {\n    el.className = className;\n  } else if (!lookupClass(className).test(current)) {\n    el.className += ' ' + className;\n  }\n}\n\nfunction rmClass (el, className) {\n  el.className = el.className.replace(lookupClass(className), ' ').trim();\n}\n\nmodule.exports = {\n  add: addClass,\n  rm: rmClass\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dragula/classes.js\n// module id = 1194\n// module chunks = 0 19 20 23","var si = typeof setImmediate === 'function', tick;\nif (si) {\n  tick = function (fn) { setImmediate(fn); };\n} else {\n  tick = function (fn) { setTimeout(fn, 0); };\n}\n\nmodule.exports = tick;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ticky/ticky-browser.js\n// module id = 1273\n// module chunks = 0 19 20 23","exports = module.exports = require(\"../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\\\";filter:alpha(opacity=80)}.gu-hide{display:none!important}.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.gu-transit{opacity:.2;-ms-filter:\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\\\";filter:alpha(opacity=20)}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/react-dragula/dist/dragula.min.css\n// module id = 1360\n// module chunks = 19","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".config-manager .title {\\n  display: -webkit-inline-box;\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  float: left; }\\n\\n.config-manager .title > label {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  white-space: nowrap;\\n  font-weight: normal;\\n  user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px;\\n  select: none;\\n  width: 144px;\\n  float: left; }\\n\\n.config-manager .content > .controls {\\n  margin: 10px 10px 0px 10px;\\n  display: inline-block;\\n  white-space: nowrap;\\n  height: 54px;\\n  width: 100%; }\\n\\n.config-manager .content > .controls > .row {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  width: 100%;\\n  margin: 0; }\\n\\n.config-manager .content > .controls .dropdown {\\n  width: calc(100% - 121px);\\n  margin-bottom: 6px;\\n  float: left; }\\n\\n.config-manager .content > .controls .dropdown > button {\\n  padding: 0 10px 0 10px;\\n  overflow: hidden;\\n  height: 26px;\\n  width: 100%;\\n  margin: 0; }\\n\\n.config-manager .content > .controls button {\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  background: whitesmoke;\\n  border-radius: 4px;\\n  margin-left: 4px;\\n  outline: none;\\n  height: 26px;\\n  width: 30px;\\n  float: left;\\n  padding: 0; }\\n\\n.config-manager .content > .controls button > span {\\n  margin: auto auto auto 0px;\\n  position: relative;\\n  font-size: 16px;\\n  color: #9b9b9b;\\n  padding: 0px;\\n  height: 100%;\\n  width: 100%;\\n  top: -1px; }\\n\\n.config-manager .content > .controls button > span.caret {\\n  margin: auto 0 auto auto;\\n  width: 0px; }\\n\\n.config-manager .content > .controls button:disabled > span {\\n  color: #d0d0d0; }\\n\\n.config-manager .content > .controls button:hover:not(:disabled) > span {\\n  color: #FF9800; }\\n\\n.config-manager .content > .controls button:disabled > span {\\n  color: #d0d0d0; }\\n\\n.config-manager .content > .controls label {\\n  margin: 4px 10px 0 10px;\\n  font-weight: normal;\\n  float: left; }\\n\\n.config-manager .content > .controls .state-name-input {\\n  border: 1px solid #aeaeae;\\n  width: calc(100% - 155px);\\n  padding: 3px 0 0 10px;\\n  white-space: nowrap;\\n  border-radius: 4px;\\n  text-align: left;\\n  overflow: hidden;\\n  height: 26px;\\n  float: left; }\\n\\n.config-manager .switch-container {\\n  margin-left: 6px;\\n  float: left; }\\n\\n.config-manager input[type=\\\"checkbox\\\"].switch + div {\\n  border: 1px solid #aeaeae;\\n  margin-top: 2px;\\n  height: 22px;\\n  width: 40px; }\\n\\n.config-manager input[type=\\\"checkbox\\\"].switch:checked + div {\\n  width: 40px; }\\n\\n.config-manager input[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(18px, 0, 0);\\n          transform: translate3d(18px, 0, 0); }\\n\\n.config-manager input[type=\\\"checkbox\\\"].switch + div > div {\\n  height: 20px;\\n  width: 20px;\\n  margin: 0; }\\n\\n.config-manager .disabled-overlay {\\n  background: rgba(255, 255, 255, 0.75);\\n  cursor: not-allowed;\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 10; }\\n\\n.config-manager .items {\\n  height: calc(100% - 82px);\\n  margin: 10px 4px 4px 4px;\\n  overflow: scroll; }\\n\\n.config-manager .items > .item.selectable {\\n  cursor: pointer; }\\n\\n.config-manager .items > .item, .gu-mirror.item {\\n  transition-property: border, background;\\n  transition-timing-function: ease;\\n  transition-duration: 1.0s;\\n  transition-delay: 0.0s;\\n  border: 1px solid #aeaeae;\\n  width: calc(100% - 10px);\\n  background: #ededed;\\n  white-space: nowrap;\\n  cursor: not-allowed;\\n  border-radius: 4px;\\n  overflow: hidden;\\n  height: 26px;\\n  padding: 2px;\\n  margin: 5px; }\\n\\n.config-manager .items > .item:first-child {\\n  margin-top: 0px; }\\n\\n.config-manager .items > .item.selectable:hover {\\n  background: rgba(0, 105, 245, 0.1);\\n  border: 1px solid #1bb1f4; }\\n\\n.config-manager .items > .item.active:hover, .config-manager .items > .item.active {\\n  background: rgba(0, 105, 245, 0.35);\\n  border: 1px solid #1bb1f4; }\\n\\n.config-manager .items > .item > div, .gu-mirror.item > div {\\n  width: calc(100% - 50px);\\n  pointer-events: none;\\n  position: relative;\\n  margin: 0 0 0 12px;\\n  float: left; }\\n\\n.config-manager .items > .item > div > .label, .gu-mirror.item > div > .label {\\n  font-weight: normal;\\n  font-size: small;\\n  color: black;\\n  width: 100%; }\\n\\n.config-manager .items > .item > button, .gu-mirror.item > button {\\n  transition-timing-function: ease;\\n  transition-duration: 1.0s;\\n  transition-property: all;\\n  transition-delay: 0.0s;\\n  background: #f58b00;\\n  border-radius: 4px;\\n  position: relative;\\n  outline: none;\\n  float: right;\\n  height: 20px;\\n  width: 26px;\\n  right: 1px; }\\n\\n.config-manager .items > .item > button:hover {\\n  background: #ff9000; }\\n\\n.config-manager .items > .item > button > span, .gu-mirror.item > button > span {\\n  transition-timing-function: ease;\\n  transition-duration: 1.0s;\\n  transition-property: all;\\n  transition-delay: 0.0s;\\n  position: relative;\\n  color: #505050;\\n  top: -4px; }\\n\\n.config-manager .items > .item > button:hover > span {\\n  color: #000000; }\\n\\n.config-manager-dlg {\\n  left: calc(50% - 150px) !important;\\n  top: calc(40% - 100px) !important;\\n  width: 300px !important; }\\n\\n.config-manager-dlg > .content .sequence-name-input {\\n  border: 1px solid #aeaeae;\\n  width: calc(100% - 236px);\\n  padding: 3px 0 0 10px;\\n  font-weight: normal;\\n  white-space: nowrap;\\n  border-radius: 4px;\\n  text-align: left;\\n  overflow: hidden;\\n  height: 26px;\\n  width: 100%; }\\n\\n.config-manager-controls {\\n  margin: auto 0 auto calc(100% - 154px);\\n  position: relative;\\n  float: left; }\\n\\n.config-manager-controls > button {\\n  border: 1px solid #c6c6c6;\\n  background-color: #e1e1e1;\\n  border-radius: 6px;\\n  position: relative;\\n  overflow: hidden;\\n  outline: none;\\n  height: 24px;\\n  width: 26px; }\\n\\n.config-manager-controls > button:hover {\\n  border: 1px solid #878787;\\n  background-color: #f5f5f5; }\\n\\n.config-manager-controls > button > label {\\n  position: relative;\\n  font-size: 20px;\\n  color: #f0fcff;\\n  top: -8px; }\\n\\n.config-manager-controls > button > span {\\n  pointer-events: none;\\n  color: #9b9b9b; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.ConfigManager.scss\n// module id = 1385\n// module chunks = 19","import './Viewing.Extension.ConfigManager'\r\n\r\nexport default 'Viewing.Extension.ConfigManager'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ConfigManager/index.js","'use strict';\n\nvar dragula = require('dragula');\nvar atoa = require('atoa');\n\nfunction reactDragula () {\n  return dragula.apply(this, atoa(arguments)).on('cloned', cloned);\n\n  function cloned (clone) {\n    rm(clone);\n    atoa(clone.getElementsByTagName('*')).forEach(rm);\n  }\n\n  function rm (el) {\n    el.removeAttribute('data-reactid');\n  }\n}\n\nmodule.exports = reactDragula;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-dragula/react-dragula.js\n// module id = 1627\n// module chunks = 19","////////////////////////////////////////////////////////////////\r\n// ConfigManager API\r\n//\r\n/////////////////////////////////////////////////////////////////\r\nimport ClientAPI from 'ClientAPI'\r\n\r\nexport default class ConfigAPI extends ClientAPI {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (apiUrl) {\r\n\r\n    super (apiUrl)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getSequences (opts) {\r\n\r\n    return new Promise ((resolve, reject) => {\r\n\r\n      const url = '/sequences'\r\n\r\n      this.ajax(url).then ((sequences) => {\r\n\r\n        const result = opts.sortByName\r\n          ? sortBy(sequences, (seq) => { return seq.name })\r\n          : sequences\r\n\r\n        resolve (result)\r\n\r\n      }, (error) => reject(error))\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  addSequence (sequence) {\r\n\r\n    const payload = {\r\n      sequence\r\n    }\r\n\r\n    const url = '/sequences'\r\n\r\n    return this.ajax({\r\n      url: url,\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      data: JSON.stringify(payload)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  updateSequence (sequence) {\r\n\r\n    const payload = {\r\n      sequence\r\n    }\r\n\r\n    const url = '/sequences'\r\n\r\n    return this.ajax({\r\n      url: url,\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      data: JSON.stringify(payload)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  deleteSequence (sequenceId) {\r\n\r\n    const url = `/sequences/${sequenceId}`\r\n\r\n    return this.ajax({\r\n      url: url,\r\n      method: 'DELETE'\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async getStates (sequenceId) {\r\n\r\n    try {\r\n\r\n      const url = `/sequences/${sequenceId}/states`\r\n\r\n      const res = await this.ajax(url)\r\n\r\n      return res\r\n\r\n    } catch (ex) {\r\n\r\n      return []\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  addState (sequenceId, state) {\r\n\r\n    const payload = {\r\n      state\r\n    }\r\n\r\n    const url = `/sequences/${sequenceId}/states`\r\n\r\n    return this.ajax({\r\n      url: url,\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      data: JSON.stringify(payload)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  deleteState (sequenceId, stateId) {\r\n\r\n    const url = `/sequences/${sequenceId}/states/${stateId}`\r\n\r\n    return this.ajax({\r\n      url: url,\r\n      method: 'DELETE'\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.Config.API.js","/////////////////////////////////////////////////////////\r\n// Viewing.Extension.StateManager.React\r\n// by Philippe Leefsma, March 2017\r\n//\r\n/////////////////////////////////////////////////////////\r\nimport ConfigAPI from './Viewing.Extension.Config.API'\r\nimport ContentEditable from 'react-contenteditable'\r\nimport ExtensionBase from 'Viewer.ExtensionBase'\r\nimport './Viewing.Extension.ConfigManager.scss'\r\nimport WidgetContainer from 'WidgetContainer'\r\nimport 'react-dragula/dist/dragula.min.css'\r\nimport ServiceManager from 'SvcManager'\r\nimport Toolkit from 'Viewer.Toolkit'\r\nimport Dragula from 'react-dragula'\r\nimport sortBy from 'lodash/sortBy'\r\nimport DOMPurify from 'dompurify'\r\nimport ReactDOM from 'react-dom'\r\nimport Switch from 'Switch'\r\nimport Label from 'Label'\r\nimport React from 'react'\r\nimport {\r\n  DropdownButton,\r\n  MenuItem\r\n} from 'react-bootstrap'\r\n\r\nclass ConfigManagerExtension extends ExtensionBase {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (viewer, options) {\r\n\r\n    super (viewer, options)\r\n\r\n    this.renderTitle = this.renderTitle.bind(this)\r\n    this.toggleItem = this.toggleItem.bind(this)\r\n\r\n    this.dialogSvc =\r\n      ServiceManager.getService('DialogSvc')\r\n\r\n    this.itemsClass = this.guid()\r\n\r\n    this.react = options.react\r\n\r\n    this.restoreEvents = []\r\n\r\n    this.drake = null\r\n\r\n    if (this.options.apiUrl) {\r\n\r\n      const modelId = this.options.dbModel._id\r\n\r\n      this.api = new ConfigAPI(\r\n        options.apiUrl +\r\n        `/config/${options.database}/${modelId}`)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  get className() {\r\n\r\n    return 'config-manager'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static get ExtensionId() {\r\n\r\n    return 'Viewing.Extension.ConfigManager'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  load () {\r\n\r\n    this.viewer.addEventListener(\r\n      Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT, (e) => {\r\n        if (this.options.loader) {\r\n          this.options.loader.show(false)\r\n        }\r\n      })\r\n\r\n    this.itemToggling = this.options.itemToggling\r\n\r\n    this.react.setState({\r\n      emptyStateNameCaption:\r\n         this.options.emptyStateNameCaption ||\r\n         'State Name ...',\r\n      disabled: this.options.disabled,\r\n      stateSelection: true,\r\n      stateCreation: true,\r\n      newSequenceName: '',\r\n      newStateName: '',\r\n      sequence: null,\r\n      sequences: [],\r\n      play: false,\r\n      loop: true,\r\n      items: []\r\n\r\n    }).then (() => {\r\n\r\n      this.react.pushRenderExtension(this).then(\r\n        async() => {\r\n\r\n          if (this.api) {\r\n\r\n            const sequences =\r\n              await this.api.getSequences({\r\n                sortByName: true\r\n              })\r\n\r\n            const sequence = sequences.length ?\r\n              sequences[0] : null\r\n\r\n            this.react.setState({\r\n              sequences\r\n            })\r\n\r\n            setTimeout(() => {\r\n              this.setActiveSequence (sequence)\r\n            }, 2000)\r\n          }\r\n      })\r\n    })\r\n\r\n    console.log('Viewing.Extension.ConfigManager loaded')\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  unload () {\r\n\r\n    this.react.popViewerPanel(this)\r\n\r\n    console.log('Viewing.Extension.ConfigManager unloaded')\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  addSequence () {\r\n\r\n    this.react.setState({\r\n      newSequenceName: ''\r\n    })\r\n\r\n    const onClose = (result) => {\r\n\r\n      if (result === 'OK') {\r\n\r\n        const state = this.react.getState()\r\n\r\n        const name = !!state.newSequenceName\r\n          ? DOMPurify.sanitize(state.newSequenceName)\r\n          : new Date().toString('d/M/yyyy H:mm:ss')\r\n\r\n        const sequence = {\r\n          id: this.guid(),\r\n          stateIds: [],\r\n          name\r\n        }\r\n\r\n        const sequences = sortBy([\r\n          ...state.sequences, sequence\r\n        ], (s) => { return s.name })\r\n\r\n        this.react.setState({\r\n          sequences,\r\n          items: []\r\n        })\r\n\r\n        this.setActiveSequence (sequence)\r\n\r\n        if (this.api) {\r\n\r\n          this.api.addSequence(sequence)\r\n        }\r\n      }\r\n\r\n      this.dialogSvc.off('dialog.close', onClose)\r\n    }\r\n\r\n    this.dialogSvc.on('dialog.close', onClose)\r\n\r\n    this.dialogSvc.setState({\r\n      className: 'config-manager-dlg',\r\n      title: 'Add Sequence ...',\r\n      content:\r\n        <div>\r\n          <ContentEditable\r\n            onChange={(e) => this.onInputChanged(e, 'newSequenceName')}\r\n            onKeyDown={(e) => this.onKeyDown(e)}\r\n            data-placeholder=\"Sequence name ...\"\r\n            className=\"sequence-name-input\"\r\n            html={''}/>\r\n        </div>,\r\n      open: true\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  copySequence () {\r\n\r\n    this.react.setState({\r\n      newSequenceName: ''\r\n    })\r\n\r\n    const onClose = (result) => {\r\n\r\n      if (result === 'OK') {\r\n\r\n        const state = this.react.getState()\r\n\r\n        const items = state.items.map((item) => {\r\n\r\n          return Object.assign({},\r\n            item, {\r\n              id: this.guid(),\r\n              active: false\r\n            })\r\n        })\r\n\r\n        const stateIds = items.map((item) => {\r\n\r\n          return item.id\r\n        })\r\n\r\n        const sequence = Object.assign({},\r\n          state.sequence, {\r\n            name: state.newSequenceName,\r\n            readonly: false,\r\n            id: this.guid(),\r\n            stateIds\r\n        })\r\n\r\n        const sequences = sortBy([\r\n          ...state.sequences, sequence\r\n        ], (s) => { return s.name })\r\n\r\n        this.react.setState({\r\n          sequences,\r\n          sequence,\r\n          items\r\n        })\r\n\r\n        if (this.api) {\r\n\r\n          this.api.addSequence (Object.assign({},\r\n            sequence, {\r\n              stateIds: []\r\n            })).then(() => {\r\n\r\n            this.api.addState (sequence.id, items)\r\n          })\r\n        }\r\n      }\r\n\r\n      this.dialogSvc.off('dialog.close', onClose)\r\n    }\r\n\r\n    this.dialogSvc.on('dialog.close', onClose)\r\n\r\n    this.dialogSvc.setState({\r\n      className: 'config-manager-dlg',\r\n      title: 'Copy Sequence ...',\r\n      content:\r\n        <div>\r\n          <ContentEditable\r\n            onChange={(e) => this.onInputChanged(e, 'newSequenceName')}\r\n            onKeyDown={(e) => this.onKeyDown(e)}\r\n            data-placeholder=\"Sequence name ...\"\r\n            className=\"sequence-name-input\"\r\n            html={''}/>\r\n        </div>,\r\n      open: true\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  deleteSequence () {\r\n\r\n    const state = this.react.getState()\r\n\r\n    const onClose = (result) => {\r\n\r\n      if (result === 'OK') {\r\n\r\n        if (this.api) {\r\n\r\n          this.api.deleteSequence(state.sequence.id)\r\n        }\r\n\r\n        this.emit('sequence.deleted', state.sequence)\r\n\r\n        const sequences = state.sequences.filter(\r\n          (sequence) => {\r\n            return sequence.id !== state.sequence.id\r\n          })\r\n\r\n        const sequence = sequences.length ?\r\n          sequences[0] : null\r\n\r\n        this.react.setState({\r\n          sequences\r\n        })\r\n\r\n        this.setActiveSequence(sequence)\r\n      }\r\n\r\n      this.dialogSvc.off('dialog.close', onClose)\r\n    }\r\n\r\n    this.dialogSvc.on('dialog.close', onClose)\r\n\r\n    const msg = DOMPurify.sanitize(\r\n      `Are you sure you want to delete`\r\n      + ` <b>${state.sequence.name}</b> ?`)\r\n\r\n    this.dialogSvc.setState({\r\n      className: 'config-manager-dlg',\r\n      title: 'Delete Sequence ...',\r\n      content:\r\n        <div dangerouslySetInnerHTML={{__html: msg}}>\r\n        </div>,\r\n      open: true\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getStateIds () {\r\n\r\n    const domItems = document.getElementsByClassName(\r\n      this.itemsClass)[0]\r\n\r\n    const stateIds =\r\n      Array.from(domItems.childNodes).map(\r\n        (childNode) => {\r\n\r\n          return childNode.dataset.id\r\n        })\r\n\r\n    return stateIds\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async onUpdateSequence () {\r\n\r\n    const { sequence, items } = this.react.getState()\r\n\r\n    const stateIds = this.getStateIds()\r\n\r\n    const newSequence = Object.assign({},\r\n      sequence, {\r\n        stateIds\r\n      })\r\n\r\n    const newItems = stateIds.map((id) => {\r\n\r\n      for (const item of items) {\r\n\r\n        if (item.id === id) {\r\n\r\n          return item\r\n        }\r\n      }\r\n    })\r\n\r\n    this.react.setState({\r\n      sequence: newSequence,\r\n      items: newItems\r\n    })\r\n\r\n    if (this.api) {\r\n\r\n      this.api.updateSequence(newSequence)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  addItem () {\r\n\r\n    const state = this.react.getState()\r\n\r\n    const name = !state.newStateName.length\r\n      ? new Date().toString('d/M/yyyy H:mm:ss')\r\n      : DOMPurify.sanitize(state.newStateName)\r\n\r\n    const viewerState = Object.assign({},\r\n      this.viewer.getState(), {\r\n        id: this.guid(),\r\n        name\r\n      })\r\n\r\n    if (this.api) {\r\n\r\n      this.api.addState(\r\n        state.sequence.id,\r\n        viewerState)\r\n    }\r\n\r\n    this.react.setState({\r\n      items: [...state.items, viewerState],\r\n      newStateName: ''\r\n    })\r\n\r\n    const event = `restoreState.${viewerState.id}`\r\n\r\n    this.restoreEvents.push(event)\r\n\r\n    this.on(event, () => {\r\n\r\n      this.onRestoreState(viewerState)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////////\r\n  onRestoreState (viewerState) {\r\n\r\n    this.viewer.getState (viewerState)\r\n\r\n    const filteredState = this.filterState(\r\n      viewerState,\r\n      'objectSet',\r\n      'explodeScale')\r\n\r\n    this.viewer.restoreState(\r\n      filteredState,\r\n      null,\r\n      this.options.restoreImmediate)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////////\r\n  deleteItem (id) {\r\n\r\n    const state = this.react.getState()\r\n\r\n    this.react.setState({\r\n      items: state.items.filter((item) => {\r\n        return item.id !== id\r\n      })\r\n    })\r\n\r\n    this.emit('state.deleted', id)\r\n\r\n    if (this.api) {\r\n\r\n      this.api.deleteState(state.sequence.id, id)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onKeyDown (e) {\r\n\r\n    if (e.keyCode === 13) {\r\n\r\n      e.stopPropagation()\r\n      e.preventDefault()\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onInputChanged (e, key) {\r\n\r\n    const state = this.react.getState()\r\n\r\n    state[key] = e.target.value\r\n\r\n    this.react.setState(state)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Filter a state selections\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  filterState (srcState, setNames, elementNames) {\r\n\r\n    const strObj = JSON.stringify(srcState)\r\n\r\n    const state = JSON.parse(strObj)\r\n\r\n    const sets = Array.isArray(setNames) ?\r\n      setNames : [setNames]\r\n\r\n    const elements = Array.isArray(elementNames) ?\r\n      elementNames : [elementNames]\r\n\r\n    sets.forEach((setName)=>{\r\n\r\n      if (state[setName]) {\r\n\r\n        elements.forEach((elementName)=>{\r\n\r\n          state[setName].forEach((element)=> {\r\n\r\n            delete element[elementName]\r\n          })\r\n        })\r\n      }\r\n    })\r\n\r\n    return state\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // A fix for viewer.restoreState\r\n  // that also restores pivotPoint\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  restoreStateWithPivot(state, filter=null, immediate=false) {\r\n\r\n    const viewer = this.viewer\r\n\r\n    function onStateRestored() {\r\n\r\n      viewer.removeEventListener(\r\n        Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\r\n        onStateRestored);\r\n\r\n      const pivot = state.viewport.pivotPoint;\r\n\r\n      setTimeout(function () {\r\n\r\n        viewer.navigation.setPivotPoint(\r\n          new THREE.Vector3(\r\n            pivot[0], pivot[1], pivot[2]))\r\n      }, 1250)\r\n    }\r\n\r\n    viewer.addEventListener(\r\n      Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\r\n      onStateRestored)\r\n\r\n    viewer.restoreState(state, filter, immediate)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  activateDrag () {\r\n\r\n    const domItems =\r\n      document.getElementsByClassName(\r\n        this.itemsClass)[0]\r\n\r\n    if (this.drake) {\r\n\r\n      this.drake.destroy()\r\n    }\r\n\r\n    this.drake = Dragula([domItems])\r\n\r\n    this.drake.on('drop', () => {\r\n\r\n      this.onUpdateSequence()\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async setActiveSequence (sequence) {\r\n\r\n    clearTimeout(this.playTimeout)\r\n\r\n    this.playTimeout = null\r\n\r\n    this.sequenceIdx = 0\r\n\r\n    this.restoreEvents.forEach((event) => {\r\n\r\n      this.off(event)\r\n    })\r\n\r\n    this.events = []\r\n\r\n    this.react.setState({\r\n      items: [],\r\n      sequence\r\n    })\r\n\r\n    if (this.drake) {\r\n\r\n      this.drake.destroy()\r\n      this.drake = null\r\n    }\r\n\r\n    if (sequence) {\r\n\r\n      if (!sequence.readonly) {\r\n\r\n        this.activateDrag()\r\n      }\r\n\r\n      if (this.api) {\r\n\r\n        const states =\r\n          await this.api.getStates(\r\n            sequence.id)\r\n\r\n        states.map((state) => {\r\n\r\n          this.on(`restoreState.${state.id}`, () => {\r\n\r\n            this.onRestoreState(state)\r\n          })\r\n        })\r\n\r\n        await this.react.setState({\r\n          items: states\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  playSequence (period) {\r\n\r\n    // sequence is playing -> stopping it\r\n    if (this.playTimeout) {\r\n\r\n      clearTimeout(this.playTimeout)\r\n\r\n      this.playTimeout = null\r\n\r\n      this.react.setState({\r\n        play: false\r\n      })\r\n\r\n      return\r\n    }\r\n\r\n    const stateIds = this.getStateIds()\r\n\r\n    const step = (stateId) => {\r\n\r\n      const state = this.react.getState()\r\n\r\n      this.emit(`restoreState.${stateId}`)\r\n\r\n      this.react.setState({\r\n        play: true,\r\n        items: state.items.map((item) => {\r\n          if (item.active) {\r\n            item.active = false\r\n            this.emit('state.toggled', item)\r\n          }\r\n          if (item.id === stateId) {\r\n            item.active = true\r\n            this.emit('state.toggled', item)\r\n          }\r\n          return item\r\n        })\r\n      })\r\n\r\n      if ((++this.sequenceIdx) == stateIds.length) {\r\n\r\n        const { loop } = this.react.getState()\r\n\r\n        if (!loop) {\r\n\r\n          this.react.setState({\r\n            play: false\r\n          })\r\n\r\n          this.playTimeout = null\r\n\r\n          return\r\n        }\r\n\r\n        this.sequenceIdx = 0\r\n      }\r\n\r\n      return setTimeout(() => {\r\n\r\n        this.playTimeout = step(stateIds[this.sequenceIdx])\r\n\r\n      }, period)\r\n    }\r\n\r\n    if (stateIds.length > 0) {\r\n\r\n      this.playTimeout = step (stateIds[this.sequenceIdx])\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async setDocking (docked) {\r\n\r\n    const id = ConfigManagerExtension.ExtensionId\r\n\r\n    const {sequence} = this.react.getState()\r\n\r\n    if (docked) {\r\n\r\n      await this.react.popRenderExtension(id)\r\n\r\n      const panel = await this.react.pushViewerPanel(this, {\r\n          height: 250,\r\n          width: 300\r\n        })\r\n\r\n      panel.on('update', () => {\r\n\r\n        if (sequence && !sequence.readonly) {\r\n\r\n          this.activateDrag ()\r\n        }\r\n\r\n        panel.off()\r\n      })\r\n\r\n    } else {\r\n\r\n      await this.react.popViewerPanel(id)\r\n\r\n      await this.react.pushRenderExtension(this)\r\n\r\n      this.setActiveSequence (sequence)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderTitle (docked) {\r\n\r\n    const spanClass = docked\r\n      ? 'fa fa-chain-broken'\r\n      : 'fa fa-chain'\r\n\r\n    return (\r\n      <div className=\"title\">\r\n        <label>\r\n          Config Manager\r\n        </label>\r\n        <div className=\"config-manager-controls\">\r\n          <button onClick={() => this.setDocking(docked)}\r\n            title=\"Toggle docking mode\">\r\n            <span className={spanClass}/>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderControls () {\r\n\r\n    const state = this.react.getState()\r\n\r\n    const sequences = state.sequences.map((sequence) => {\r\n\r\n      const id = sequence.id\r\n\r\n      return (\r\n        <MenuItem eventKey={id} key={id} onClick={() => {\r\n\r\n          this.setActiveSequence(sequence)\r\n        }}>\r\n          { sequence.name }\r\n        </MenuItem>\r\n      )\r\n    })\r\n\r\n    const sequence = state.sequence\r\n\r\n    const sequenceName = sequence\r\n      ? sequence.name +\r\n        (!sequence.readonly ? '' : ' (readonly)')\r\n      : ''\r\n\r\n    const stateCreationDisabled =\r\n      !sequence ||\r\n      sequence.readonly ||\r\n      !state.stateCreation\r\n\r\n    return (\r\n      <div className=\"controls\">\r\n\r\n        <div className=\"row\">\r\n\r\n          <DropdownButton\r\n            title={\"Sequence: \" +  sequenceName}\r\n            className=\"sequence-dropdown\"\r\n            disabled={!sequence}\r\n            key=\"sequence-dropdown\"\r\n            id=\"sequence-dropdown\">\r\n           { sequences }\r\n          </DropdownButton>\r\n\r\n          <button onClick={() => this.addSequence()}\r\n            title=\"Add sequence\">\r\n            <span className=\"fa fa-plus\"/>\r\n          </button>\r\n\r\n          <button onClick={() => this.copySequence()}\r\n            disabled={!sequence}\r\n            title=\"Copy sequence\">\r\n            <span className=\"fa fa-copy\"/>\r\n          </button>\r\n\r\n          <button onClick={() => this.deleteSequence()}\r\n            disabled={!sequence || sequence.readonly}\r\n            title=\"Delete sequence\">\r\n            <span className=\"fa fa-times\"/>\r\n          </button>\r\n\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n\r\n          <ContentEditable\r\n            onChange={(e) => this.onInputChanged(e, 'newStateName')}\r\n            data-placeholder={state.emptyStateNameCaption}\r\n            onKeyDown={(e) => this.onKeyDown(e)}\r\n            disabled={stateCreationDisabled}\r\n            className=\"state-name-input\"\r\n            html={state.newStateName}/>\r\n\r\n          <button disabled={stateCreationDisabled}\r\n            onClick={() => this.addItem()}\r\n            title=\"Save state\">\r\n            <span className=\"fa fa-database\"/>\r\n          </button>\r\n\r\n          <button\r\n            title={state.play ? \"Pause sequence\" : \"Play sequence\"}\r\n            onClick={() => this.playSequence(1800)}\r\n            disabled={!sequence}>\r\n            <span className={\"fa fa-\" + (state.play ? \"pause\" : \"play\")}/>\r\n          </button>\r\n\r\n          <Switch isChecked={true} className=\"loop\"\r\n            onChange={(loop) => {\r\n              this.react.setState({\r\n                loop\r\n              })\r\n            }}/>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  toggleItem (selectedItem) {\r\n\r\n    const state = this.react.getState()\r\n\r\n    const items = state.items.map((item) => {\r\n\r\n      if (item.id === selectedItem.id) {\r\n\r\n        item.active = !item.active\r\n\r\n        if (item.active) {\r\n\r\n          this.onRestoreState(selectedItem)\r\n        }\r\n      }\r\n\r\n      return item\r\n    })\r\n\r\n    this.emit('state.toggled', selectedItem)\r\n\r\n    this.react.setState({\r\n      items\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderItems () {\r\n\r\n    const state = this.react.getState()\r\n\r\n    const items = state.items.map((item) => {\r\n\r\n      const text = DOMPurify.sanitize(item.name)\r\n\r\n      const className = \"item\" +\r\n        (state.stateSelection ? ' selectable' : '') +\r\n        (this.itemToggling ? ' toggable' : '') +\r\n        (item.active ? ' active' :'')\r\n\r\n      return (\r\n        <div data-id={item.id} data-name={text}\r\n          className={className}\r\n          key={item.id}\r\n          onClick={() => {\r\n            if(state.stateSelection) {\r\n              if (this.itemToggling) {\r\n                this.toggleItem(item)\r\n              } else {\r\n                this.onRestoreState (item)\r\n              }\r\n            }\r\n          }}>\r\n\r\n          <Label text={text}/>\r\n\r\n          {\r\n            !state.sequence.readonly &&\r\n            <button onClick={(e) => {\r\n                this.deleteItem(item.id)\r\n                e.stopPropagation()\r\n                e.preventDefault()\r\n            }}\r\n              title=\"Delete state\">\r\n              <span className=\"fa fa-times\"/>\r\n            </button>\r\n          }\r\n\r\n        </div>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div className={`items ${this.itemsClass}`}>\r\n        { items }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render (opts) {\r\n\r\n    const state = this.react.getState()\r\n\r\n    return (\r\n      <WidgetContainer\r\n        renderTitle={() => this.renderTitle(opts.docked)}\r\n        showTitle={opts.showTitle}\r\n        className={this.className}>\r\n        {\r\n            state.disabled &&\r\n            <div className=\"disabled-overlay\"/>\r\n        }\r\n        { this.renderControls() }\r\n        { this.renderItems() }\r\n\r\n      </WidgetContainer>\r\n    )\r\n  }\r\n}\r\n\r\nAutodesk.Viewing.theExtensionManager.registerExtension(\r\n  ConfigManagerExtension.ExtensionId,\r\n  ConfigManagerExtension)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.ConfigManager.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../css-loader/index.js!../../postcss-loader/index.js??ref--1-2!./dragula.min.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../css-loader/index.js!../../postcss-loader/index.js??ref--1-2!./dragula.min.css\", function() {\n\t\t\tvar newContent = require(\"!!../../css-loader/index.js!../../postcss-loader/index.js??ref--1-2!./dragula.min.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-dragula/dist/dragula.min.css\n// module id = 1776\n// module chunks = 19","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.ConfigManager.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.ConfigManager.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.ConfigManager.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.ConfigManager.scss\n// module id = 1805\n// module chunks = 19"],"sourceRoot":""}