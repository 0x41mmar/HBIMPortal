{"version":3,"sources":["webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/index.js?88e8***************","webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js?6fc5***************","webpack:///./~/lodash/_baseForOwn.js?f659**********","webpack:///./~/lodash/_baseFlatten.js?a3c3********","webpack:///./~/lodash/sortBy.js?2be6*******","webpack:///./~/lodash/_isFlattenable.js?0a54********","webpack:///./~/lodash/_baseEach.js?08a1*******","webpack:///./~/lodash/_baseMap.js?e43e*******","webpack:///./~/lodash/_baseOrderBy.js?45d1*******","webpack:///./~/lodash/_baseSortBy.js?8b72*******","webpack:///./~/lodash/_compareAscending.js?1e2c*******","webpack:///./~/lodash/_compareMultiple.js?e80d*******","webpack:///./~/lodash/_createBaseEach.js?843d*******","webpack:///./src/client/components/PaneManager/PaneManager.scss","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ExtensionManager/Viewing.Extension.ExtensionManager.scss","webpack:///./src/client/components/PaneManager/PaneElement.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ExtensionManager/index.js","webpack:///./src/client/components/PaneManager/PaneManager.scss?6a9c","webpack:///./src/client/components/PaneManager/PaneManager.js","webpack:///./src/client/components/PaneManager/index.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ExtensionManager/ExtensionPane.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ExtensionManager/Viewing.Extension.ExtensionManager.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ExtensionManager/Viewing.Extension.ExtensionManager.scss?38ba"],"names":["MultiModelExtensionBase","viewer","options","defaultOptions","onModelCompletedLoad","bind","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","impl","modelQueue","getModels","map","model","guid","initializeEvents","viewerEvents","forEach","event","removeEventListener","id","handler","eventSink","off","viewerEvent","Autodesk","Viewing","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","then","args","filter","on","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","addEventListener","eventIdArray","Array","isArray","eventTasks","resolve","__handler","all","Composer","Extension","PaneElement","onLockSizeClicked","onMinimizeClicked","onMaximizeClicked","state","size","props","onLockSize","locked","sizeLocked","maxSize","minSize","paneId","getSize","currentSize","update","newSize","setState","done","from","to","animate","onStopResize","start","end","window","innerHeight","domElement","findDOMNode","orientation","offsetHeight","offsetWidth","speed","fn","stopwatch","stepFn","dt","getElapsedMs","requestAnimationFrame","showTitle","renderTitle","renderControls","title","lockStyle","color","lockClass","style","height","children","Component","propTypes","bool","defaultProps","PaneManager","data","minSizeInit","maxSizeInit","cloneChildren","childIdx","length","prototype","concat","apply","Children","format","d","Date","getTime","replace","c","r","Math","random","floor","toString","nextChildren","flatMapChildren","child","idx","childId","childState","newProps","Number","MAX_VALUE","direction","getDirection","showSplitter","splitterStyle","display","splitter","paneElement","cloneElement","string","isRequired","ExtensionPane","classNames","className","split","join","ExtensionManager","storageSvc","getService","render","reactOpts","pushRenderExtension","extension","react","getState","renderExtensions","visible","forceUpdate","popRenderExtension","extensionId","ext","e","loader","show","extensionsByName","extensions","name","storage","load","loadExts","useStorage","storageExtensions","enabled","includes","loadDynamicExtension","console","log","reject","loading","native","loadExtension","extInstance","error","popViewerPanel","unloadExtension","renderExts","save","onResize","visibleExtensions","hidden","onExtensionItemClicked","ExtensionId","displayIndex","nbExt","extensionPanes","flexProp","flex","docked","panes","renderExtensionManager","theExtensionManager","registerExtension"],"mappings":"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B,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACrCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,yBAAyB;AACpC;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA,MAAM,8BAA8B;AACpC,MAAM,8BAA8B;AACpC,MAAM,8BAA8B;AACpC,MAAM;AACN;AACA;AACA,iCAAiC,eAAe,EAAE;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;AC/CA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACnBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,aAAa;AAC1B;AACA;;AAEA;;;;;;;;ACbA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,6BAA6B;AACxC,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,YAAY;AACZ,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAA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","file":"34.js","sourcesContent":["import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\r\n\r\nexport default MultiModelExtensionBase\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/index.js","import EventsEmitter from 'EventsEmitter'\r\n\r\nexport default class MultiModelExtensionBase extends\r\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (viewer, options = {}, defaultOptions = {}) {\r\n\r\n    super (viewer)\r\n\r\n    // bindings\r\n\r\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\r\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\r\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\r\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\r\n    this.onModelActivated     = this.onModelActivated.bind(this)\r\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\r\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\r\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\r\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\r\n    this.onSelection          = this.onSelection.bind(this)\r\n\r\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\r\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\r\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\r\n\r\n    this.defaultOptions = defaultOptions\r\n\r\n    this.options = Object.assign({},\r\n      defaultOptions,\r\n      options)\r\n\r\n    this.viewer = viewer\r\n\r\n    // read the modelQueue to detect currently loaded models\r\n    // when the extension gets loaded\r\n    const models = viewer.impl.modelQueue().getModels()\r\n\r\n    this.models = models.map((model) => {\r\n\r\n      model.guid = model.guid || this.guid()\r\n\r\n      return model\r\n    })\r\n\r\n    this.initializeEvents ()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static get ExtensionId() {\r\n\r\n    return 'Viewing.Extension.MultiModelExtensionBase'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  load () {\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  unload () {\r\n\r\n    this.viewerEvents.forEach((event) => {\r\n\r\n      this.viewer.removeEventListener(\r\n        event.id, this[event.handler])\r\n    })\r\n\r\n    if (this.eventSink) {\r\n\r\n      this.eventSink.off('model.activated',\r\n        this.__onModelActivated)\r\n\r\n      this.eventSink.off('model.unloaded',\r\n        this.__onModelUnloaded)\r\n\r\n      this.eventSink.off('model.loaded',\r\n        this.__onModelLoaded)\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Reload callback, in case the extension is re-loaded\r\n  // more than once\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  reload (options = {}) {\r\n\r\n    this.options = Object.assign({},\r\n      this.defaultOptions,\r\n      this.options,\r\n      options)\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when extension gets loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onExtensionLoaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when the model starts to load\r\n  // The geometry and instanceTree may not be available\r\n  // at this time\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelBeginLoad (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Triggered by ModelLoader extension when a model is\r\n  // selected in a multi-model environment\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelActivated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelActivated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when model root node has been loaded\r\n  // Extensions that do not require access to full\r\n  // model geometry or component tree may use that\r\n  // event to know a new model has been loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelRootLoaded (event) {\r\n\r\n    this.viewerEvent([\r\n\r\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\r\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\r\n\r\n    ]).then((args) => {\r\n\r\n      this.onModelCompletedLoad (args[0])\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when object tree is fully loaded.\r\n  // Extensions that are interested in using the\r\n  // instanceTree need to use that event to make sure\r\n  // it is available\r\n  //\r\n  ////////////////////////////////////////////////////////\r\n  onObjectTreeCreated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when geometry is fully loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onGeometryLoaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\r\n  // have both been fired\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelCompletedLoad (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked once the viewer toolbar has been created\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onToolbarCreated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Triggered by ModelLoader extension when a model has\r\n  // been unloaded as per user request\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelUnloaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when a model is being selected\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onSelection (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onSelection')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //Sink Events\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  __onModelLoaded (event) {\r\n\r\n    this.models = [...this.models, event.model]\r\n\r\n    this.onModelBeginLoad (event)\r\n  }\r\n\r\n  __onModelActivated (event) {\r\n\r\n    this.onModelActivated (event)\r\n  }\r\n\r\n  __onModelUnloaded (event) {\r\n\r\n    this.models = this.models.filter((model) => {\r\n\r\n      return model.guid !== event.model.guid\r\n    })\r\n\r\n    this.onModelUnloaded(event)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Initialize all events for the extension\r\n  // Each event will invoke a predefined handler\r\n  // implemented or not by the derived extension\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  initializeEvents () {\r\n\r\n    if (this.options.eventSink) {\r\n\r\n      // event object passed in options\r\n      this.eventSink = this.options.eventSink\r\n\r\n      this.eventSink.on('model.loaded',\r\n        this.__onModelLoaded)\r\n\r\n      this.eventSink.on('model.activated',\r\n        this.__onModelActivated)\r\n\r\n      this.eventSink.on('model.unloaded',\r\n        this.__onModelUnloaded)\r\n    }\r\n\r\n    this.viewerEvents = [\r\n      {\r\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\r\n        handler: 'onExtensionLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\r\n        handler: 'onObjectTreeCreated'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\r\n        handler: 'onModelRootLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\r\n        handler: 'onGeometryLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\r\n        handler: 'onToolbarCreated'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\r\n        handler: 'onSelection'\r\n      }\r\n    ]\r\n\r\n    this.viewerEvents.forEach((event) => {\r\n\r\n      this.viewerEvent(event.id, this[event.handler])\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Async viewer event\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  viewerEvent (eventId, handler) {\r\n\r\n    if (handler) {\r\n\r\n      this.viewer.addEventListener (eventId, handler)\r\n      return\r\n    }\r\n\r\n    const eventIdArray = Array.isArray(eventId)\r\n      ? eventId : [eventId]\r\n\r\n    const eventTasks = eventIdArray.map((id) => {\r\n      return new Promise ((resolve) => {\r\n        const __handler = (args) => {\r\n          this.viewer.removeEventListener (id, __handler)\r\n          resolve (args)\r\n        }\r\n        this.viewer.addEventListener (id, __handler)\r\n      })\r\n    })\r\n\r\n    return Promise.all (eventTasks)\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseForOwn.js\n// module id = 1043\n// module chunks = 0 4 10 12 16 17 18 19 20 29 33 34 35","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseFlatten.js\n// module id = 1044\n// module chunks = 0 4 10 12 16 17 18 19 29 34","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/sortBy.js\n// module id = 1053\n// module chunks = 0 4 10 16 17 18 19 29 34","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isFlattenable.js\n// module id = 1056\n// module chunks = 0 4 10 12 16 17 18 19 29 34","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseEach.js\n// module id = 1059\n// module chunks = 0 4 10 16 17 18 19 29 34","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseMap.js\n// module id = 1060\n// module chunks = 0 4 10 16 17 18 19 29 34","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseOrderBy.js\n// module id = 1061\n// module chunks = 0 4 10 16 17 18 19 29 34","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseSortBy.js\n// module id = 1062\n// module chunks = 0 4 10 16 17 18 19 29 34","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_compareAscending.js\n// module id = 1063\n// module chunks = 0 4 10 16 17 18 19 29 34","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_compareMultiple.js\n// module id = 1064\n// module chunks = 0 4 10 16 17 18 19 29 34","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_createBaseEach.js\n// module id = 1065\n// module chunks = 0 4 10 16 17 18 19 29 34","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".pane-element {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.pane-element > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #F5F5F5;\\n  padding-right: 4px;\\n  position: relative;\\n  text-align: left;\\n  color: #373737;\\n  height: 40px;\\n  width: 100%; }\\n\\n.pane-element > .content {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\\n.pane-element > .title > label {\\n  white-space: nowrap;\\n  font-weight: normal;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px;\\n  select: none; }\\n\\n.pane-element > .title > .controls {\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  position: absolute;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  height: 100%;\\n  right: 6px; }\\n\\n.pane-element > .title > .controls > button {\\n  border: 1px solid #c6c6c6;\\n  background-color: #e1e1e1;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  border-radius: 6px;\\n  position: relative;\\n  margin-right: 4px;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  outline: none;\\n  padding: 0px;\\n  height: 24px;\\n  width: 26px; }\\n\\n.pane-element > .title > .controls > button:hover {\\n  border: 1px solid #878787;\\n  background-color: #f5f5f5; }\\n\\n.pane-element > .title > .controls > button > label {\\n  position: relative;\\n  font-size: 20px;\\n  color: #f0fcff;\\n  top: -8px; }\\n\\n.pane-element > .title > .controls > button > span {\\n  margin: 1px auto 0 auto;\\n  pointer-events: none;\\n  color: #9b9b9b;\\n  padding: 0px;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/PaneManager/PaneManager.scss\n// module id = 1371\n// module chunks = 34","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".extension-manager .title {\\n  float: left; }\\n\\n.extension-manager .content {\\n  background: white; }\\n\\n.extension-manager .title > label {\\n  white-space: nowrap;\\n  font-weight: normal;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px;\\n  select: none;\\n  width: 80px; }\\n\\n.extension-manager .extension-list {\\n  height: calc(100% - 12px);\\n  background-color: white;\\n  margin: 6px 0 0 0;\\n  overflow: scroll; }\\n\\n.extension-manager .item {\\n  transition-timing-function: ease;\\n  transition-duration: 1.5s;\\n  transition-property: all;\\n  transition-delay: 0.0s;\\n  background: #ededed;\\n  border: 1px solid #aeaeae;\\n  width: calc(100% - 10px);\\n  white-space: nowrap;\\n  border-radius: 4px;\\n  overflow: hidden;\\n  cursor: pointer;\\n  height: 24px;\\n  padding: 2px;\\n  margin: 5px; }\\n\\n.extension-manager .item:hover {\\n  background: rgba(0, 105, 245, 0.35);\\n  border: 1px solid #1bb1f4; }\\n\\n.extension-manager .item.loading {\\n  cursor: progress; }\\n\\n.extension-manager .item.enabled {\\n  background: rgba(2, 160, 29, 0.72);\\n  border: 2px solid #00f41b; }\\n\\n.extension-manager .item > label {\\n  pointer-events: none;\\n  font-weight: normal;\\n  margin: 0 0 0 10px;\\n  position: relative;\\n  float: left;\\n  top: -2px; }\\n\\n.extension-pane {\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ExtensionManager/Viewing.Extension.ExtensionManager.scss\n// module id = 1388\n// module chunks = 34","import { ReflexElement } from 'react-reflex'\r\nimport PropTypes from 'prop-types'\r\nimport Stopwatch from 'Stopwatch'\r\nimport ReactDOM from 'react-dom'\r\nimport './PaneManager.scss'\r\nimport React from 'react'\r\n\r\nclass PaneElement extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    showTitle: PropTypes.bool\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    showTitle: true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor () {\r\n\r\n    super()\r\n\r\n    this.onLockSizeClicked =\r\n      this.onLockSizeClicked.bind(this)\r\n\r\n    this.onMinimizeClicked =\r\n      this.onMinimizeClicked.bind(this)\r\n\r\n    this.onMaximizeClicked =\r\n      this.onMaximizeClicked.bind(this)\r\n\r\n    this.state = {\r\n      size: -1\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onLockSizeClicked () {\r\n\r\n    this.props.onLockSize({\r\n      locked: this.props.sizeLocked,\r\n      maxSize: this.props.maxSize,\r\n      minSize: this.props.minSize,\r\n      paneId: this.props.id,\r\n      size: this.getSize()\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onMinimizeClicked () {\r\n\r\n    if (this.props.sizeLocked) {\r\n      return\r\n    }\r\n\r\n    const currentSize = this.getSize()\r\n\r\n    const update = (size) => {\r\n\r\n      return new Promise((resolve) => {\r\n\r\n        const newSize = size < this.props.minSize\r\n          ? this.props.minSize\r\n          : size\r\n\r\n        this.setState(Object.assign({},\r\n          this.state, {\r\n            size: newSize\r\n          }), () => resolve())\r\n      })\r\n    }\r\n\r\n    const done = (from, to) => {\r\n\r\n      return from < to\r\n    }\r\n\r\n    this.animate (currentSize,\r\n      this.props.minSize, -450,\r\n      done, update).then(() => {\r\n\r\n        if (this.props.onStopResize) {\r\n\r\n          this.props.onStopResize()\r\n        }\r\n      })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onMaximizeClicked () {\r\n\r\n    if (this.props.sizeLocked) {\r\n      return\r\n    }\r\n\r\n    const currentSize = this.getSize()\r\n\r\n    const update = (size) => {\r\n\r\n      return new Promise((resolve) => {\r\n\r\n        this.setState(Object.assign({},\r\n          this.state, {\r\n            size\r\n          }), () => resolve())\r\n      })\r\n    }\r\n\r\n    const done = (start, end) => {\r\n\r\n      return start >= end\r\n    }\r\n\r\n    this.animate (currentSize,\r\n      window.innerHeight, 450,\r\n      done, update).then(() => {\r\n\r\n        if (this.props.onStopResize) {\r\n\r\n          this.props.onStopResize()\r\n        }\r\n      })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getSize () {\r\n\r\n    const domElement = ReactDOM.findDOMNode(this)\r\n\r\n    switch (this.props.orientation) {\r\n\r\n      case 'horizontal':\r\n        return domElement.offsetHeight\r\n\r\n      case 'vertical':\r\n        return domElement.offsetWidth\r\n\r\n      default:\r\n        return 0\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  animate (start, end, speed, done, fn) {\r\n\r\n    return new Promise((resolve) => {\r\n\r\n      const stopwatch = new Stopwatch()\r\n\r\n      const stepFn = () => {\r\n\r\n        const dt = stopwatch.getElapsedMs() * 0.001\r\n\r\n        if (!done(start, end)) {\r\n\r\n          fn (start += speed * dt).then(() => {\r\n\r\n            window.requestAnimationFrame(stepFn)\r\n          })\r\n\r\n        } else {\r\n\r\n          resolve()\r\n        }\r\n      }\r\n\r\n      stepFn ()\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderTitle () {\r\n\r\n    if (!this.props.showTitle) {\r\n\r\n      return (\r\n        <div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    if (this.props.renderTitle) {\r\n\r\n      return(\r\n        <div className=\"title\">\r\n          { this.props.renderTitle() }\r\n          { this.renderControls() }\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div className=\"title\">\r\n        <label>\r\n          { this.props.title }\r\n        </label>\r\n       { this.renderControls() }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderControls () {\r\n\r\n    const lockStyle = this.props.sizeLocked\r\n      ? { color: '#FF0000' } : {}\r\n\r\n    const lockClass = this.props.sizeLocked\r\n      ? 'fa fa-lock' : 'fa fa-unlock'\r\n\r\n    return (\r\n      <div className=\"controls\">\r\n        <button onClick={this.onLockSizeClicked}\r\n          title=\"lock widget size\">\r\n          <span className={lockClass} style={lockStyle}>\r\n          </span>\r\n        </button>\r\n        <button onClick={this.onMinimizeClicked}\r\n          title=\"minimize widget\">\r\n          <span className=\"fa fa-minus-square-o\">\r\n          </span>\r\n        </button>\r\n        <button onClick={this.onMaximizeClicked}\r\n          title=\"maximize widget\">\r\n          <span className=\"fa fa-plus-square-o\">\r\n          </span>\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    const style = this.props.showTitle\r\n      ? {height: 'calc(100% - 40px)'}\r\n      : {height: '100%'}\r\n\r\n    return (\r\n      <ReflexElement size={this.state.size} {...this.props}>\r\n        <div className=\"pane-element\" style={style}>\r\n          { this.renderTitle() }\r\n          <div className=\"content\">\r\n             { this.props.children }\r\n          </div>\r\n        </div>\r\n      </ReflexElement>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PaneElement\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/PaneManager/PaneElement.js","import './Viewing.Extension.ExtensionManager'\r\n\r\nexport default 'Viewing.Extension.ExtensionManager'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ExtensionManager/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./PaneManager.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./PaneManager.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./PaneManager.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/PaneManager/PaneManager.scss\n// module id = 1612\n// module chunks = 34","import {ReflexContainer, ReflexSplitter} from 'react-reflex'\r\nimport PaneElement from './PaneElement'\r\nimport classNames from 'classnames'\r\nimport PropTypes from 'prop-types'\r\nimport './PaneManager.scss'\r\nimport React from 'react'\r\n\r\nclass PaneManager extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    orientation: PropTypes.string.isRequired\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (props) {\r\n\r\n    super (props)\r\n\r\n    this.onLockSize = this.onLockSize.bind(this)\r\n\r\n    this.state = {\r\n      children: []\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onLockSize (data) {\r\n\r\n    this.state[data.paneId] = this.state[data.paneId] || {\r\n      minSizeInit: data.minSize,\r\n      maxSizeInit: data.maxSize\r\n    }\r\n\r\n    const locked = !this.state[data.paneId].sizeLocked\r\n\r\n    this.state[data.paneId].sizeLocked = locked\r\n\r\n    if (locked) {\r\n\r\n      this.state[data.paneId].minSize = data.size\r\n      this.state[data.paneId].maxSize = data.size\r\n\r\n    } else {\r\n\r\n      this.state[data.paneId].minSize =\r\n        this.state[data.paneId].minSizeInit\r\n\r\n      this.state[data.paneId].maxSize =\r\n        this.state[data.paneId].maxSizeInit\r\n    }\r\n\r\n    this.cloneChildren (this.props.children, this.state)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getDirection (children, childIdx) {\r\n\r\n    return (\r\n      childIdx === 0\r\n      ? 1\r\n      : (childIdx < children.length - 1 ? [1, -1] : -1)\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  flatMapChildren (children, fn) {\r\n\r\n    return Array.prototype.concat.apply(\r\n      [], React.Children.map(children, fn))\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  guid (format = 'xxxxxxxxxxxx') {\r\n\r\n    var d = new Date().getTime()\r\n\r\n    return format.replace(/[xy]/g, (c) => {\r\n      var r = (d + Math.random() * 16) % 16 | 0\r\n      d = Math.floor(d / 16)\r\n      return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  componentWillMount () {\r\n\r\n    this.cloneChildren (this.props.children, this.state)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  componentWillReceiveProps (props) {\r\n\r\n    this.cloneChildren (props.children, this.state)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  cloneChildren (children, state) {\r\n\r\n    const nextChildren = this.flatMapChildren(\r\n      children, (child, idx) => {\r\n\r\n        const childId =\r\n          (state.children.length > 2*idx)\r\n            ? state.children[2*idx].props.id\r\n            : null\r\n\r\n        const childState = childId\r\n          ? state[childId]\r\n          : {}\r\n\r\n        const newProps = Object.assign({}, child.props, {\r\n          maxSize: child.props.maxSize || Number.MAX_VALUE,\r\n          sizeLocked: child.props.sizeLocked || false,\r\n          direction: this.getDirection(children, idx),\r\n          minSize: child.props.minSize || 39,\r\n          onLockSize: this.onLockSize,\r\n          id: childId || this.guid(),\r\n          title: child.props.title\r\n        }, childState)\r\n\r\n        const showSplitter = (idx < children.length - 1)\r\n\r\n        const splitterStyle = {\r\n          display: showSplitter ? 'block' : 'none'\r\n        }\r\n\r\n        const splitter =\r\n          <ReflexSplitter\r\n            style={splitterStyle} propagate={showSplitter}\r\n          />\r\n\r\n        const paneElement =\r\n          <PaneElement {...newProps}>\r\n            { React.cloneElement(child, child.props) }\r\n          </PaneElement>\r\n\r\n        return [ paneElement, splitter]\r\n      })\r\n\r\n    this.setState(Object.assign({},\r\n      this.state, state, {\r\n        children: nextChildren\r\n      }))\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    return (\r\n      <ReflexContainer orientation={this.props.orientation}>\r\n        { this.state.children }\r\n      </ReflexContainer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PaneManager\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/PaneManager/PaneManager.js","import PaneElement from './PaneElement'\r\nimport PaneManager from './PaneManager'\r\n\r\nexport default PaneManager\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/PaneManager/index.js","import PropTypes from 'prop-types'\r\nimport React from 'react'\r\n\r\nclass ExtensionPane extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    className: PropTypes.string\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    className: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    const classNames = [\r\n      'extension-pane',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    return (\r\n      <div className={classNames.join(' ')}>\r\n        {this.props.children}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ExtensionPane\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ExtensionManager/ExtensionPane.js","/////////////////////////////////////////////////////////\r\n// Viewing.Extension.DualViewer\r\n// by Philippe Leefsma, April 2016\r\n//\r\n/////////////////////////////////////////////////////////\r\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\r\nimport './Viewing.Extension.ExtensionManager.scss'\r\nimport ExtensionPane from './ExtensionPane'\r\nimport ServiceManager from 'SvcManager'\r\nimport PaneManager from 'PaneManager'\r\nimport sortBy from 'lodash/sortBy'\r\nimport ReactDOM from 'react-dom'\r\nimport React from 'react'\r\n\r\nclass ExtensionManager extends MultiModelExtensionBase {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor(viewer, options) {\r\n\r\n    super (viewer, options)\r\n\r\n    this.storageSvc = ServiceManager.getService(\r\n      'StorageSvc')\r\n\r\n    this.renderTitle = this.renderTitle.bind(this)\r\n\r\n    this.render = this.render.bind(this)\r\n\r\n    this.reactOpts = {\r\n      pushRenderExtension: (extension) => {\r\n\r\n        return new Promise(async(resolve) => {\r\n\r\n          const state = this.react.getState()\r\n\r\n          if (!state.renderExtensions.length &&\r\n              !state.visible) {\r\n\r\n            this.react.pushRenderExtension(this)\r\n          }\r\n\r\n          this.react.setState({\r\n            renderExtensions: [\r\n              ...state.renderExtensions, extension\r\n            ]\r\n\r\n          }).then(async() => {\r\n\r\n            resolve()\r\n\r\n            await this.react.forceUpdate()\r\n\r\n            this.onStopResize()\r\n          })\r\n        })\r\n      },\r\n      popRenderExtension: (extensionId) => {\r\n\r\n        const state = this.react.getState()\r\n\r\n        const renderExtensions =\r\n          state.renderExtensions.filter((ext) => {\r\n            return ext.id !== extensionId\r\n          })\r\n\r\n        return new Promise((resolve) => {\r\n\r\n          this.react.setState({\r\n            renderExtensions\r\n          }).then(async() => {\r\n\r\n            resolve()\r\n\r\n            if (!renderExtensions.length &&\r\n                !state.visible) {\r\n\r\n              await this.react.popRenderExtension()\r\n            }\r\n\r\n            await this.react.forceUpdate()\r\n\r\n            this.onStopResize()\r\n          })\r\n        })\r\n      }\r\n    }\r\n\r\n    this.react = options.react\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  get className() {\r\n\r\n    return 'extension-manager'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static get ExtensionId() {\r\n\r\n    return 'Viewing.Extension.ExtensionManager'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  load () {\r\n\r\n    this.viewer.addEventListener(\r\n      Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT, (e) => {\r\n\r\n        this.options.loader.show(false)\r\n      })\r\n\r\n    const extensionsByName = sortBy(\r\n      this.options.extensions || [], (ext) => {\r\n        return ext.name\r\n      })\r\n\r\n    this.react.setState({\r\n\r\n      visible: this.options.visible,\r\n      extensions: extensionsByName,\r\n      renderExtensions: []\r\n\r\n    }).then (async() => {\r\n\r\n      if (this.options.visible) {\r\n\r\n        await this.react.pushRenderExtension(this)\r\n      }\r\n\r\n      const extensions = this.options.extensions || []\r\n\r\n      const storage = this.storageSvc.load(\r\n        'extension-manager')\r\n\r\n      const loadExts = extensions.filter ((extension) => {\r\n\r\n        if (this.options.useStorage) {\r\n\r\n          const storageExtensions = storage.extensions || []\r\n\r\n          extension.enabled = extension.enabled ||\r\n            storageExtensions.includes(extension.id)\r\n        }\r\n\r\n        return extension.enabled\r\n      })\r\n\r\n      for (const extension of loadExts) {\r\n\r\n        await this.loadDynamicExtension(extension)\r\n      }\r\n    })\r\n\r\n    console.log('Viewing.Extension.ExtensionManager loaded')\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  unload () {\r\n\r\n    console.log('Viewing.Extension.ExtensionManager unloaded')\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onExtensionLoaded (e) {\r\n\r\n    const { extensions } = this.react.getState()\r\n\r\n    for (let extension of extensions) {\r\n\r\n      if (e.extensionId === extension.id) {\r\n\r\n        extension.enabled = true\r\n\r\n        this.react.setState({\r\n          extensions\r\n        })\r\n\r\n        return\r\n      }\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  loadDynamicExtension (extension) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      const { extensions } = this.react.getState()\r\n\r\n      extension.loading = true\r\n\r\n      this.react.setState({\r\n        extensions\r\n      })\r\n\r\n      const options = Object.assign({},\r\n        extension.options, {\r\n          react: this.reactOpts\r\n        })\r\n\r\n      // native extensions are the ones available\r\n      // with the viewer API\r\n      if (extension.native) {\r\n\r\n        this.viewer.loadExtension(\r\n          extension.id, options).then((extInstance) => {\r\n\r\n            extension.loading = false\r\n            extension.enabled = true\r\n\r\n            this.react.setState({\r\n              extensions\r\n            })\r\n\r\n            resolve (extInstance)\r\n\r\n          }, (error) => {\r\n\r\n            extension.loading = false\r\n\r\n            reject (error)\r\n          })\r\n\r\n      } else {\r\n\r\n        this.viewer.loadDynamicExtension(\r\n          extension.id, options).then((extInstance) => {\r\n\r\n            extension.loading = false\r\n            extension.enabled = true\r\n\r\n            this.react.setState({\r\n              extensions\r\n            })\r\n\r\n            resolve (extInstance)\r\n\r\n          }, (error) => {\r\n\r\n            extension.loading = false\r\n\r\n            reject (error)\r\n          })\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async onExtensionItemClicked (extension) {\r\n\r\n    if (extension.loading) {\r\n\r\n      return\r\n    }\r\n\r\n    if (extension.enabled) {\r\n\r\n      await this.react.popViewerPanel(extension.id)\r\n\r\n      this.viewer.unloadExtension(extension.id)\r\n\r\n      const { extensions, renderExtensions } =\r\n        this.react.getState()\r\n\r\n      extension.enabled = false\r\n\r\n      const renderExts =\r\n        renderExtensions.filter((ext) => {\r\n          return ext.id !== extension.id\r\n        })\r\n\r\n      await this.react.setState({\r\n          renderExtensions: renderExts,\r\n          extensions\r\n        })\r\n\r\n      this.react.forceUpdate()\r\n\r\n      if (this.options.useStorage) {\r\n\r\n        this.storageSvc.save(\r\n          'extension-manager', {\r\n            extensions: extensions.filter((ext) => {\r\n              return ext.enabled\r\n            }).map((ext) => {\r\n              return ext.id\r\n            })\r\n          })\r\n      }\r\n\r\n    } else {\r\n\r\n      const { extensions } = this.react.getState()\r\n\r\n      const extInstance =\r\n        await this.loadDynamicExtension (extension)\r\n\r\n      if (this.options.useStorage) {\r\n\r\n        this.storageSvc.save(\r\n          'extension-manager', {\r\n            extensions: extensions.filter((ext) => {\r\n              return ext.enabled\r\n            }).map((ext) => {\r\n              return ext.id\r\n            })\r\n          })\r\n      }\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onStopResize () {\r\n\r\n    const { renderExtensions } = this.react.getState()\r\n\r\n    renderExtensions.forEach((extension) => {\r\n\r\n      if (extension.onStopResize) {\r\n\r\n        extension.onStopResize()\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onResize () {\r\n\r\n    const { renderExtensions } = this.react.getState()\r\n\r\n    renderExtensions.forEach((extension) => {\r\n\r\n      if (extension.onResize) {\r\n\r\n        extension.onResize()\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderTitle () {\r\n\r\n    return (\r\n      <div className=\"title\">\r\n        <label>\r\n          Extension Manager\r\n        </label>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderExtensions () {\r\n\r\n    const { extensions } = this.react.getState()\r\n\r\n    const visibleExtensions = extensions.filter(\r\n      (extension) => {\r\n\r\n        return !extension.hidden\r\n      })\r\n\r\n    return visibleExtensions.map((extension) => {\r\n\r\n      const className = 'item' +\r\n        (extension.enabled ? ' enabled' : '') +\r\n        (extension.loading ? ' loading' : '')\r\n\r\n      return (\r\n        <div key={extension.id} className={className}\r\n           onClick={() => {\r\n            this.onExtensionItemClicked(extension)\r\n          }}>\r\n          <label>\r\n            { extension.name}\r\n          </label>\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderExtensionManager () {\r\n\r\n    return (\r\n      <ExtensionPane renderTitle={this.renderTitle}\r\n        key={ExtensionManager.ExtensionId}\r\n        className=\"extension-manager\">\r\n\r\n        <div className=\"extension-list\">\r\n          { this.renderExtensions() }\r\n        </div>\r\n\r\n      </ExtensionPane>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    const state = this.react.getState()\r\n\r\n    const renderExtensions = sortBy(\r\n      state.renderExtensions, (ext) => {\r\n        return ext.options.displayIndex || 0\r\n      })\r\n\r\n    const nbExt = renderExtensions.length +\r\n      (this.options.visible ? 1 : 0)\r\n\r\n    const extensionPanes = renderExtensions.map (\r\n      (extension) => {\r\n\r\n        const flexProp = nbExt > 1 && extension.options.flex\r\n          ? {flex: extension.options.flex }\r\n          : {}\r\n\r\n        return (\r\n          <ExtensionPane\r\n            renderTitle={() => extension.renderTitle(true)}\r\n            onStopResize={(e) => this.onStopResize()}\r\n            onResize={(e) => this.onResize()}\r\n            className={extension.className}\r\n            key={extension.id}\r\n            {...flexProp}>\r\n            {\r\n              extension.render({\r\n                showTitle: false,\r\n                docked: true\r\n              })\r\n            }\r\n          </ExtensionPane>\r\n        )\r\n      })\r\n\r\n    const panes = state.visible\r\n      ? [this.renderExtensionManager(), ...extensionPanes]\r\n      :  extensionPanes\r\n\r\n    return (\r\n      <PaneManager orientation=\"horizontal\">\r\n        { panes }\r\n      </PaneManager>\r\n    )\r\n  }\r\n}\r\n\r\nAutodesk.Viewing.theExtensionManager.registerExtension(\r\n  ExtensionManager.ExtensionId,\r\n  ExtensionManager)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ExtensionManager/Viewing.Extension.ExtensionManager.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.ExtensionManager.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.ExtensionManager.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.ExtensionManager.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.ExtensionManager/Viewing.Extension.ExtensionManager.scss\n// module id = 1808\n// module chunks = 34"],"sourceRoot":""}