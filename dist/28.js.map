{"version":3,"sources":["webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?1a41************","webpack:///./src/client/viewer.components/Viewer.Toolkit/index.js?3d64****************","webpack:///./~/babel-runtime/helpers/get.js","webpack:///./src/client/components/Label/Label.scss?d194**********","webpack:///./src/client/viewer.components/Viewer.Toolkit/Viewer.Toolkit.js?9bfb****************","webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/index.js?88e8**********","webpack:///./src/client/components/Switch/Switch.scss?f8a8******","webpack:///./src/client/components/WidgetContainer/index.js?87e1************","webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js?6fc5**********","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js?bbdf************","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?2530*************","webpack:///./~/dompurify/src/purify.js?f974************","webpack:///./src/client/components/Label/index.js?d0bb**********","webpack:///./src/client/components/Label/Label.js?7c58**********","webpack:///./src/client/components/Label/Label.scss?2314***********","webpack:///./src/client/components/Switch/Switch.js?492e******","webpack:///./src/client/components/Switch/index.js?5934******","webpack:///./src/client/components/UIComponents/TreeView/index.js?28a4****","webpack:///./src/client/components/Switch/Switch.scss?9e38*******","webpack:///./src/client/viewer.components/Viewer.EventTool/Viewer.EventTool.js?75e6*****","webpack:///./src/client/viewer.components/Viewer.EventTool/index.js?b393*****","webpack:///./src/client/components/UIComponents/TreeView/TreeDelegate.js?6739****","webpack:///./src/client/components/UIComponents/TreeView/TreeNode.js?c83f****","webpack:///./src/client/components/UIComponents/TreeView/TreeView.js?df75****","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/FilterTreeView.scss","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/FilterTreeView.scss?aa6c","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/index.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/Viewing.Extension.SelectionFilter.scss","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/FilterTreeDelegate.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/FilterTreeNode.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/FilterTreeView.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/index.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/Viewing.Extension.SelectionFilter.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/Viewing.Extension.SelectionFilter.scss?b860"],"names":["Toolkit","format","d","Date","getTime","guid","replace","c","r","Math","random","floor","toString","urn","resolve","reject","paramUrn","startsWith","Autodesk","Viewing","Document","load","doc","error","roles","rootItem","getRootItem","items","roleArray","Array","isArray","forEach","role","getSubItemsWithProperties","type","id","className","tooltip","handler","button","UI","Button","icon","style","fontSize","setToolTip","onClick","viewer","ctrlGroupName","viewerToolbar","getToolbar","ctrlGroup","ControlGroup","addControl","model","dbIds","instanceTree","getData","getRootId","dbIdArray","leafIds","getLeafNodesRec","childCount","enumNodeChildren","childId","push","i","length","ex","getLeafNodes","fragIds","enumNodeFragments","fragId","leafId","dbId","getFragIds","fragList","getFragmentList","fragbBox","THREE","Box3","nodebBox","getWorldBounds","union","requestedProps","dbIdInt","parseInt","isNaN","propTasks","map","displayName","getProperty","all","then","properties","getProperties","result","defaultValue","prop","displayValue","Error","activeModel","propertyTasks","propertyResults","propertyResult","indexOf","sort","propFilter","propRes","filteredRes","filter","res","propFilterArray","getBulkProperties","components","defaultProp","getBulkPropertiesAsync","results","componentsMap","value","split","root","taskFunc","tasks","runTaskOnDataTreeRec","node","parent","children","childNode","task","min","max","material","overlayId","geometry","Geometry","vertices","Vector3","x","y","z","lines","Line","LinePieces","impl","addOverlay","invalidate","setMaterial","createNodeFunc","_buildModelTreeRec","name","getNodeName","rootId","rootNode","taskResults","_executeTaskOnModelTreeRec","hide","targetIds","visibilityManager","setNodeOff","show","isolate","targetLeafIds","leafTasks","resolveLeaf","axis","angle","center","quaternion","Quaternion","setFromAxisAngle","fragProxy","getFragmentProxy","getAnimTransform","position","applyQuaternion","add","multiplyQuaternions","updateAnimTransform","state","immediate","onStateRestored","removeEventListener","VIEWER_STATE_RESTORED_EVENT","pivot","viewport","pivotPoint","setTimeout","navigation","setPivotPoint","addEventListener","restoreState","parentId","nodeName","faceFilter","vertexArray","getLeafFragIds","matrixWorld","meshGeometry","renderProxy","getRenderProxy","attributes","positions","vb","array","indices","index","ib","stride","vbstride","offsets","count","start","oi","ol","il","a","b","vA","vB","vC","fromArray","faceIdx","face","Face3","faces","applyMatrix","computeFaceNormals","computeVertexNormals","mesh","Mesh","scale","excludedFragIds","svf","mc","getVisibleBounds","pt","nodeAccess","nodeBoxes","scaledExplodeDepth","maxDepth","explodeDepth","currentSegmentFraction","it","tmpBox","Float32Array","explodeRec","nodeId","depth","cx","cy","cz","ox","oy","oz","oscale","getNodeBox","mycx","mycy","mycz","dx","dy","dz","boxes","fragments","nbFrags","getCount","box_offset","getUserAgent","navigator","userAgent","isAndroid","match","isBlackBerry","isIOS","isOpera","isWindows","isWindowsDesktop","isWindowsMobile","isAny","MultiModelExtensionBase","options","defaultOptions","onModelCompletedLoad","bind","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","modelQueue","getModels","initializeEvents","viewerEvents","event","eventSink","off","viewerEvent","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","args","on","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","eventIdArray","eventTasks","__handler","Composer","Extension","WidgetContainer","props","showTitle","renderTitle","title","dimensions","Children","child","newProps","cloneElement","classNames","height","join","renderChildren","Component","propTypes","string","bool","defaultProps","Label","width","textAlign","sanitize","text","Switch","checked","setState","disabled","onChange","toggle","module","exports","TreeDelegate","TreeNode","TreeView","EventTool","toolName","toolController","registerTool","getName","active","activateTool","emit","deactivateTool","keyCode","container","contextMenu","clickTimeout","group","tree","clearTimeout","isCollapsed","collapse","expand","selector","target","nodeClickSelector","stopPropagation","preventDefault","rootElem","myRootContainer","NODE_NOT_FOUND","getNodeFromElement","eventTarget","ret","found","hasAttribute","parentElement","getAttribute","nodeIdToNode","av","isTouchDevice","hammer","Hammer","Manager","recognizers","Tap","taps","interval","threshold","posThreshold","Press","time","inputClass","TouchInput","myDelegate","onTreeNodeDoubleClick","onTreeNodeRightClick","onTreeNodeClick","classList","contains","onTreeNodeHover","nodeToElement","remove","clear","Tree","FilterTreeDelegate","getChildIds","delegate","destroy","parentDomElement","document","createElement","appendChild","mount","targetCls","parentNode","parentCls","addChild","childIds","FilterTreeNode","setChecked","onExpand","loadChildren","reactNode","render","domContainer","setDisabled","unmountComponentAtNode","ReactTreeNode","onChecked","FilterTreeView","onNodeChecked","destroyNode","createRootNode","treeContainer","excludeRoot","div","SelectionFilterExtension","eventTool","react","leafNodesMap","pushRenderExtension","addModel","mouseDown","hitTest","clientToWorld","canvasX","canvasY","loadDynamicExtension","ctxMenuExtension","params","menu","console","log","deactivate","getState","guids","m","includes","activate","selections","selection","clearSelection","leafNode","getNodeById","docked","ExtensionId","popRenderExtension","pushViewerPanel","popViewerPanel","spanClass","setDocking","treeViews","opts","renderContent","theExtensionManager","registerExtension"],"mappings":"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AAW7R,SAAX,CAAqBoF,KAArB,CAA2B,GAA3B,CAFC,EAAN;;AAKA,UAAMmN,SAAS,KAAKV,KAAL,CAAWC,SAAX,GACX,mBADW,GAEX,MAFJ;;AAIA,aACE;AAAA;AAAA,UAAK,WAAWQ,WAAWE,IAAX,CAAgB,GAAhB,CAAhB,EAAsC,OAAO,KAAKX,KAAL,CAAWtR,KAAxD;AACK,aAAKwR,WAAL,EADL;AAEE;AAAA;AAAA,YAAK,WAAU,SAAf,EAAyB,OAAO,EAACQ,cAAD,EAAhC;AACG,eAAKE,cAAL;AADH;AAFF,OADF;AAQD;;;EA1F2B,gBAAMC,S,UAM3BC,S,GAAY;AACjB3S,aAAW,oBAAU4S,MADJ;AAEjBd,aAAW,oBAAUe,IAFJ,E,SASZC,Y,GAAe;AACpBhB,aAAW,IADS;AAEpB9R,aAAW,EAFS,E;kBA8ET4R,e;;;;;;;;;;AClGf;;AAEA;AACA;AACA;AACA;AACA,gDAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACpBA,mCAAC;AACD;AACA;AACA;;AAEA;AACA,qDAA0B,sBAAsB,EAAE;AAAA;AAClD,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,EAAE,iBAAiB,EAAE;AAChD;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;;AAEA;AACA,0CAA0C;AAC1C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB,gEAAgE;AAChE,gEAAgE;AAChE,uEAAuE;AACvE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;;AAEhE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,8BAA8B;;AAEzD;AACA;AACA,2CAA2C,oBAAoB;;AAE/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iCAAiC,EAAE;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,iCAAiC;AACrE,+EAA+E;AAC/E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iCAAiC;AACzE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uCAAuC;AACvC,0BAA0B,QAAQ;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,KAAK;AACrB;AACA;AACA,iCAAiC,QAAQ;;AAEzC;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA,iDAAiD,QAAQ;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;;;;;ACv7BD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;IAEqBmB,K;;;AAsBnB;AACA;AACA;AACA;;;AAvBA;AACA;AACA;AACA;AAqBA,iBAAalB,KAAb,EAAoB;AAAA;AAAA,+HAEXA,KAFW;AAGnB;;AAED;AACA;AACA;AACA;;;AAtBA;AACA;AACA;AACA;;;;;6BAoBU;;AAER,UAAMS,cACJ,iBADI,0CAED,KAAKT,KAAL,CAAW7R,SAAX,CAAqBoF,KAArB,CAA2B,GAA3B,CAFC,EAAN;;AAKA,UAAM7E,QAAQ;AACZyS,eAAO,KAAKnB,KAAL,CAAWoB,SAAX,KAAyB,QAAzB,GACH,MADG,GACM,EAFD;AAGZA,mBAAW,KAAKpB,KAAL,CAAWoB;AAHV,OAAd;;AAMA,aACE;AAAA;AAAA,UAAK,WAAWX,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","file":"28.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  background-color: white;\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/WidgetContainer/WidgetContainer.scss\n// module id = 1020\n// module chunks = 0 10 11 12 13 14 15 16 19 21 24 25 26 28 29 31 32 33 35 36 37 39 40","import ViewerToolkit from './Viewer.Toolkit'\r\n\r\nexport default ViewerToolkit\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Toolkit/index.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/get.js\n// module id = 1022\n// module chunks = 0 10 11 12 13 14 15 16 20 21 22 23 24 25 26 27 28 29 30 31 32 33 35 36 37 42 45 46 47 50 51 54","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".label-container {\\n  position: relative;\\n  overflow: hidden;\\n  font-size: 100%;\\n  color: #343434;\\n  height: 100%;\\n  float: left; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/Label/Label.scss\n// module id = 1023\n// module chunks = 1 10 11 14 15 16 17 18 19 24 25 28 29 31 32 38 39 41","\r\n\r\nexport default class Toolkit {\r\n\r\n  ///////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////\r\n  static guid(format = 'xxxxxxxxxxxx') {\r\n\r\n    var d = new Date().getTime();\r\n\r\n    var guid = format.replace(\r\n      /[xy]/g,\r\n      function (c) {\r\n        var r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16);\r\n      });\r\n\r\n    return guid;\r\n  }\r\n\r\n  /////////////////////////////////////////////\r\n  //mobile detection\r\n  //\r\n  /////////////////////////////////////////////\r\n  static get mobile() {\r\n\r\n    return {\r\n\r\n      getUserAgent: function () {\r\n        return navigator.userAgent;\r\n      },\r\n      isAndroid: function () {\r\n        return this.getUserAgent().match(/Android/i);\r\n      },\r\n      isBlackBerry: function () {\r\n        return this.getUserAgent().match(/BlackBerry/i);\r\n      },\r\n      isIOS: function () {\r\n        return this.getUserAgent().match(/iPhone|iPad|iPod/i);\r\n      },\r\n      isOpera: function () {\r\n        return this.getUserAgent().match(/Opera Mini/i);\r\n      },\r\n      isWindows: function () {\r\n        return this.isWindowsDesktop() || this.isWindowsMobile();\r\n      },\r\n      isWindowsMobile: function () {\r\n        return this.getUserAgent().match(/IEMobile/i);\r\n      },\r\n      isWindowsDesktop: function () {\r\n        return this.getUserAgent().match(/WPDesktop/i);\r\n      },\r\n      isAny: function () {\r\n\r\n        return this.isAndroid() ||\r\n          this.isBlackBerry() ||\r\n          this.isIOS() ||\r\n          this.isWindowsMobile();\r\n      }\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load a document from URN\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static loadDocument (urn) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      const paramUrn = !urn.startsWith('urn:')\r\n        ? 'urn:' + urn\r\n        : urn\r\n\r\n      Autodesk.Viewing.Document.load(paramUrn, (doc) => {\r\n\r\n        resolve (doc)\r\n\r\n      }, (error) => {\r\n\r\n        reject (error)\r\n      })\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Return viewables\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getViewableItems (doc, roles = ['3d', '2d']) {\r\n\r\n    const rootItem = doc.getRootItem()\r\n\r\n    let items = []\r\n\r\n    const roleArray = roles\r\n      ? (Array.isArray(roles) ? roles : [roles])\r\n      : []\r\n\r\n    roleArray.forEach((role) => {\r\n\r\n      items = [ ...items,\r\n        ...Autodesk.Viewing.Document.getSubItemsWithProperties(\r\n          rootItem, { type: 'geometry', role }, true) ]\r\n    })\r\n\r\n    return items\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Toolbar button\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static createButton(id, className, tooltip, handler) {\r\n\r\n    var button = new Autodesk.Viewing.UI.Button(id)\r\n\r\n    button.icon.style.fontSize = '24px'\r\n\r\n    button.icon.className = className\r\n\r\n    button.setToolTip(tooltip)\r\n\r\n    button.onClick = handler\r\n\r\n    return button\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Control group\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static createControlGroup (viewer, ctrlGroupName) {\r\n\r\n    var viewerToolbar = viewer.getToolbar(true)\r\n\r\n    if (viewerToolbar) {\r\n\r\n      var ctrlGroup =  new Autodesk.Viewing.UI.ControlGroup(\r\n        ctrlGroupName)\r\n\r\n      viewerToolbar.addControl(ctrlGroup)\r\n\r\n      return ctrlGroup\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getLeafNodes (model, dbIds) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const instanceTree = model.getData().instanceTree\r\n\r\n        dbIds = dbIds || instanceTree.getRootId()\r\n\r\n        const dbIdArray = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n        let leafIds = []\r\n\r\n        const getLeafNodesRec = (id) => {\r\n\r\n          var childCount = 0;\r\n\r\n          instanceTree.enumNodeChildren(id, (childId) => {\r\n\r\n              getLeafNodesRec(childId)\r\n\r\n              ++childCount\r\n            })\r\n\r\n          if (childCount == 0) {\r\n\r\n            leafIds.push(id)\r\n          }\r\n        }\r\n\r\n        for (var i = 0; i < dbIdArray.length; ++i) {\r\n\r\n          getLeafNodesRec(dbIdArray[i])\r\n        }\r\n\r\n        return resolve(leafIds)\r\n\r\n      } catch(ex){\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // get node fragIds\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getFragIds (model, dbIds) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const instanceTree = model.getData().instanceTree\r\n\r\n        dbIds = dbIds || instanceTree.getRootId()\r\n\r\n        const dbIdArray = Array.isArray(dbIds)\r\n          ? dbIds : [dbIds]\r\n\r\n        const leafIds =\r\n          await Toolkit.getLeafNodes(\r\n            model, dbIdArray)\r\n\r\n        const fragIds = []\r\n\r\n        for(var i=0; i< leafIds.length; ++i) {\r\n\r\n          instanceTree.enumNodeFragments(\r\n            leafIds[i], (fragId) => {\r\n              fragIds.push(fragId)\r\n            })\r\n        }\r\n\r\n        return resolve(fragIds)\r\n\r\n      } catch(ex) {\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // get leaf node fragIds\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getLeafFragIds (model, leafId) {\r\n\r\n    const instanceTree = model.getData().instanceTree\r\n\r\n    const fragIds = []\r\n\r\n    instanceTree.enumNodeFragments(\r\n      leafId, (fragId) => {\r\n        fragIds.push(fragId)\r\n      })\r\n\r\n    return fragIds\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Node bounding box\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getWorldBoundingBox (model, dbId) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      try {\r\n\r\n        var fragIds =\r\n          await Toolkit.getFragIds(\r\n            model, dbId)\r\n\r\n        if (!fragIds.length) {\r\n\r\n          return reject('No geometry, invalid dbId?')\r\n        }\r\n\r\n        var fragList = model.getFragmentList()\r\n\r\n        var fragbBox = new THREE.Box3()\r\n        var nodebBox = new THREE.Box3()\r\n\r\n        fragIds.forEach(function(fragId) {\r\n\r\n          fragList.getWorldBounds(fragId, fragbBox)\r\n          nodebBox.union(fragbBox)\r\n        })\r\n\r\n        return resolve(nodebBox)\r\n\r\n      } catch(ex){\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Gets properties from component\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getProperties (model, dbId, requestedProps = null) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const dbIdInt = parseInt(dbId)\r\n\r\n        if (isNaN(dbIdInt)) {\r\n\r\n          return reject(dbId + ' is not a valid integer')\r\n        }\r\n\r\n        if (requestedProps) {\r\n\r\n          const propTasks = requestedProps.map((displayName) => {\r\n\r\n            return Toolkit.getProperty(\r\n              model, dbIdInt, displayName, 'Not Available')\r\n          })\r\n\r\n          Promise.all(propTasks).then((properties) => {\r\n\r\n            resolve(properties)\r\n          })\r\n\r\n        } else {\r\n\r\n          model.getProperties(dbIdInt, (result) => {\r\n\r\n            if (result.properties) {\r\n\r\n              return resolve(\r\n                result.properties)\r\n            }\r\n\r\n            return reject('No Properties')\r\n          })\r\n        }\r\n\r\n      } catch (ex) {\r\n\r\n          return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getProperty (model, dbId, displayName, defaultValue) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      try {\r\n\r\n        model.getProperties(dbId, (result) => {\r\n\r\n          if (result.properties) {\r\n\r\n            result.properties.forEach((prop) => {\r\n\r\n              prop.dbId = dbId\r\n\r\n              if (typeof displayName === 'function') {\r\n\r\n                if (displayName (prop.displayName)){\r\n\r\n                  resolve(prop)\r\n                }\r\n\r\n              } else if (displayName === prop.displayName) {\r\n\r\n                resolve(prop)\r\n              }\r\n            })\r\n\r\n            if (defaultValue) {\r\n\r\n              return resolve({\r\n                displayValue: defaultValue,\r\n                displayName,\r\n                dbId\r\n              })\r\n            }\r\n\r\n            reject(new Error('Not Found'))\r\n\r\n          } else {\r\n\r\n            reject(new Error('Error getting properties'));\r\n          }\r\n        })\r\n\r\n      } catch(ex){\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Gets all existing properties from component  dbIds\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getPropertyList (viewer, dbIds, model = null) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      try {\r\n\r\n        model = model || viewer.activeModel || viewer.model\r\n\r\n        var propertyTasks = dbIds.map((dbId) => {\r\n\r\n          return Toolkit.getProperties(model, dbId)\r\n        })\r\n\r\n        var propertyResults = await Promise.all(\r\n          propertyTasks)\r\n\r\n        var properties = []\r\n\r\n        propertyResults.forEach((propertyResult) => {\r\n\r\n          propertyResult.forEach((prop) => {\r\n\r\n            if (properties.indexOf(prop.displayName) < 0){\r\n\r\n              properties.push(prop.displayName)\r\n            }\r\n          })\r\n        })\r\n\r\n        return resolve(properties.sort())\r\n\r\n      } catch (ex) {\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getBulkPropertiesAsync (model, dbIds, propFilter) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      if (typeof propFilter === 'function') {\r\n\r\n        const propTasks = dbIds.map((dbId) => {\r\n\r\n          return this.getProperty(\r\n            model, dbId, propFilter, 'Not Found')\r\n        })\r\n\r\n        const propRes = await Promise.all(propTasks)\r\n\r\n        const filteredRes = propRes.filter((res) => {\r\n\r\n          return res.displayValue !== 'Not Found'\r\n        })\r\n\r\n        resolve(filteredRes.map((res) => {\r\n\r\n          return {\r\n            properties: [res],\r\n            dbId: res.dbId\r\n          }\r\n        }))\r\n\r\n      } else {\r\n\r\n        const propFilterArray = Array.isArray (propFilter)\r\n          ? propFilter :[propFilter]\r\n\r\n\r\n        model.getBulkProperties(dbIds, propFilterArray, (result) => {\r\n\r\n          resolve (result)\r\n\r\n        }, (error) => {\r\n\r\n          reject(error)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Maps components by property\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static mapComponentsByProp (model, propFilter, components, defaultProp) {\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const results = await Toolkit.getBulkPropertiesAsync(\r\n          model, components, propFilter)\r\n\r\n        const propertyResults = results.map((result) => {\r\n\r\n          const prop = result.properties[0]\r\n\r\n          return Object.assign({}, prop, {\r\n            dbId: result.dbId\r\n          })\r\n        })\r\n\r\n        var componentsMap = {};\r\n\r\n        propertyResults.forEach((result) => {\r\n\r\n          var value = result.displayValue;\r\n\r\n          if (typeof value == 'string') {\r\n\r\n            value = value.split(':')[0]\r\n          }\r\n\r\n          if (!componentsMap[value]) {\r\n\r\n            componentsMap[value] = []\r\n          }\r\n\r\n          componentsMap[value].push(result.dbId)\r\n        })\r\n\r\n        return resolve(componentsMap)\r\n\r\n      } catch (ex) {\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  // Runs recursively the argument task on each node\r\n  // of the data tree\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  static runTaskOnDataTree(root, taskFunc) {\r\n\r\n    var tasks = [];\r\n\r\n    var runTaskOnDataTreeRec = (node, parent=null)=> {\r\n\r\n      if (node.children) {\r\n\r\n        node.children.forEach((childNode)=> {\r\n\r\n          runTaskOnDataTreeRec(childNode, node);\r\n        });\r\n      }\r\n\r\n      var task = taskFunc(node, parent);\r\n\r\n      tasks.push(task);\r\n    }\r\n\r\n    runTaskOnDataTreeRec(root);\r\n\r\n    return Promise.all(tasks);\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static drawBox (viewer, min, max, material, overlayId) {\r\n\r\n    const geometry = new THREE.Geometry()\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, max.z))\r\n\r\n    const lines = new THREE.Line(geometry,\r\n      material, THREE.LinePieces)\r\n\r\n    viewer.impl.addOverlay(overlayId, lines)\r\n\r\n    viewer.impl.invalidate(\r\n      true, true, true)\r\n\r\n    return lines\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Set component material\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static async setMaterial(model, dbId, material) {\r\n\r\n    const fragIds = await Toolkit.getFragIds(\r\n      model, dbId)\r\n\r\n    const fragList = model.getFragmentList()\r\n\r\n    fragIds.forEach((fragId) => {\r\n\r\n      fragList.setMaterial(fragId, material)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Recursively builds the model tree\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static buildModelTree (model, createNodeFunc = null){\r\n\r\n    //builds model tree recursively\r\n    function _buildModelTreeRec(node){\r\n\r\n      instanceTree.enumNodeChildren(node.dbId,\r\n        function(childId) {\r\n\r\n          var childNode = null;\r\n\r\n          if(createNodeFunc){\r\n\r\n            childNode = createNodeFunc(childId);\r\n\r\n          } else {\r\n\r\n            node.children = node.children || [];\r\n\r\n            childNode = {\r\n              dbId: childId,\r\n              name: instanceTree.getNodeName(childId)\r\n            }\r\n\r\n            node.children.push(childNode)\r\n          }\r\n\r\n          _buildModelTreeRec(childNode)\r\n        })\r\n    }\r\n\r\n    //get model instance tree and root component\r\n    var instanceTree = model.getData().instanceTree\r\n\r\n    var rootId = instanceTree.getRootId()\r\n\r\n    var rootNode = {\r\n      dbId: rootId,\r\n      name: instanceTree.getNodeName(rootId)\r\n    }\r\n\r\n    _buildModelTreeRec(rootNode)\r\n\r\n    return rootNode\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Recursively execute task on model tree\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static executeTaskOnModelTree (model, task) {\r\n\r\n    var taskResults = [];\r\n\r\n    function _executeTaskOnModelTreeRec(dbId){\r\n\r\n      instanceTree.enumNodeChildren(dbId,\r\n        function(childId) {\r\n\r\n          taskResults.push(task(model, childId));\r\n\r\n          _executeTaskOnModelTreeRec(childId);\r\n        });\r\n    }\r\n\r\n    //get model instance tree and root component\r\n    var instanceTree = model.getData().instanceTree;\r\n\r\n    var rootId = instanceTree.getRootId();\r\n\r\n    _executeTaskOnModelTreeRec(rootId);\r\n\r\n    return taskResults;\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static hide (viewer, dbIds = [], model = null) {\r\n\r\n    try {\r\n\r\n      model = model || viewer.activeModel || viewer.model\r\n\r\n      viewer.hide (dbIds)\r\n\r\n      const targetIds = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n      const tasks = targetIds.map((dbId) => {\r\n\r\n        return new Promise((resolve) => {\r\n\r\n          viewer.impl.visibilityManager.setNodeOff(\r\n            dbId, true)\r\n\r\n          resolve()\r\n        })\r\n      })\r\n\r\n      return Promise.all(tasks)\r\n\r\n    } catch (ex) {\r\n\r\n      return Promise.reject(ex)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static show (viewer, dbIds = [], model = null) {\r\n\r\n    try {\r\n\r\n      model = model || viewer.activeModel || viewer.model\r\n\r\n      viewer.show (dbIds)\r\n\r\n      const targetIds = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n      targetIds.forEach((dbId) => {\r\n\r\n        viewer.impl.visibilityManager.setNodeOff(\r\n          dbId, false)\r\n      })\r\n\r\n      return Promise.resolve()\r\n\r\n    } catch (ex) {\r\n\r\n      return Promise.reject(ex)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static async isolateFull (viewer, dbIds = [], model = null) {\r\n\r\n    try {\r\n\r\n      model = model || viewer.activeModel || viewer.model\r\n\r\n      viewer.isolate(dbIds)\r\n\r\n      const targetIds = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n      const targetLeafIds = await Toolkit.getLeafNodes(\r\n        model, targetIds)\r\n\r\n      const leafIds = await Toolkit.getLeafNodes (model)\r\n\r\n      const leafTasks = leafIds.map((dbId) => {\r\n\r\n        return new Promise((resolveLeaf) => {\r\n\r\n          const show = !targetLeafIds.length  ||\r\n            targetLeafIds.indexOf(dbId) > -1\r\n\r\n          viewer.impl.visibilityManager.setNodeOff(\r\n            dbId, !show)\r\n\r\n          resolveLeaf()\r\n        })\r\n      })\r\n\r\n      return Promise.all(leafTasks)\r\n\r\n    } catch (ex) {\r\n\r\n      return Promise.reject(ex)\r\n    }\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  // Rotate selected fragments\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  static rotateFragments (viewer, fragIds, axis, angle, center, model = null) {\r\n\r\n    var quaternion = new THREE.Quaternion()\r\n\r\n    quaternion.setFromAxisAngle(axis, angle)\r\n\r\n    model = model || viewer.activeModel || viewer.model\r\n\r\n    fragIds.forEach((fragId) => {\r\n\r\n      var fragProxy = viewer.impl.getFragmentProxy(\r\n        model, fragId)\r\n\r\n      fragProxy.getAnimTransform()\r\n\r\n      var position = new THREE.Vector3(\r\n        fragProxy.position.x - center.x,\r\n        fragProxy.position.y - center.y,\r\n        fragProxy.position.z - center.z)\r\n\r\n      position.applyQuaternion(quaternion)\r\n\r\n      position.add(center)\r\n\r\n      fragProxy.position = position\r\n\r\n      fragProxy.quaternion.multiplyQuaternions(\r\n        quaternion, fragProxy.quaternion)\r\n\r\n      fragProxy.updateAnimTransform()\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // A fix for viewer.restoreState\r\n  // that also restores pivotPoint\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static restoreStateWithPivot (\r\n    viewer, state, filter = null, immediate = false) {\r\n\r\n    const onStateRestored = () => {\r\n\r\n      viewer.removeEventListener(\r\n        Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\r\n        onStateRestored)\r\n\r\n      const pivot = state.viewport.pivotPoint\r\n\r\n      setTimeout(() => {\r\n\r\n        viewer.navigation.setPivotPoint(\r\n          new THREE.Vector3(\r\n            pivot[0], pivot[1], pivot[2]))\r\n      }, immediate ? 0 : 1250)\r\n    }\r\n\r\n    viewer.addEventListener(\r\n      Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\r\n      onStateRestored)\r\n\r\n    viewer.restoreState(state, filter, immediate)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getComponentsByParentName (name, model) {\r\n\r\n    const instanceTree = model.getData().instanceTree\r\n\r\n    const rootId = instanceTree.getRootId()\r\n\r\n    let parentId = 0\r\n\r\n    instanceTree.enumNodeChildren(rootId,\r\n      (childId) => {\r\n\r\n        const nodeName = instanceTree.getNodeName(childId)\r\n\r\n        if (nodeName.indexOf(name) > -1) {\r\n\r\n          parentId = childId\r\n        }\r\n      })\r\n\r\n    return parentId > 0\r\n      ? Toolkit.getLeafNodes(model, parentId)\r\n      : []\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Creates a standard THREE.Mesh out of a Viewer\r\n  // component\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static buildComponentMesh (\r\n    viewer, model, dbId, faceFilter, material) {\r\n\r\n    const vertexArray = []\r\n\r\n    // first we assume the component dbId is a leaf\r\n    // component: ie has no child so contains\r\n    // geometry. This util method will return all fragIds\r\n    // associated with that specific dbId\r\n    const fragIds = Toolkit.getLeafFragIds(model, dbId)\r\n\r\n    let matrixWorld = null\r\n\r\n    const meshGeometry = new THREE.Geometry()\r\n\r\n    fragIds.forEach((fragId) => {\r\n\r\n      // for each fragId, get the proxy in order to access\r\n      // THREE geometry\r\n      const renderProxy =\r\n        viewer.impl.getRenderProxy(\r\n          model, fragId)\r\n\r\n      matrixWorld = matrixWorld ||\r\n      renderProxy.matrixWorld\r\n\r\n      const geometry = renderProxy.geometry\r\n\r\n      const attributes = geometry.attributes\r\n\r\n      const positions = geometry.vb\r\n        ? geometry.vb\r\n        : attributes.position.array\r\n\r\n      const indices = attributes.index.array || geometry.ib\r\n\r\n      const stride = geometry.vb ? geometry.vbstride : 3\r\n\r\n      const offsets = [{\r\n        count: indices.length,\r\n        index: 0,\r\n        start: 0\r\n      }]\r\n\r\n      for (var oi = 0, ol = offsets.length; oi < ol; ++oi) {\r\n\r\n        var start = offsets[oi].start\r\n        var count = offsets[oi].count\r\n        var index = offsets[oi].index\r\n\r\n        for (var i = start, il = start + count; i < il; i += 3) {\r\n\r\n          const a = index + indices[i]\r\n          const b = index + indices[i + 1]\r\n          const c = index + indices[i + 2]\r\n\r\n          const vA = new THREE.Vector3()\r\n          const vB = new THREE.Vector3()\r\n          const vC = new THREE.Vector3()\r\n\r\n          vA.fromArray(positions, a * stride)\r\n          vB.fromArray(positions, b * stride)\r\n          vC.fromArray(positions, c * stride)\r\n\r\n          if (!faceFilter || faceFilter(vA, vB, vC)) {\r\n\r\n            const faceIdx = meshGeometry.vertices.length\r\n\r\n            meshGeometry.vertices.push(vA)\r\n            meshGeometry.vertices.push(vB)\r\n            meshGeometry.vertices.push(vC)\r\n\r\n            const face = new THREE.Face3(\r\n              faceIdx, faceIdx + 1, faceIdx + 2)\r\n\r\n            meshGeometry.faces.push(face)\r\n          }\r\n        }\r\n      }\r\n    })\r\n\r\n    meshGeometry.applyMatrix(matrixWorld)\r\n    meshGeometry.computeFaceNormals()\r\n    meshGeometry.computeVertexNormals()\r\n\r\n    // creates THREE.Mesh\r\n    const mesh = new THREE.Mesh(\r\n      meshGeometry, material)\r\n\r\n    mesh.dbId = dbId\r\n\r\n    return mesh\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static selectiveExplode (viewer, scale, excludedFragIds, model = null) {\r\n\r\n    model = model || viewer.activeModel || viewer.model\r\n\r\n    var svf = model.getData();\r\n\r\n    var mc = model.getVisibleBounds(true).center();\r\n\r\n    var fragList = model.getFragmentList();\r\n\r\n    var pt = new THREE.Vector3();\r\n\r\n    //Input scale is in the range 0-1, where 0\r\n    //means no displacement, and 1 maximum reasonable displacement.\r\n    scale *= 2;\r\n\r\n    //If we have a full part hierarchy we can use a\r\n    //better grouping strategy when exploding\r\n    if (svf.instanceTree && svf.instanceTree.nodeAccess.nodeBoxes && scale !== 0) {\r\n\r\n      var scaledExplodeDepth = scale * (svf.instanceTree.maxDepth - 1) + 1;\r\n      var explodeDepth = 0 | scaledExplodeDepth;\r\n      var currentSegmentFraction = scaledExplodeDepth - explodeDepth;\r\n\r\n      var it = svf.instanceTree;\r\n      var tmpBox = new Float32Array(6);\r\n\r\n      (function explodeRec(nodeId, depth, cx, cy, cz, ox, oy, oz) {\r\n\r\n        var oscale = scale * 2;\r\n\r\n        // smooth transition of this tree depth\r\n        // from non-exploded to exploded state\r\n        if (depth == explodeDepth)\r\n          oscale *= currentSegmentFraction;\r\n\r\n        it.getNodeBox(nodeId, tmpBox);\r\n\r\n        var mycx = 0.5 * (tmpBox[0] + tmpBox[3]);\r\n        var mycy = 0.5 * (tmpBox[1] + tmpBox[4]);\r\n        var mycz = 0.5 * (tmpBox[2] + tmpBox[5]);\r\n\r\n        if (depth > 0 && depth <= explodeDepth) {\r\n          var dx = (mycx - cx) * oscale;\r\n          var dy = (mycy - cy) * oscale;\r\n          var dz = (mycz - cz) * oscale;\r\n\r\n          //var omax = Math.max(dx, Math.max(dy, dz));\r\n          ox += dx;\r\n          oy += dy;\r\n          oz += dz;\r\n        }\r\n\r\n        svf.instanceTree.enumNodeChildren(nodeId, function(dbId) {\r\n\r\n          explodeRec(dbId, depth+1, mycx, mycy, mycz, ox, oy, oz);\r\n\r\n        }, false);\r\n\r\n        svf.instanceTree.enumNodeFragments(nodeId, function(fragId) {\r\n\r\n          if (excludedFragIds.indexOf(fragId.toString()) < 0) {\r\n\r\n            pt.x = ox;\r\n            pt.y = oy;\r\n            pt.z = oz;\r\n\r\n            fragList.updateAnimTransform(fragId, null, null, pt);\r\n          }\r\n\r\n        }, false);\r\n\r\n      })(svf.instanceTree.getRootId(), 0, mc.x, mc.y, mc.x, 0, 0, 0);\r\n\r\n    } else {\r\n\r\n      var boxes = fragList.fragments.boxes;\r\n\r\n      var nbFrags = fragList.getCount()\r\n\r\n      for (var fragId = 0; fragId < nbFrags; ++fragId) {\r\n\r\n        if(excludedFragIds.indexOf(fragId.toString()) < 0) {\r\n\r\n          if (scale == 0) {\r\n\r\n            fragList.updateAnimTransform(fragId);\r\n\r\n          } else {\r\n\r\n            var box_offset = fragId * 6;\r\n\r\n            var cx = 0.5 * (boxes[box_offset] + boxes[box_offset + 3]);\r\n            var cy = 0.5 * (boxes[box_offset + 1] + boxes[box_offset + 4]);\r\n            var cz = 0.5 * (boxes[box_offset + 2] + boxes[box_offset + 5]);\r\n\r\n            cx = scale * (cx - mc.x);\r\n            cy = scale * (cy - mc.y);\r\n            cz = scale * (cz - mc.z);\r\n\r\n            pt.x = cx;\r\n            pt.y = cy;\r\n            pt.z = cz;\r\n\r\n            fragList.updateAnimTransform(fragId, null, null, pt);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Toolkit/Viewer.Toolkit.js","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\r\n\r\nexport default MultiModelExtensionBase\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/index.js","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".switch-container {\\n  position: relative; }\\n\\n.switch-container *:hover {\\n  cursor: pointer; }\\n\\n.switch-container.disabled *:hover {\\n  cursor: not-allowed; }\\n\\ninput[type=\\\"checkbox\\\"].switch {\\n  pointer-events: none;\\n  position: absolute;\\n  cursor: pointer;\\n  opacity: 0; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  vertical-align: middle;\\n  width: 40px;\\n  height: 20px;\\n  border-radius: 999px;\\n  background-color: #9d9d9d;\\n  transition-duration: .4s;\\n  transition-property: background-color, box-shadow;\\n  cursor: pointer; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span {\\n  position: absolute;\\n  font-size: 1.6rem;\\n  color: #f5f5f5;\\n  margin-top: 12px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(1) {\\n  margin-left: 15px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(2) {\\n  margin-left: 55px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div {\\n  width: 60px;\\n  background-position: 0 0;\\n  background-color: #57BB00; }\\n\\n.switch-container.disabled input[type=\\\"checkbox\\\"].switch + div {\\n  background-color: rgba(157, 157, 157, 0.5); }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  width: 60px;\\n  height: 26px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div > div {\\n  float: left;\\n  width: 24px;\\n  height: 24px;\\n  border-radius: inherit;\\n  background: #f5f5f5;\\n  transition-timing-function: cubic-bezier(1, 0, 0, 1);\\n  transition-duration: 0.4s;\\n  transition-property: background-color, -webkit-transform;\\n  transition-property: transform, background-color;\\n  transition-property: transform, background-color, -webkit-transform;\\n  pointer-events: none;\\n  margin-top: 1px;\\n  margin-left: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(20px, 0, 0);\\n  transform: translate3d(20px, 0, 0);\\n  background-color: #f5f5f5; }\\n\\ninput[type=\\\"checkbox\\\"].bigswitch.switch + div > div {\\n  width: 44px;\\n  height: 44px;\\n  margin-top: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(34px, 0, 0);\\n  transform: translate3d(34px, 0, 0); }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/Switch/Switch.scss\n// module id = 1026\n// module chunks = 11 13 14 15 19 21 24 28 31 32 36 38","import WidgetContainer from './WidgetContainer'\r\n\r\nexport default WidgetContainer\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/WidgetContainer/index.js","import EventsEmitter from 'EventsEmitter'\r\n\r\nexport default class MultiModelExtensionBase extends\r\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (viewer, options = {}, defaultOptions = {}) {\r\n\r\n    super (viewer)\r\n\r\n    // bindings\r\n\r\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\r\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\r\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\r\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\r\n    this.onModelActivated     = this.onModelActivated.bind(this)\r\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\r\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\r\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\r\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\r\n    this.onSelection          = this.onSelection.bind(this)\r\n\r\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\r\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\r\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\r\n\r\n    this.defaultOptions = defaultOptions\r\n\r\n    this.options = Object.assign({},\r\n      defaultOptions,\r\n      options)\r\n\r\n    this.viewer = viewer\r\n\r\n    // read the modelQueue to detect currently loaded models\r\n    // when the extension gets loaded\r\n    const models = viewer.impl.modelQueue().getModels()\r\n\r\n    this.models = models.map((model) => {\r\n\r\n      model.guid = model.guid || this.guid()\r\n\r\n      return model\r\n    })\r\n\r\n    this.initializeEvents ()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static get ExtensionId() {\r\n\r\n    return 'Viewing.Extension.MultiModelExtensionBase'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  load () {\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  unload () {\r\n\r\n    this.viewerEvents.forEach((event) => {\r\n\r\n      this.viewer.removeEventListener(\r\n        event.id, this[event.handler])\r\n    })\r\n\r\n    if (this.eventSink) {\r\n\r\n      this.eventSink.off('model.activated',\r\n        this.__onModelActivated)\r\n\r\n      this.eventSink.off('model.unloaded',\r\n        this.__onModelUnloaded)\r\n\r\n      this.eventSink.off('model.loaded',\r\n        this.__onModelLoaded)\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Reload callback, in case the extension is re-loaded\r\n  // more than once\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  reload (options = {}) {\r\n\r\n    this.options = Object.assign({},\r\n      this.defaultOptions,\r\n      this.options,\r\n      options)\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when extension gets loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onExtensionLoaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when the model starts to load\r\n  // The geometry and instanceTree may not be available\r\n  // at this time\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelBeginLoad (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Triggered by ModelLoader extension when a model is\r\n  // selected in a multi-model environment\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelActivated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelActivated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when model root node has been loaded\r\n  // Extensions that do not require access to full\r\n  // model geometry or component tree may use that\r\n  // event to know a new model has been loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelRootLoaded (event) {\r\n\r\n    this.viewerEvent([\r\n\r\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\r\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\r\n\r\n    ]).then((args) => {\r\n\r\n      this.onModelCompletedLoad (args[0])\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when object tree is fully loaded.\r\n  // Extensions that are interested in using the\r\n  // instanceTree need to use that event to make sure\r\n  // it is available\r\n  //\r\n  ////////////////////////////////////////////////////////\r\n  onObjectTreeCreated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when geometry is fully loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onGeometryLoaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\r\n  // have both been fired\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelCompletedLoad (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked once the viewer toolbar has been created\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onToolbarCreated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Triggered by ModelLoader extension when a model has\r\n  // been unloaded as per user request\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelUnloaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when a model is being selected\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onSelection (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onSelection')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //Sink Events\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  __onModelLoaded (event) {\r\n\r\n    this.models = [...this.models, event.model]\r\n\r\n    this.onModelBeginLoad (event)\r\n  }\r\n\r\n  __onModelActivated (event) {\r\n\r\n    this.onModelActivated (event)\r\n  }\r\n\r\n  __onModelUnloaded (event) {\r\n\r\n    this.models = this.models.filter((model) => {\r\n\r\n      return model.guid !== event.model.guid\r\n    })\r\n\r\n    this.onModelUnloaded(event)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Initialize all events for the extension\r\n  // Each event will invoke a predefined handler\r\n  // implemented or not by the derived extension\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  initializeEvents () {\r\n\r\n    if (this.options.eventSink) {\r\n\r\n      // event object passed in options\r\n      this.eventSink = this.options.eventSink\r\n\r\n      this.eventSink.on('model.loaded',\r\n        this.__onModelLoaded)\r\n\r\n      this.eventSink.on('model.activated',\r\n        this.__onModelActivated)\r\n\r\n      this.eventSink.on('model.unloaded',\r\n        this.__onModelUnloaded)\r\n    }\r\n\r\n    this.viewerEvents = [\r\n      {\r\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\r\n        handler: 'onExtensionLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\r\n        handler: 'onObjectTreeCreated'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\r\n        handler: 'onModelRootLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\r\n        handler: 'onGeometryLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\r\n        handler: 'onToolbarCreated'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\r\n        handler: 'onSelection'\r\n      }\r\n    ]\r\n\r\n    this.viewerEvents.forEach((event) => {\r\n\r\n      this.viewerEvent(event.id, this[event.handler])\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Async viewer event\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  viewerEvent (eventId, handler) {\r\n\r\n    if (handler) {\r\n\r\n      this.viewer.addEventListener (eventId, handler)\r\n      return\r\n    }\r\n\r\n    const eventIdArray = Array.isArray(eventId)\r\n      ? eventId : [eventId]\r\n\r\n    const eventTasks = eventIdArray.map((id) => {\r\n      return new Promise ((resolve) => {\r\n        const __handler = (args) => {\r\n          this.viewer.removeEventListener (id, __handler)\r\n          resolve (args)\r\n        }\r\n        this.viewer.addEventListener (id, __handler)\r\n      })\r\n    })\r\n\r\n    return Promise.all (eventTasks)\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","import PropTypes from 'prop-types'\r\nimport ReactDOM from 'react-dom'\r\nimport './WidgetContainer.scss'\r\nimport React from 'react'\r\n\r\nclass WidgetContainer extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    showTitle: PropTypes.bool\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    showTitle: true,\r\n    className: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderTitle () {\r\n\r\n    if (!this.props.showTitle) {\r\n\r\n      return <div/>\r\n    }\r\n\r\n    if (this.props.renderTitle) {\r\n\r\n      return this.props.renderTitle()\r\n    }\r\n\r\n    return (\r\n      <div className=\"title\">\r\n        <label>\r\n          { this.props.title }\r\n        </label>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  renderChildren() {\r\n\r\n    if (this.props.dimensions) {\r\n\r\n      return React.Children.map(this.props.children, (child) => {\r\n\r\n        const newProps = Object.assign({},\r\n          child.props, {\r\n            dimensions: this.props.dimensions\r\n          })\r\n\r\n        return React.cloneElement(child, newProps)\r\n      })\r\n    }\r\n\r\n    return this.props.children\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  render() {\r\n\r\n    const classNames = [\r\n      'widget-container',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    const height = this.props.showTitle\r\n      ? 'calc(100% - 40px)'\r\n      : '100%'\r\n\r\n    return (\r\n      <div className={classNames.join(' ')} style={this.props.style}>\r\n         { this.renderTitle() }\r\n        <div className=\"content\" style={{height}}>\r\n          {this.renderChildren()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WidgetContainer\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/WidgetContainer/WidgetContainer.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/WidgetContainer/WidgetContainer.scss\n// module id = 1031\n// module chunks = 0 10 11 12 13 14 15 16 19 21 24 25 26 28 29 31 32 33 35 36 37 39 40",";(function(factory) {\n    'use strict';\n    /* global window: false, define: false, module: false */\n    var root = typeof window === 'undefined' ? null : window;\n\n    if (typeof define === 'function' && define.amd) {\n        define(function(){ return factory(root); });\n    } else if (typeof module !== 'undefined') {\n        module.exports = factory(root);\n    } else {\n        root.DOMPurify = factory(root);\n    }\n}(function factory(window) {\n    'use strict';\n\n    var DOMPurify = function(window) {\n        return factory(window);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '0.8.9';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n        // not running in a browser, provide a factory function\n        // so that you can pass your own Window\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n    }\n\n    var document = window.document;\n    var originalDocument = document;\n    var DocumentFragment = window.DocumentFragment;\n    var HTMLTemplateElement = window.HTMLTemplateElement;\n    var Node = window.Node;\n    var NodeFilter = window.NodeFilter;\n    var NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap;\n    var Text = window.Text;\n    var Comment = window.Comment;\n    var DOMParser = window.DOMParser;\n    var useDOMParser = false; // See comment below\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n            document = template.content.ownerDocument;\n        }\n    }\n    var implementation = document.implementation;\n    var createNodeIterator = document.createNodeIterator;\n    var getElementsByTagName = document.getElementsByTagName;\n    var createDocumentFragment = document.createDocumentFragment;\n    var importNode = originalDocument.importNode;\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported =\n        typeof implementation.createHTMLDocument !== 'undefined' &&\n        document.documentMode !== 9;\n\n    /* Add properties to a lookup table */\n    var _addToSet = function(set, array) {\n        var l = array.length;\n        while (l--) {\n            if (typeof array[l] === 'string') {\n                array[l] = array[l].toLowerCase();\n            }\n            set[array[l]] = true;\n        }\n        return set;\n    };\n\n    /* Shallow clone an object */\n    var _cloneObj = function(object) {\n        var newObject = {};\n        var property;\n        for (property in object) {\n            if (object.hasOwnProperty(property)) {\n                newObject[property] = object[property];\n            }\n        }\n        return newObject;\n    };\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = _addToSet({}, [\n\n        // HTML\n        'a','abbr','acronym','address','area','article','aside','audio','b',\n        'bdi','bdo','big','blink','blockquote','body','br','button','canvas',\n        'caption','center','cite','code','col','colgroup','content','data',\n        'datalist','dd','decorator','del','details','dfn','dir','div','dl','dt',\n        'element','em','fieldset','figcaption','figure','font','footer','form',\n        'h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i',\n        'img','input','ins','kbd','label','legend','li','main','map','mark',\n        'marquee','menu','menuitem','meter','nav','nobr','ol','optgroup',\n        'option','output','p','pre','progress','q','rp','rt','ruby','s','samp',\n        'section','select','shadow','small','source','spacer','span','strike',\n        'strong','style','sub','summary','sup','table','tbody','td','template',\n        'textarea','tfoot','th','thead','time','tr','track','tt','u','ul','var',\n        'video','wbr',\n\n        // SVG\n        'svg','altglyph','altglyphdef','altglyphitem','animatecolor',\n        'animatemotion','animatetransform','circle','clippath','defs','desc',\n        'ellipse','filter','font','g','glyph','glyphref','hkern','image','line',\n        'lineargradient','marker','mask','metadata','mpath','path','pattern',\n        'polygon','polyline','radialgradient','rect','stop','switch','symbol',\n        'text','textpath','title','tref','tspan','view','vkern',\n\n        // SVG Filters\n        'feBlend','feColorMatrix','feComponentTransfer','feComposite',\n        'feConvolveMatrix','feDiffuseLighting','feDisplacementMap',\n        'feFlood','feFuncA','feFuncB','feFuncG','feFuncR','feGaussianBlur',\n        'feMerge','feMergeNode','feMorphology','feOffset',\n        'feSpecularLighting','feTile','feTurbulence',\n\n        //MathML\n        'math','menclose','merror','mfenced','mfrac','mglyph','mi','mlabeledtr',\n        'mmuliscripts','mn','mo','mover','mpadded','mphantom','mroot','mrow',\n        'ms','mpspace','msqrt','mystyle','msub','msup','msubsup','mtable','mtd',\n        'mtext','mtr','munder','munderover',\n\n        //Text\n        '#text'\n    ]);\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = _addToSet({}, [\n\n        // HTML\n        'accept','action','align','alt','autocomplete','background','bgcolor',\n        'border','cellpadding','cellspacing','checked','cite','class','clear','color',\n        'cols','colspan','coords','datetime','default','dir','disabled',\n        'download','enctype','face','for','headers','height','hidden','high','href',\n        'hreflang','id','ismap','label','lang','list','loop', 'low','max',\n        'maxlength','media','method','min','multiple','name','noshade','novalidate',\n        'nowrap','open','optimum','pattern','placeholder','poster','preload','pubdate',\n        'radiogroup','readonly','rel','required','rev','reversed','role','rows',\n        'rowspan','spellcheck','scope','selected','shape','size','span',\n        'srclang','start','src','step','style','summary','tabindex','title',\n        'type','usemap','valign','value','width','xmlns',\n\n        // SVG\n        'accent-height','accumulate','additivive','alignment-baseline',\n        'ascent','attributename','attributetype','azimuth','basefrequency',\n        'baseline-shift','begin','bias','by','clip','clip-path','clip-rule',\n        'color','color-interpolation','color-interpolation-filters','color-profile',\n        'color-rendering','cx','cy','d','dx','dy','diffuseconstant','direction',\n        'display','divisor','dur','edgemode','elevation','end','fill','fill-opacity',\n        'fill-rule','filter','flood-color','flood-opacity','font-family','font-size',\n        'font-size-adjust','font-stretch','font-style','font-variant','font-weight',\n        'fx', 'fy','g1','g2','glyph-name','glyphref','gradientunits','gradienttransform',\n        'image-rendering','in','in2','k','k1','k2','k3','k4','kerning','keypoints',\n        'keysplines','keytimes','lengthadjust','letter-spacing','kernelmatrix',\n        'kernelunitlength','lighting-color','local','marker-end','marker-mid',\n        'marker-start','markerheight','markerunits','markerwidth','maskcontentunits',\n        'maskunits','max','mask','mode','min','numoctaves','offset','operator',\n        'opacity','order','orient','orientation','origin','overflow','paint-order',\n        'path','pathlength','patterncontentunits','patterntransform','patternunits',\n        'points','preservealpha','r','rx','ry','radius','refx','refy','repeatcount',\n        'repeatdur','restart','result','rotate','scale','seed','shape-rendering',\n        'specularconstant','specularexponent','spreadmethod','stddeviation','stitchtiles',\n        'stop-color','stop-opacity','stroke-dasharray','stroke-dashoffset','stroke-linecap',\n        'stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke','stroke-width',\n        'surfacescale','targetx','targety','transform','text-anchor','text-decoration',\n        'text-rendering','textlength','u1','u2','unicode','values','viewbox',\n        'visibility','vert-adv-y','vert-origin-x','vert-origin-y','word-spacing',\n        'wrap','writing-mode','xchannelselector','ychannelselector','x','x1','x2',\n        'y','y1','y2','z','zoomandpan',\n\n        // MathML\n        'accent','accentunder','bevelled','close','columnsalign','columnlines',\n        'columnspan','denomalign','depth','display','displaystyle','fence',\n        'frame','largeop','length','linethickness','lspace','lquote',\n        'mathbackground','mathcolor','mathsize','mathvariant','maxsize',\n        'minsize','movablelimits','notation','numalign','open','rowalign',\n        'rowlines','rowspacing','rowspan','rspace','rquote','scriptlevel',\n        'scriptminsize','scriptsizemultiplier','selection','separator',\n        'separators','stretchy','subscriptshift','supscriptshift','symmetric',\n        'voffset',\n\n        // XML\n        'xlink:href','xml:id','xlink:title','xml:space','xmlns:xlink'\n    ]);\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    var ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Output should be safe for jQuery's $() factory? */\n    var SAFE_FOR_JQUERY = false;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Specify template detection regex for SAFE_FOR_TEMPLATES mode */\n    var MUSTACHE_EXPR = /\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm;\n    var ERB_EXPR = /<%[\\s\\S]*|[\\s\\S]*%>/gm;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    var FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html string.\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html string */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n     * `Node` is imported into the current `Document`. If this flag is not enabled the\n     * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n     * DOMPurify. */\n    var RETURN_DOM_IMPORT = false;\n\n    /* Output should be free from DOM clobbering attacks? */\n    var SANITIZE_DOM = true;\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = _addToSet({}, [\n        'audio', 'head', 'math', 'script', 'style', 'template', 'svg', 'video'\n    ]);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = _addToSet({}, [\n        'audio', 'video', 'img', 'source', 'image'\n    ]);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = _addToSet({}, [\n        'alt','class','for','id','label','name','pattern','placeholder',\n        'summary','title','value','style','xmlns'\n    ]);\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    /**\n     * _parseConfig\n     *\n     * @param  optional config literal\n     */\n    var _parseConfig = function(cfg) {\n        /* Shield configuration object from tampering */\n        if (typeof cfg !== 'object') {\n            cfg = {};\n        }\n\n        /* Set configuration parameters */\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ?\n            _addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ?\n            _addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ?\n            _addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ?\n            _addToSet({}, cfg.FORBID_ATTR) : {};\n        ALLOW_ARIA_ATTR     = cfg.ALLOW_ARIA_ATTR     !== false; // Default true\n        ALLOW_DATA_ATTR     = cfg.ALLOW_DATA_ATTR     !== false; // Default true\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n        SAFE_FOR_JQUERY     = cfg.SAFE_FOR_JQUERY     ||  false; // Default false\n        SAFE_FOR_TEMPLATES  = cfg.SAFE_FOR_TEMPLATES  ||  false; // Default false\n        WHOLE_DOCUMENT      = cfg.WHOLE_DOCUMENT      ||  false; // Default false\n        RETURN_DOM          = cfg.RETURN_DOM          ||  false; // Default false\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT ||  false; // Default false\n        RETURN_DOM_IMPORT   = cfg.RETURN_DOM_IMPORT   ||  false; // Default false\n        FORCE_BODY          = cfg.FORCE_BODY          ||  false; // Default false\n        SANITIZE_DOM        = cfg.SANITIZE_DOM        !== false; // Default true\n        KEEP_CONTENT        = cfg.KEEP_CONTENT        !== false; // Default true\n\n        if (SAFE_FOR_TEMPLATES) {\n            ALLOW_DATA_ATTR = false;\n        }\n\n        if (RETURN_DOM_FRAGMENT) {\n            RETURN_DOM = true;\n        }\n\n        /* Merge configuration parameters */\n        if (cfg.ADD_TAGS) {\n            if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n                ALLOWED_TAGS = _cloneObj(ALLOWED_TAGS);\n            }\n            _addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n            if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n                ALLOWED_ATTR = _cloneObj(ALLOWED_ATTR);\n            }\n            _addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n            _addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n\n        /* Add #text in case KEEP_CONTENT is set to true */\n        if (KEEP_CONTENT) { ALLOWED_TAGS['#text'] = true; }\n\n        // Prevent further manipulation of configuration.\n        // Not available in IE8, Safari 5, etc.\n        if (Object && 'freeze' in Object) { Object.freeze(cfg); }\n\n        CONFIG = cfg;\n    };\n\n   /**\n     * _forceRemove\n     *\n     * @param  a DOM node\n     */\n    var _forceRemove = function(node) {\n        DOMPurify.removed.push({element: node});\n        try {\n            node.parentNode.removeChild(node);\n        } catch (e) {\n            node.outerHTML = '';\n        }\n    };\n\n   /**\n     * _removeAttribute\n     *\n     * @param  an Attribute name\n     * @param  a DOM node\n     */\n    var _removeAttribute = function(name, node) {\n        DOMPurify.removed.push({\n            attribute: node.getAttributeNode(name),\n            from: node\n        });\n        node.removeAttribute(name);\n    };\n\n   /**\n     * _initDocument\n     *\n     * @param  a string of dirty markup\n     * @return a DOM, filled with the dirty markup\n     */\n    var _initDocument = function(dirty) {\n        /* Create a HTML document */\n        var doc, body;\n\n        /* Fill body with bogus element */\n        if (FORCE_BODY) {\n            dirty = '<remove></remove>' + dirty;\n        }\n\n        /* Use DOMParser to workaround Firefox bug (see comment below) */\n        if (useDOMParser) {\n            try {\n                doc = new DOMParser().parseFromString(dirty, 'text/html');\n            } catch (e) {}\n        }\n\n        /* Otherwise use createHTMLDocument, because DOMParser is unsafe in\n           Safari (see comment below) */\n        if (!doc || !doc.documentElement) {\n            doc = implementation.createHTMLDocument('');\n            body = doc.body;\n            body.parentNode.removeChild(body.parentNode.firstElementChild);\n            body.outerHTML = dirty;\n        }\n\n        /* Work on whole document or just its body */\n        return getElementsByTagName.call(doc,\n            WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    };\n\n    // Safari 10.1+ (unfixed as of time of writing) has a catastrophic bug in\n    // its implementation of DOMParser such that the following executes the\n    // JavaScript:\n    //\n    // new DOMParser()\n    //   .parseFromString('<svg onload=alert(document.domain)>', 'text/html');\n    //\n    // However, Firefox uses a different parser for innerHTML rather than\n    // DOMParser (see https://bugzilla.mozilla.org/show_bug.cgi?id=1205631)\n    // which means that you *must* use DOMParser, otherwise the output may\n    // not be safe if used in a document.write context later.\n    //\n    // So we feature detect the Firefox bug and use the DOMParser if necessary.\n    if (DOMPurify.isSupported) {\n        (function () {\n            var doc = _initDocument('<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">');\n            if (doc.querySelector('svg img')) {\n                useDOMParser = true;\n            }\n        }());\n    }\n\n    /**\n     * _createIterator\n     *\n     * @param  document/fragment to create iterator for\n     * @return iterator instance\n     */\n    var _createIterator = function(root) {\n        return createNodeIterator.call(root.ownerDocument || root,\n            root,\n            NodeFilter.SHOW_ELEMENT\n            | NodeFilter.SHOW_COMMENT\n            | NodeFilter.SHOW_TEXT,\n            function() { return NodeFilter.FILTER_ACCEPT; },\n            false\n        );\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  element to check for clobbering attacks\n     * @return true if clobbered, false if safe\n     */\n    var _isClobbered = function(elm) {\n        if (elm instanceof Text || elm instanceof Comment) {\n            return false;\n        }\n        if (  typeof elm.nodeName !== 'string'\n           || typeof elm.textContent !== 'string'\n           || typeof elm.removeChild !== 'function'\n           || !(elm.attributes instanceof NamedNodeMap)\n           || typeof elm.removeAttribute !== 'function'\n           || typeof elm.setAttribute !== 'function'\n        ) {\n            return true;\n        }\n        return false;\n    };\n\n    /**\n     * _isNode\n     *\n     * @param object to check whether it's a DOM node\n     * @return true is object is a DOM node\n     */\n    var _isNode = function(obj) {\n        return (\n            typeof Node === \"object\" ? obj instanceof Node : obj\n                && typeof obj === \"object\" && typeof obj.nodeType === \"number\"\n                && typeof obj.nodeName===\"string\"\n        );\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   node to check for permission to exist\n     * @return  true if node was killed, false if left alive\n     */\n    var _sanitizeElements = function(currentNode) {\n        var tagName, content;\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeElements', currentNode, null);\n\n        /* Check if element is clobbered or can clobber */\n        if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Now let's check the element's type and name */\n        tagName = currentNode.nodeName.toLowerCase();\n\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeElement', currentNode, {\n            tagName: tagName,\n            allowedTags: ALLOWED_TAGS\n        });\n\n        /* Remove element if anything forbids its presence */\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            /* Keep content except for black-listed elements */\n            if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]\n                    && typeof currentNode.insertAdjacentHTML === 'function') {\n                try {\n                    currentNode.insertAdjacentHTML('AfterEnd', currentNode.innerHTML);\n                } catch (e) {}\n            }\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Convert markup to cover jQuery behavior */\n        if (SAFE_FOR_JQUERY && !currentNode.firstElementChild &&\n                (!currentNode.content || !currentNode.content.firstElementChild) &&\n                /</g.test(currentNode.textContent)) {\n            DOMPurify.removed.push({element: currentNode.cloneNode()});\n            currentNode.innerHTML = currentNode.textContent.replace(/</g, '&lt;');\n        }\n\n        /* Sanitize element content to be template-safe */\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n            /* Get the element's text content */\n            content = currentNode.textContent;\n            content = content.replace(MUSTACHE_EXPR, ' ');\n            content = content.replace(ERB_EXPR, ' ');\n            if (currentNode.textContent !== content) {\n                DOMPurify.removed.push({element: currentNode.cloneNode()});\n                currentNode.textContent = content;\n            }\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeElements', currentNode, null);\n\n        return false;\n    };\n\n    var DATA_ATTR = /^data-[\\-\\w.\\u00B7-\\uFFFF]/;\n    var ARIA_ATTR = /^aria-[\\-\\w]+$/;\n    var IS_ALLOWED_URI = /^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i;\n    var IS_SCRIPT_OR_DATA = /^(?:\\w+script|data):/i;\n    /* This needs to be extensive thanks to Webkit/Blink's behavior */\n    var ATTR_WHITESPACE = /[\\x00-\\x20\\xA0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g;\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param   node to sanitize\n     * @return  void\n     */\n    var _sanitizeAttributes = function(currentNode) {\n        var attr, name, value, lcName, idAttr, attributes, hookEvent, l;\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n        attributes = currentNode.attributes;\n\n        /* Check if we have attributes; if not we might have a text node */\n        if (!attributes) { return; }\n\n        hookEvent = {\n            attrName: '',\n            attrValue: '',\n            keepAttr: true,\n            allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n\n        /* Go backwards over all attributes; safely remove bad ones */\n        while (l--) {\n            attr = attributes[l];\n            name = attr.name;\n            value = attr.value.trim();\n            lcName = name.toLowerCase();\n\n            /* Execute a hook if present */\n            hookEvent.attrName = lcName;\n            hookEvent.attrValue = value;\n            hookEvent.keepAttr = true;\n            _executeHook('uponSanitizeAttribute', currentNode, hookEvent );\n            value = hookEvent.attrValue;\n\n            /* Remove attribute */\n            // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n            // remove a \"name\" attribute from an <img> tag that has an \"id\"\n            // attribute at the time.\n            if (lcName === 'name'  &&\n                    currentNode.nodeName === 'IMG' && attributes.id) {\n                idAttr = attributes.id;\n                attributes = Array.prototype.slice.apply(attributes);\n                _removeAttribute('id', currentNode);\n                _removeAttribute(name, currentNode);\n                if (attributes.indexOf(idAttr) > l) {\n                    currentNode.setAttribute('id', idAttr.value);\n                }\n            } else if (\n                  // This works around a bug in Safari, where input[type=file]\n                  // cannot be dynamically set after type has been removed\n                  currentNode.nodeName === 'INPUT' && lcName === 'type' &&\n                  value === 'file' && (ALLOWED_ATTR[lcName] || !FORBID_ATTR[lcName])) {\n                  continue;\n            } else {\n                // This avoids a crash in Safari v9.0 with double-ids.\n                // The trick is to first set the id to be empty and then to\n                // remove the attribute\n                if (name === 'id') {\n                    currentNode.setAttribute(name, '');\n                }\n                _removeAttribute(name, currentNode);\n            }\n\n            /* Did the hooks approve of the attribute? */\n            if (!hookEvent.keepAttr) {\n                continue;\n            }\n\n            /* Make sure attribute cannot clobber */\n            if (SANITIZE_DOM &&\n                    (lcName === 'id' || lcName === 'name') &&\n                    (value in window || value in document || value in formElement)) {\n                continue;\n            }\n\n            /* Sanitize attribute content to be template-safe */\n            if (SAFE_FOR_TEMPLATES) {\n                value = value.replace(MUSTACHE_EXPR, ' ');\n                value = value.replace(ERB_EXPR, ' ');\n            }\n\n            /* Allow valid data-* attributes: At least one character after \"-\"\n               (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n               XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n               We don't need to check the value; it's always URI safe. */\n            if (ALLOW_DATA_ATTR && DATA_ATTR.test(lcName)) {\n                // This attribute is safe\n            }\n            else if (ALLOW_ARIA_ATTR && ARIA_ATTR.test(lcName)) {\n                // This attribute is safe\n            }\n            /* Otherwise, check the name is permitted */\n            else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n                continue;\n            }\n            /* Check value is safe. First, is attr inert? If so, is safe */\n            else if (URI_SAFE_ATTRIBUTES[lcName]) {\n                // This attribute is safe\n            }\n            /* Check no script, data or unknown possibly unsafe URI\n               unless we know URI values are safe for that attribute */\n            else if (IS_ALLOWED_URI.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Keep image data URIs alive if src/xlink:href is allowed */\n            else if (\n                (lcName === 'src' || lcName === 'xlink:href') &&\n                value.indexOf('data:') === 0 &&\n                DATA_URI_TAGS[currentNode.nodeName.toLowerCase()]) {\n                // This attribute is safe\n            }\n            /* Allow unknown protocols: This provides support for links that\n               are handled by protocol handlers which may be unknown ahead of\n               time, e.g. fb:, spotify: */\n            else if (\n                ALLOW_UNKNOWN_PROTOCOLS &&\n                !IS_SCRIPT_OR_DATA.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Check for binary attributes */\n            else if (!value) {\n                // binary attributes are safe at this point\n            }\n            /* Anything else, presume unsafe, do not add it back */\n            else {\n                continue;\n            }\n\n            /* Handle invalid data-* attribute set by try-catching it */\n            try {\n                currentNode.setAttribute(name, value);\n                DOMPurify.removed.pop();\n            } catch (e) {}\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  fragment to iterate over recursively\n     * @return void\n     */\n    var _sanitizeShadowDOM = function(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n        while ( (shadowNode = shadowIterator.nextNode()) ) {\n            /* Execute a hook if present */\n            _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(shadowNode)) {\n                continue;\n            }\n\n            /* Deep shadow DOM detected */\n            if (shadowNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(shadowNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(shadowNode);\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode\n     */\n    var _executeHook = function(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) { return; }\n\n        hooks[entryPoint].forEach(function(hook) {\n            hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n    };\n\n    /**\n     * sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    DOMPurify.sanitize = function(dirty, cfg) {\n        var body, importedNode, currentNode, oldNode, nodeIterator, returnNode;\n        /* Make sure we have a string to sanitize.\n           DO NOT return early, as this will return the wrong type if\n           the user has requested a DOM object rather than a string */\n        if (!dirty) {\n            dirty = '<!-->';\n        }\n\n        /* Stringify, in case dirty is an object */\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n            if (typeof dirty.toString !== 'function') {\n                throw new TypeError('toString is not a function');\n            } else {\n                dirty = dirty.toString();\n            }\n        }\n\n        /* Check we can run. Otherwise fall back or ignore */\n        if (!DOMPurify.isSupported) {\n            if (typeof window.toStaticHTML === 'object'\n                || typeof window.toStaticHTML === 'function') {\n                if (typeof dirty === 'string') {\n                    return window.toStaticHTML(dirty);\n                } else if (_isNode(dirty)) {\n                    return window.toStaticHTML(dirty.outerHTML);\n                }\n            }\n            return dirty;\n        }\n\n        /* Assign config vars */\n        _parseConfig(cfg);\n\n        /* Clean up removed elements */\n        DOMPurify.removed = [];\n\n        if (dirty instanceof Node) {\n            /* If dirty is a DOM element, append to an empty document to avoid\n               elements being stripped by the parser */\n            body = _initDocument('<!-->');\n            importedNode = body.ownerDocument.importNode(dirty, true);\n            if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n                /* Node is already a body, use as is */\n                body = importedNode;\n            } else {\n                body.appendChild(importedNode);\n            }\n        } else {\n            /* Exit directly if we have nothing to do */\n            if (!RETURN_DOM && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n                return dirty;\n            }\n\n            /* Initialize the document to work on */\n            body = _initDocument(dirty);\n\n            /* Check we have a DOM node from the data */\n            if (!body) {\n                return RETURN_DOM ? null : '';\n            }\n        }\n\n        /* Remove first element node (ours) if FORCE_BODY is set */\n        if (FORCE_BODY) {\n            _forceRemove(body.firstChild);\n        }\n\n        /* Get node iterator */\n        nodeIterator = _createIterator(body);\n\n        /* Now start iterating over the created document */\n        while ( (currentNode = nodeIterator.nextNode()) ) {\n\n            /* Fix IE's strange behavior with manipulated textNodes #89 */\n            if (currentNode.nodeType === 3 && currentNode === oldNode) {\n                continue;\n            }\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(currentNode)) {\n                continue;\n            }\n\n            /* Shadow DOM detected, sanitize it */\n            if (currentNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(currentNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(currentNode);\n\n            oldNode = currentNode;\n        }\n\n        /* Return sanitized string or DOM */\n        if (RETURN_DOM) {\n\n            if (RETURN_DOM_FRAGMENT) {\n                returnNode = createDocumentFragment.call(body.ownerDocument);\n\n                while (body.firstChild) {\n                    returnNode.appendChild(body.firstChild);\n                }\n            } else {\n                returnNode = body;\n            }\n\n            if (RETURN_DOM_IMPORT) {\n                /* adoptNode() is not used because internal state is not reset\n                   (e.g. the past names map of a HTMLFormElement), this is safe\n                   in theory but we would rather not risk another attack vector.\n                   The state that is cloned by importNode() is explicitly defined\n                   by the specs. */\n                returnNode = importNode.call(originalDocument, returnNode, true);\n            }\n\n            return returnNode;\n        }\n\n        return WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    };\n\n    /**\n     * addHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint\n     * @param {Function} hookFunction\n     */\n    DOMPurify.addHook = function(entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') { return; }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        hooks[entryPoint].push(hookFunction);\n    };\n\n    /**\n     * removeHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHook = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint].pop();\n        }\n    };\n\n    /**\n     * removeHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHooks = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint] = [];\n        }\n    };\n\n    /**\n     * removeAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     * @return void\n     */\n    DOMPurify.removeAllHooks = function() {\n        hooks = {};\n    };\n\n    return DOMPurify;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dompurify/src/purify.js\n// module id = 1032\n// module chunks = 1 3 10 11 14 15 16 17 18 19 21 24 25 28 29 31 32 38 39 41","import Label from './Label'\r\n\r\nexport default Label\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Label/index.js","import PropTypes from 'prop-types'\r\nimport DOMPurify from 'dompurify'\r\nimport ReactDOM from 'react-dom'\r\nimport React from 'react'\r\nimport './Label.scss'\r\n\r\nexport default class Label extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    textAlign: PropTypes.string,\r\n    className: PropTypes.string,\r\n    text: PropTypes.string\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    textAlign: 'left',\r\n    className: '',\r\n    text: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (props) {\r\n\r\n    super (props)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    const classNames = [\r\n      'label-container',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    const style = {\r\n      width: this.props.textAlign === 'center'\r\n        ? '100%' : '',\r\n      textAlign: this.props.textAlign\r\n    }\r\n\r\n    return(\r\n      <div className={classNames.join(' ')}\r\n        style={style}>\r\n        <p>\r\n          { DOMPurify.sanitize(this.props.text) }\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Label/Label.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Label/Label.scss\n// module id = 1037\n// module chunks = 1 10 11 14 15 16 17 18 19 24 25 28 29 31 32 38 39 41","import autobind from 'autobind-decorator'\r\nimport PropTypes from 'prop-types'\r\nimport React from 'react'\r\n\r\nexport default class Switch extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    checked: PropTypes.bool\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    checked: true,\r\n    className: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor () {\r\n\r\n    super ()\r\n\r\n    this.state = {\r\n      checked: true\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  componentWillMount () {\r\n\r\n    this.setState({\r\n      checked: this.props.checked\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  @autobind\r\n  toggle () {\r\n\r\n    if (this.props.disabled) {\r\n      return\r\n    }\r\n\r\n    const checked = !this.state.checked\r\n\r\n    this.setState({\r\n      checked\r\n    })\r\n\r\n    if (this.props.onChange) {\r\n\r\n      this.props.onChange (checked)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    const classNames = [\r\n      'switch-container',\r\n      this.props.disabled ? 'disabled' : '',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    return(\r\n      <div className={classNames.join(' ')}\r\n        onClick={this.toggle}>\r\n        <input ref=\"switch\" className=\"switch\"\r\n          checked={this.state.checked}\r\n          value={this.state.checked}\r\n          onChange={()=> {}}\r\n          type=\"checkbox\"\r\n        />\r\n        <div>\r\n          <span>\r\n            <g className=\"icon icon-toolbar grid-view\"/>\r\n          </span>\r\n          <span>\r\n            <g className=\"icon icon-toolbar ticket-view\"/>\r\n          </span>\r\n          <div/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Switch/Switch.js","import Switch from './Switch'\r\nimport './Switch.scss'\r\n\r\nexport default Switch\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Switch/index.js","import TreeDelegate from './TreeDelegate'\r\nimport TreeNode from './TreeNode'\r\nimport TreeView from './TreeView'\r\n\r\nmodule.exports = {\r\n    TreeDelegate,\r\n    TreeNode,\r\n    TreeView\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/UIComponents/TreeView/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Switch/Switch.scss\n// module id = 1050\n// module chunks = 11 13 14 15 19 21 24 28 31 32 36 38","import EventsEmitter from 'EventsEmitter'\r\n\r\nexport default class EventTool extends EventsEmitter {\r\n\r\n  constructor (viewer) {\r\n\r\n    super()\r\n\r\n    this.viewer = viewer\r\n\r\n    this.toolName = this.guid()\r\n\r\n    viewer.toolController.registerTool(this)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Tool names\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getNames () {\r\n\r\n    return [this.getName()]\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Tool name\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getName () {\r\n\r\n    return this.toolName\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Activate Tool\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  activate () {\r\n\r\n    if(!this.active) {\r\n\r\n      this.active = true\r\n\r\n      this.viewer.toolController.activateTool(\r\n        this.toolName)\r\n\r\n      this.emit('activate', this)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Deactivate tool\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  deactivate () {\r\n\r\n    if (this.active) {\r\n\r\n      this.active = false\r\n\r\n      this.viewer.toolController.deactivateTool(\r\n        this.toolName)\r\n\r\n      this.emit('deactivate', this)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleSingleClick (event, button) {\r\n\r\n    return this.emit('singleclick', event, button)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleDoubleClick (event, button) {\r\n\r\n    return this.emit('doubleclick', event, button)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleMouseMove (event) {\r\n\r\n    return this.emit('mousemove', event)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleWheelInput (event) {\r\n\r\n    return this.emit('mousewheel', event)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleGesture (event) {\r\n\r\n    return this.emit('gesture', event)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleKeyDown (event, keyCode) {\r\n\r\n    return this.emit('keydown', event, keyCode)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleButtonDown (event, button) {\r\n\r\n    return this.emit('buttondown', event, button)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleButtonUp (event, button) {\r\n\r\n    return this.emit('buttonup', event, button)\r\n  }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.EventTool/Viewer.EventTool.js","import EventTool from './Viewer.EventTool'\r\n\r\nexport default EventTool\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.EventTool/index.js","import EventsEmitter from 'EventsEmitter'\r\n\r\n/////////////////////////////////////////////////////////////////////\r\n//\r\n//\r\n/////////////////////////////////////////////////////////////////////\r\nexport default class TreeDelegate extends\r\n  EventsEmitter.Composer (Autodesk.Viewing.UI.TreeDelegate) {\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  constructor (container, contextMenu) {\r\n\r\n    super()\r\n\r\n    this.contextMenu = contextMenu\r\n\r\n    this.container = container\r\n\r\n    this.clickTimeout = 0\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  getTreeNodeId (node) {\r\n\r\n    return node.id\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  isTreeNodeGroup (node) {\r\n\r\n    return node.group\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  onTreeNodeIconClick (tree, node, event) {\r\n\r\n    clearTimeout(this.clickTimeout)\r\n\r\n    this.clickTimeout = setTimeout(() => {\r\n\r\n      this.emit('node.iconClick', node)\r\n\r\n      !tree.isCollapsed(node)\r\n        ? node.collapse()\r\n        : node.expand()\r\n\r\n    }, 200)\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  nodeClickSelector (event) {\r\n\r\n    const selector = ['HEADER', 'LABEL']\r\n\r\n    return (selector.indexOf(event.target.nodeName) > -1)\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  onTreeNodeClick (tree, node, event) {\r\n\r\n    if (this.nodeClickSelector(event)) {\r\n\r\n      clearTimeout(this.clickTimeout)\r\n\r\n      this.clickTimeout = setTimeout(() => {\r\n\r\n        this.emit('node.click', node)\r\n\r\n        !tree.isCollapsed(node)\r\n          ? node.collapse()\r\n          : node.expand()\r\n\r\n      }, 200)\r\n    }\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  onTreeNodeDoubleClick (tree, node, event) {\r\n\r\n    if (this.nodeClickSelector(event)) {\r\n\r\n      clearTimeout(this.clickTimeout)\r\n\r\n      this.emit('node.dblClick', node)\r\n    }\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  onTreeNodeRightClick (tree, node, event) {\r\n\r\n    event.stopPropagation()\r\n    event.preventDefault()\r\n\r\n    if (this.nodeClickSelector(event)) {\r\n\r\n      this.contextMenu.show(event, node)\r\n    }\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  getTreeNodeLabel (node) {\r\n\r\n    return node.name\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/UIComponents/TreeView/TreeDelegate.js","import EventsEmitter from 'EventsEmitter'\r\n\r\n/////////////////////////////////////////////////////////////////////\r\n//\r\n//\r\n/////////////////////////////////////////////////////////////////////\r\nexport default class TreeNode extends EventsEmitter {\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  constructor (properties) {\r\n\r\n    super()\r\n\r\n    Object.assign(this, properties)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  destroy () {\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/UIComponents/TreeView/TreeNode.js","import EventsEmitter from 'EventsEmitter'\r\n\r\n/////////////////////////////////////////////////////////////////////\r\n//\r\n//\r\n/////////////////////////////////////////////////////////////////////\r\nexport default class TreeView extends\r\n  EventsEmitter.Composer (Autodesk.Viewing.UI.Tree) {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  setInputHandlers_ () {\r\n\r\n    var tree = this\r\n    var rootElem = this.myRootContainer\r\n\r\n    var NODE_NOT_FOUND = null\r\n\r\n    var getNodeFromElement = function(eventTarget) {\r\n\r\n      var ret = null\r\n      var found = false\r\n\r\n      do {\r\n        if (!eventTarget || eventTarget === rootElem) {\r\n          ret = null\r\n          found = true  // not found\r\n        } else if (eventTarget.hasAttribute(\"lmv-nodeId\")) {\r\n          ret = eventTarget\r\n          found = true\r\n        } else {\r\n          eventTarget = eventTarget.parentElement\r\n        }\r\n      } while(!found)\r\n\r\n      if (ret) {\r\n        var nodeId = ret.getAttribute(\"lmv-nodeId\");\r\n        return tree.nodeIdToNode[nodeId] || NODE_NOT_FOUND;\r\n      }\r\n      return NODE_NOT_FOUND\r\n    }\r\n\r\n    if (av.isTouchDevice()) {\r\n\r\n      this.hammer = new Hammer.Manager(rootElem, {\r\n        recognizers: [\r\n          [\r\n            Hammer.Tap, {\r\n            event: 'doubletap',\r\n            taps: 2,\r\n            interval: 400,\r\n            threshold: 6,\r\n            posThreshold: 30\r\n          }],\r\n          [\r\n            Hammer.Press, {\r\n            event: 'press',\r\n            time: 500\r\n          }]\r\n        ],\r\n        inputClass: Hammer.TouchInput\r\n      })\r\n\r\n      this.hammer.on(\"doubletap\", function (event) {\r\n\r\n        var node = getNodeFromElement(event.target)\r\n        if (node === NODE_NOT_FOUND)\r\n          return\r\n        tree.myDelegate.onTreeNodeDoubleClick(\r\n          tree, node, event)\r\n      })\r\n\r\n      this.hammer.on('press', function (event) {\r\n\r\n        var node = getNodeFromElement(event.target)\r\n        if (node === NODE_NOT_FOUND)\r\n          return\r\n        tree.myDelegate.onTreeNodeRightClick(\r\n          tree, node, event)\r\n      })\r\n    }\r\n\r\n    rootElem.addEventListener('click', function (event) {\r\n\r\n      var node = getNodeFromElement(event.target)\r\n\r\n      if (node === NODE_NOT_FOUND)\r\n        return\r\n\r\n      tree.myDelegate.onTreeNodeClick(\r\n        tree, node, event)\r\n\r\n      if(!event.target.classList.contains('propertyLink')) {\r\n        event.preventDefault()\r\n      }\r\n    }, false)\r\n\r\n    rootElem.addEventListener('dblclick', function (event) {\r\n\r\n      var node = getNodeFromElement(event.target);\r\n\r\n      if (node === NODE_NOT_FOUND)\r\n        return\r\n\r\n      tree.myDelegate.onTreeNodeDoubleClick(\r\n        tree, node, event)\r\n\r\n      event.stopPropagation()\r\n      event.preventDefault()\r\n\r\n    }, false)\r\n\r\n    rootElem.addEventListener('contextmenu', function (event) {\r\n\r\n      var node = getNodeFromElement(event.target)\r\n\r\n      if (node === NODE_NOT_FOUND)\r\n        return\r\n\r\n      tree.myDelegate.onTreeNodeRightClick(\r\n        tree, node, event)\r\n\r\n      event.stopPropagation()\r\n      event.preventDefault()\r\n\r\n    }, false)\r\n\r\n    rootElem.addEventListener('mouseover', function (event) {\r\n\r\n      var node = getNodeFromElement(event.target)\r\n\r\n      if (node === NODE_NOT_FOUND)\r\n        return\r\n\r\n      tree.myDelegate.onTreeNodeHover(\r\n        tree, node, event)\r\n\r\n      event.stopPropagation()\r\n      event.preventDefault()\r\n\r\n    }, false)\r\n\r\n    rootElem.addEventListener('mouseout', function (event) {\r\n      // When the mouse leaves the element,\r\n      // set node to -1 (background), no highlight,\r\n      var node = -1\r\n\r\n      tree.myDelegate.onTreeNodeHover(\r\n        tree, node, event)\r\n\r\n      event.stopPropagation()\r\n      event.preventDefault()\r\n\r\n    }, false)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getNodeById (nodeId) {\r\n\r\n    return this.nodeIdToNode[nodeId]\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  destroyNode (nodeId) {\r\n\r\n    if (this.nodeIdToNode[nodeId]) {\r\n\r\n      delete this.nodeIdToNode[nodeId]\r\n\r\n      this.nodeIdToNode[nodeId] = null\r\n    }\r\n\r\n    if (this.nodeToElement[nodeId]) {\r\n\r\n      this.nodeToElement[nodeId].remove()\r\n\r\n      delete this.nodeToElement[nodeId]\r\n\r\n      this.nodeToElement[nodeId] = null\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  destroy () {\r\n\r\n    this.clear ()\r\n\r\n    this.myRootContainer.remove()\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/UIComponents/TreeView/TreeView.js","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".filter-tree-container .treeview lmvheader {\\n  transition-property: background, border;\\n  transition-timing-function: ease;\\n  transition-duration: 1.5s;\\n  transition-delay: 0.0s;\\n  background: rgba(245, 245, 245, 0.5);\\n  margin-bottom: -4px;\\n  border: none;\\n  height: 30px; }\\n\\n.filter-tree-container .treeview lmvheader:hover {\\n  background: rgba(0, 105, 245, 0.35); }\\n\\n.filter-tree-container .treeview group > lmvheader > icon {\\n  height: 20px;\\n  float: left; }\\n\\n.filter-tree-container .treenode .switch-container {\\n  border: 1px solid #9c9c9c;\\n  border-radius: 12px;\\n  margin: 0 8px 0 2px;\\n  float: left; }\\n\\n.filter-tree-container .treenode .label-container {\\n  pointer-events: none; }\\n\\n.filter-tree-container .treenode {\\n  float: left; }\\n\\n.filter-tree-container input[type=\\\"checkbox\\\"].switch + div {\\n  width: 34px;\\n  height: 16px; }\\n\\n.filter-tree-container input[type=\\\"checkbox\\\"].switch:checked + div {\\n  width: 34px; }\\n\\n.filter-tree-container input[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(18px, 0, 0);\\n          transform: translate3d(18px, 0, 0); }\\n\\n.filter-tree-container input[type=\\\"checkbox\\\"].switch + div > div {\\n  height: 16px;\\n  width: 16px;\\n  margin: 0; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/FilterTreeView.scss\n// module id = 1180\n// module chunks = 28 38","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../../node_modules/sass-loader/index.js!./FilterTreeView.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../../node_modules/sass-loader/index.js!./FilterTreeView.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../../node_modules/sass-loader/index.js!./FilterTreeView.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/FilterTreeView.scss\n// module id = 1335\n// module chunks = 28 38","import FilterTreeView from './FilterTreeView'\r\nimport './FilterTreeView.scss'\r\n\r\nexport default FilterTreeView\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/index.js","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".selection-filter .title {\\n  display: -webkit-inline-box;\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  float: left; }\\n\\n.selection-filter .title > label {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  white-space: nowrap;\\n  font-weight: normal;\\n  user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px;\\n  select: none;\\n  width: 144px;\\n  float: left; }\\n\\n.selection-filter .content {\\n  overflow-y: scroll;\\n  overflow-x: hidden;\\n  height: 100%; }\\n\\n.selection-filter-controls {\\n  margin: auto 0 auto calc(100% - 152px);\\n  position: relative;\\n  float: left; }\\n\\n.selection-filter-controls > button {\\n  border: 1px solid #c6c6c6;\\n  background-color: #e1e1e1;\\n  border-radius: 6px;\\n  position: relative;\\n  overflow: hidden;\\n  outline: none;\\n  height: 24px;\\n  width: 26px; }\\n\\n.selection-filter-controls > button:hover {\\n  border: 1px solid #878787;\\n  background-color: #f5f5f5; }\\n\\n.selection-filter-controls > button > label {\\n  position: relative;\\n  font-size: 20px;\\n  color: #f0fcff;\\n  top: -8px; }\\n\\n.selection-filter-controls > button > span {\\n  pointer-events: none;\\n  color: #9b9b9b; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/Viewing.Extension.SelectionFilter.scss\n// module id = 1407\n// module chunks = 28","import FilterTreeNode from './FilterTreeNode'\r\nimport { TreeDelegate } from 'TreeView'\r\n\r\n\r\nexport default class FilterTreeDelegate extends TreeDelegate {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (model) {\r\n\r\n    super ()\r\n\r\n    this.instanceTree = model.getData().instanceTree\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  createRootNode () {\r\n\r\n    const rootId = this.instanceTree.getRootId()\r\n\r\n    this.rootNode = new FilterTreeNode({\r\n\r\n      name: this.instanceTree.getNodeName(rootId),\r\n      group: this.getChildIds(rootId).length,\r\n      instanceTree: this.instanceTree,\r\n      delegate: this,\r\n      checked: true,\r\n      parent: null,\r\n      type: 'root',\r\n      id: rootId\r\n    })\r\n\r\n    return this.rootNode\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  destroy () {\r\n\r\n    this.rootNode.destroy()\r\n\r\n    this.off()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  createTreeNode (node, parentDomElement, options = {}) {\r\n\r\n    const container = document.createElement('div')\r\n\r\n    parentDomElement.appendChild(container)\r\n\r\n    node.mount(container)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  nodeClickSelector (event) {\r\n\r\n    const targetCls = event.target.parentNode.className\r\n    const parentCls = event.target.className\r\n\r\n    if (parentCls.indexOf('handle-click') > -1 ||\r\n        targetCls.indexOf('handle-click') > -1) {\r\n\r\n      return false\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  forEachChild (node, addChild) {\r\n\r\n    node.addChild = addChild\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getChildIds (nodeId) {\r\n\r\n    const childIds = []\r\n\r\n    this.instanceTree.enumNodeChildren(nodeId,\r\n      (childId) => {\r\n\r\n        childIds.push(childId)\r\n      })\r\n\r\n    return childIds\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/FilterTreeDelegate.js","import EventsEmitter from 'EventsEmitter'\r\nimport PropTypes from 'prop-types'\r\nimport ReactDOM from 'react-dom'\r\nimport Switch from 'Switch'\r\nimport Label from 'Label'\r\nimport React from 'react'\r\n\r\nexport default class FilterTreeNode extends EventsEmitter {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (props) {\r\n\r\n    super ()\r\n\r\n    this.setChecked = this.setChecked.bind(this)\r\n\r\n    this.onExpand = this.onExpand.bind(this)\r\n\r\n    this.on('expand', this.onExpand)\r\n\r\n    this.instanceTree = props.instanceTree\r\n    this.delegate     = props.delegate\r\n    this.disabled     = props.disabled\r\n    this.checked      = props.checked\r\n    this.parent       = props.parent\r\n    this.group        = props.group\r\n    this.name         = props.name\r\n    this.type         = props.type\r\n    this.id           = props.id\r\n\r\n    this.children = []\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onExpand () {\r\n\r\n    this.off('expand', this.onExpand)\r\n\r\n    this.loadChildren()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  setDisabled (disabled) {\r\n\r\n    this.disabled = disabled\r\n\r\n    this.reactNode = ReactDOM.render(\r\n      <ReactTreeNode onChecked={this.setChecked}\r\n        disabled={this.disabled}\r\n        checked={this.checked}\r\n        name={this.name}/>,\r\n      this.domContainer)\r\n\r\n    if (disabled || this.checked) {\r\n\r\n      this.children.forEach((child) => {\r\n\r\n        child.setDisabled (disabled, true)\r\n      })\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  setChecked (checked) {\r\n\r\n    this.checked = checked\r\n\r\n    this.delegate.emit(\r\n      'node.checked', this)\r\n\r\n    this.children.forEach((child) => {\r\n\r\n      child.setDisabled (!checked)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  mount (domContainer) {\r\n\r\n    this.domContainer = domContainer\r\n\r\n    this.collapse()\r\n\r\n    this.reactNode = ReactDOM.render(\r\n      <ReactTreeNode onChecked={this.setChecked}\r\n        disabled={this.disabled}\r\n        checked={this.checked}\r\n        name={this.name}/>,\r\n      this.domContainer)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  expand () {\r\n\r\n    const target =\r\n      this.domContainer.parentElement.parentElement\r\n\r\n    target.classList.remove('collapsed')\r\n    target.classList.add('expanded')\r\n\r\n    this.emit('expand')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  collapse () {\r\n\r\n    const target =\r\n      this.domContainer.parentElement.parentElement\r\n\r\n    target.classList.remove('expanded')\r\n    target.classList.add('collapsed')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  loadChildren () {\r\n\r\n    const childIds = this.getChildIds(this.id)\r\n\r\n    this.children = childIds.map((id) => {\r\n\r\n      const childNode = new FilterTreeNode({\r\n        disabled: this.disabled || !this.checked,\r\n        name: this.instanceTree.getNodeName(id),\r\n        group: this.getChildIds(id).length,\r\n        instanceTree: this.instanceTree,\r\n        delegate: this.delegate,\r\n        checked: true,\r\n        parent: this,\r\n        type: '',\r\n        id\r\n      })\r\n\r\n      this.addChild(childNode)\r\n\r\n      return childNode\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  destroy () {\r\n\r\n    this.children.forEach((child) => {\r\n\r\n      child.destroy ()\r\n    })\r\n\r\n    ReactDOM.unmountComponentAtNode(\r\n      this.domContainer)\r\n\r\n    this.delegate.emit(\r\n      'node.destroy', this)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getChildIds (nodeId) {\r\n\r\n    const childIds = []\r\n\r\n    this.instanceTree.enumNodeChildren(nodeId,\r\n      (childId) => {\r\n\r\n        childIds.push(childId)\r\n      })\r\n\r\n    return childIds\r\n  }\r\n}\r\n\r\n\r\nclass ReactTreeNode extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    className: PropTypes.string\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    className: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render() {\r\n\r\n    const classNames = [\r\n      'treenode',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    return (\r\n      <div className={classNames.join(' ')}>\r\n        <Switch onChange={(checked) => this.props.onChecked(checked)}\r\n          disabled={this.props.disabled}\r\n          checked={this.props.checked}\r\n          className=\"handle-click\"/>\r\n        <Label text={this.props.name}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/FilterTreeNode.js","//////////////////////////////////////////////////////////////////////////\r\n// Copyright (c) Autodesk, Inc. All rights reserved\r\n// Written by Philippe Leefsma 2016 - ADN/Developer Technical Services\r\n//\r\n// Permission to use, copy, modify, and distribute this software in\r\n// object code form for any purpose and without fee is hereby granted,\r\n// provided that the above copyright notice appears in all copies and\r\n// that both that copyright notice and the limited warranty and\r\n// restricted rights notice below appear in all supporting\r\n// documentation.\r\n//\r\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\r\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\r\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\r\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\r\n// UNINTERRUPTED OR ERROR FREE.\r\n/////////////////////////////////////////////////////////////////////\r\nimport FilterTreeDelegate from './FilterTreeDelegate'\r\nimport { TreeView } from 'TreeView'\r\nimport ReactDOM from 'react-dom'\r\nimport './FilterTreeView.scss'\r\nimport React from 'react'\r\n\r\nexport default class FilterTreeView extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (props) {\r\n\r\n    super (props)\r\n\r\n    this.delegate = new FilterTreeDelegate(props.model)\r\n\r\n    this.delegate.on('node.dblClick', (node) => {\r\n\r\n      this.props.viewer.isolate(node.id, props.model)\r\n    })\r\n\r\n    this.delegate.on('node.checked', (node) => {\r\n\r\n      this.props.onNodeChecked({\r\n        model: props.model,\r\n        tree: this.tree,\r\n        node\r\n      })\r\n    })\r\n\r\n    this.delegate.on('node.destroy', (node) => {\r\n\r\n      this.tree.destroyNode(node.id)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  componentDidMount () {\r\n\r\n    this.rootNode = this.delegate.createRootNode()\r\n\r\n    this.tree = new TreeView (\r\n      this.delegate, this.rootNode, this.treeContainer, {\r\n        excludeRoot: false\r\n      })\r\n\r\n    this.rootNode.expand ()\r\n    this.rootNode.setChecked (true)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  componentWillUnmount () {\r\n\r\n    this.delegate.destroy()\r\n\r\n    this.tree.destroy()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  //shouldComponentUpdate () {\r\n  //\r\n  //  return false\r\n  //}\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"filter-tree-container\" ref={\r\n        (div) => this.treeContainer = div\r\n        }\r\n      />\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/FilterTreeView/FilterTreeView.js","import './Viewing.Extension.SelectionFilter.scss'\r\nimport './Viewing.Extension.SelectionFilter'\r\n\r\nexport default 'Viewing.Extension.SelectionFilter'\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/index.js","/////////////////////////////////////////////////////////////////\r\n// SelectionFilter Viewer Extension\r\n// By Philippe Leefsma, Autodesk Inc, April 2017\r\n//\r\n/////////////////////////////////////////////////////////////////\r\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\r\nimport WidgetContainer from 'WidgetContainer'\r\nimport FilterTreeView from './FilterTreeView'\r\nimport EventTool from 'Viewer.EventTool'\r\nimport Toolkit from 'Viewer.Toolkit'\r\nimport { ReactLoader } from 'Loader'\r\nimport ReactDOM from 'react-dom'\r\nimport React from 'react'\r\n\r\nclass SelectionFilterExtension extends MultiModelExtensionBase {\r\n\r\n\t/////////////////////////////////////////////////////////////////\r\n\t// Class constructor\r\n  //\r\n\t/////////////////////////////////////////////////////////////////\r\n\tconstructor (viewer, options) {\r\n\r\n\t\tsuper (viewer, options)\r\n\r\n    this.onNodeChecked = this.onNodeChecked.bind(this)\r\n\r\n    this.renderTitle = this.renderTitle.bind(this)\r\n\r\n    this.eventTool = new EventTool(this.viewer)\r\n\r\n    this.react = options.react\r\n\r\n    this.leafNodesMap = {}\r\n\t}\r\n\r\n\t/////////////////////////////////////////////////////////\r\n\t// Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n\tload () {\r\n\r\n    this.react.setState({\r\n\r\n      models: []\r\n\r\n    }).then (() => {\r\n\r\n      this.react.pushRenderExtension(this)\r\n\r\n      this.models.forEach ((model) => {\r\n\r\n        if (model.getData().instanceTree) {\r\n\r\n          this.addModel(model)\r\n        }\r\n      })\r\n    })\r\n\r\n    this.eventTool.on ('buttondown', () => {\r\n\r\n      this.mouseDown = true\r\n\r\n      return false\r\n    })\r\n\r\n    this.eventTool.on ('buttonup', (event) => {\r\n\r\n      this.mouseDown = false\r\n\r\n      return false\r\n    })\r\n\r\n    this.eventTool.on ('mousemove', (event) => {\r\n\r\n      // model.rayIntersect cannot be used in this scenario\r\n      // because needs to check for every component\r\n      // for intersection\r\n\r\n      // const raycaster = this.pointerToRaycaster(event)\r\n      // const hitTest = this.viewer.model.rayIntersect(\r\n      //   raycaster, true, dbIds)\r\n\r\n      if (!this.mouseDown) {\r\n\r\n        const hitTest = this.viewer.clientToWorld(\r\n          event.canvasX,\r\n          event.canvasY,\r\n          true)\r\n\r\n        if (hitTest) {\r\n\r\n          const {guid} = hitTest.model\r\n\r\n          return !this.leafNodesMap[guid][hitTest.dbId]\r\n        }\r\n      }\r\n\r\n      return false\r\n    })\r\n\r\n    this.viewer.loadDynamicExtension(\r\n      'Viewing.Extension.ContextMenu').then (\r\n        (ctxMenuExtension) => {\r\n\r\n          ctxMenuExtension.on('buildMenu', (params) => {\r\n\r\n            const guid = params.model\r\n              ? params.model.guid\r\n              : ''\r\n\r\n            const dbId = params.dbId\r\n\r\n            return (!dbId || this.leafNodesMap[guid][dbId])\r\n              ? params.menu\r\n              : []\r\n          })\r\n        })\r\n\r\n    console.log('Viewing.Extension.SelectionFilter loaded')\r\n\r\n\t\treturn true\r\n\t}\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  get className() {\r\n\r\n    return 'selection-filter'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n\t// Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n\tstatic get ExtensionId () {\r\n\r\n\t\treturn 'Viewing.Extension.SelectionFilter'\r\n\t}\r\n\r\n  /////////////////////////////////////////////////////////\r\n\t// Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n\tunload () {\r\n\r\n    console.log('Viewing.Extension.SelectionFilter unloaded')\r\n\r\n    this.eventTool.deactivate()\r\n\r\n    super.unload ()\r\n\r\n\t\treturn true\r\n\t}\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async addModel (model) {\r\n\r\n    const {models} = this.react.getState()\r\n\r\n    const guids = models.map((m)=> {return m.guid})\r\n\r\n    if (guids.includes(model.guid)) {\r\n      return\r\n    }\r\n\r\n    this.react.setState({\r\n      models: [...models, model]\r\n    })\r\n\r\n    this.leafNodesMap[model.guid] = {}\r\n\r\n    Toolkit.getLeafNodes (model).then((dbIds) => {\r\n\r\n      dbIds.forEach((dbId) => {\r\n\r\n        this.leafNodesMap[model.guid][dbId] = true\r\n      })\r\n    })\r\n\r\n    this.eventTool.activate()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onObjectTreeCreated (event) {\r\n\r\n      this.addModel (event.model)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onSelection (event) {\r\n\r\n    if (event.selections.length) {\r\n\r\n      const selection = event.selections[0]\r\n\r\n      const dbId = selection.dbIdArray[0]\r\n\r\n      const model = selection.model\r\n\r\n      if (this.leafNodesMap[model.guid]) {\r\n\r\n        if (!this.leafNodesMap[model.guid][dbId]) {\r\n\r\n          setTimeout(() => {\r\n            this.viewer.clearSelection()\r\n          }, 300)\r\n\r\n          this.viewer.clearSelection()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelUnloaded (event) {\r\n\r\n    const {models} = this.react.getState()\r\n\r\n    const model = event.model\r\n\r\n    this.react.setState({\r\n      models: models.filter((m) => {\r\n        return (m.guid !== model.guid)\r\n      })\r\n    })\r\n\r\n    delete this.leafNodesMap[model.guid]\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onNodeChecked (event) {\r\n\r\n    const model = event.model\r\n\r\n    const node = event.node\r\n\r\n    Toolkit.getLeafNodes (model, node.id).then(\r\n      (dbIds) => {\r\n\r\n        dbIds.forEach((dbId) => {\r\n\r\n          if (node.checked) {\r\n\r\n            const leafNode = event.tree.getNodeById(dbId)\r\n\r\n            const checked = leafNode\r\n              ? leafNode.checked\r\n              : node.checked\r\n\r\n            this.leafNodesMap[model.guid][dbId] = checked\r\n\r\n          } else {\r\n\r\n            this.leafNodesMap[model.guid][dbId] = false\r\n          }\r\n        })\r\n      })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async setDocking (docked) {\r\n\r\n    const id = SelectionFilterExtension.ExtensionId\r\n\r\n    if (docked) {\r\n\r\n      await this.react.popRenderExtension(id)\r\n\r\n      this.react.pushViewerPanel(this, {\r\n        height: 250,\r\n        width: 350\r\n      })\r\n\r\n    } else {\r\n\r\n      await this.react.popViewerPanel(id)\r\n\r\n      this.react.pushRenderExtension(this)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderTitle (docked) {\r\n\r\n    const spanClass = docked\r\n      ? 'fa fa-chain-broken'\r\n      : 'fa fa-chain'\r\n\r\n    return (\r\n      <div className=\"title\">\r\n        <label>\r\n          Selection Filter\r\n        </label>\r\n        <div className=\"selection-filter-controls\">\r\n          <button onClick={() => this.setDocking(docked)}\r\n            title=\"Toggle docking mode\">\r\n            <span className={spanClass}/>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderContent () {\r\n\r\n    const { models } = this.react.getState()\r\n\r\n    const treeViews = models.map((model) => {\r\n\r\n      return (\r\n        <FilterTreeView onNodeChecked={this.onNodeChecked}\r\n          viewer={this.viewer}\r\n          key={model.guid}\r\n          model={model}/>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <ReactLoader show={!models.length}/>\r\n        { treeViews }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render (opts) {\r\n\r\n    return (\r\n      <WidgetContainer\r\n        renderTitle={() => this.renderTitle(opts.docked)}\r\n        showTitle={opts.showTitle}\r\n        className={this.className}>\r\n\r\n        { this.renderContent () }\r\n\r\n      </WidgetContainer>\r\n    )\r\n  }\r\n}\r\n\r\nAutodesk.Viewing.theExtensionManager.registerExtension (\r\n  SelectionFilterExtension.ExtensionId,\r\n  SelectionFilterExtension)\r\n\r\nexport default 'Viewing.Extension.SelectionFilter'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/Viewing.Extension.SelectionFilter.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.SelectionFilter.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.SelectionFilter.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.SelectionFilter.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionFilter/Viewing.Extension.SelectionFilter.scss\n// module id = 1827\n// module chunks = 28"],"sourceRoot":""}