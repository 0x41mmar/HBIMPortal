{"version":3,"sources":["webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?1a41**********","webpack:///./src/client/viewer.components/Viewer.Toolkit/index.js?3d64*************","webpack:///./~/babel-runtime/helpers/get.js?a320************","webpack:///./src/client/components/Label/Label.scss","webpack:///./src/client/viewer.components/Viewer.Toolkit/Viewer.Toolkit.js?9bfb*************","webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/index.js?88e8********","webpack:///./src/client/components/Switch/Switch.scss","webpack:///./src/client/components/WidgetContainer/index.js?87e1**********","webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js?6fc5********","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js?bbdf**********","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?2530**********","webpack:///./~/dompurify/src/purify.js?f974**********","webpack:///./src/client/components/Label/index.js","webpack:///./src/client/components/Label/Label.js","webpack:///./src/client/components/Label/Label.scss?2314*********","webpack:///./src/client/components/Switch/Switch.js","webpack:///./src/client/components/Switch/index.js","webpack:///./src/client/components/UIComponents/TreeView/index.js?28a4***","webpack:///./src/client/components/Switch/Switch.scss?9e38******","webpack:///./src/client/components/UIComponents/TreeView/TreeDelegate.js?6739***","webpack:///./src/client/components/UIComponents/TreeView/TreeNode.js?c83f***","webpack:///./src/client/components/UIComponents/TreeView/TreeView.js?df75***","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/SelectionTreeView.scss","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/SelectionTreeView.scss?03e6","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/index.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/Viewing.Extension.SelectionWindow.scss","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/SelectionTreeDelegate.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/SelectionTreeNode.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/SelectionTreeView.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/index.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/GeometryIntersectsBox3.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/Viewing.Extension.SelectionWindow.SelectSet.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/Viewing.Extension.SelectionWindow.Tool.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/Viewing.Extension.SelectionWindow.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/cursors.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/Viewing.Extension.SelectionWindow.scss?ff31"],"names":["Toolkit","format","d","Date","getTime","guid","replace","c","r","Math","random","floor","toString","urn","resolve","reject","paramUrn","startsWith","Autodesk","Viewing","Document","load","doc","error","roles","rootItem","getRootItem","items","roleArray","Array","isArray","forEach","role","getSubItemsWithProperties","type","id","className","tooltip","handler","button","UI","Button","icon","style","fontSize","setToolTip","onClick","viewer","ctrlGroupName","viewerToolbar","getToolbar","ctrlGroup","ControlGroup","addControl","model","dbIds","instanceTree","getData","getRootId","dbIdArray","leafIds","getLeafNodesRec","childCount","enumNodeChildren","childId","push","i","length","ex","getLeafNodes","fragIds","enumNodeFragments","fragId","leafId","dbId","getFragIds","fragList","getFragmentList","fragbBox","THREE","Box3","nodebBox","getWorldBounds","union","requestedProps","dbIdInt","parseInt","isNaN","propTasks","map","displayName","getProperty","all","then","properties","getProperties","result","defaultValue","prop","displayValue","Error","activeModel","propertyTasks","propertyResults","propertyResult","indexOf","sort","propFilter","propRes","filteredRes","filter","res","propFilterArray","getBulkProperties","components","defaultProp","getBulkPropertiesAsync","results","componentsMap","value","split","root","taskFunc","tasks","runTaskOnDataTreeRec","node","parent","children","childNode","task","min","max","material","overlayId","geometry","Geometry","vertices","Vector3","x","y","z","lines","Line","LinePieces","impl","addOverlay","invalidate","setMaterial","createNodeFunc","_buildModelTreeRec","name","getNodeName","rootId","rootNode","taskResults","_executeTaskOnModelTreeRec","hide","targetIds","visibilityManager","setNodeOff","show","isolate","targetLeafIds","leafTasks","resolveLeaf","axis","angle","center","quaternion","Quaternion","setFromAxisAngle","fragProxy","getFragmentProxy","getAnimTransform","position","applyQuaternion","add","multiplyQuaternions","updateAnimTransform","state","immediate","onStateRestored","removeEventListener","VIEWER_STATE_RESTORED_EVENT","pivot","viewport","pivotPoint","setTimeout","navigation","setPivotPoint","addEventListener","restoreState","parentId","nodeName","faceFilter","vertexArray","getLeafFragIds","matrixWorld","meshGeometry","renderProxy","getRenderProxy","attributes","positions","vb","array","indices","index","ib","stride","vbstride","offsets","count","start","oi","ol","il","a","b","vA","vB","vC","fromArray","faceIdx","face","Face3","faces","applyMatrix","computeFaceNormals","computeVertexNormals","mesh","Mesh","scale","excludedFragIds","svf","mc","getVisibleBounds","pt","nodeAccess","nodeBoxes","scaledExplodeDepth","maxDepth","explodeDepth","currentSegmentFraction","it","tmpBox","Float32Array","explodeRec","nodeId","depth","cx","cy","cz","ox","oy","oz","oscale","getNodeBox","mycx","mycy","mycz","dx","dy","dz","boxes","fragments","nbFrags","getCount","box_offset","getUserAgent","navigator","userAgent","isAndroid","match","isBlackBerry","isIOS","isOpera","isWindows","isWindowsDesktop","isWindowsMobile","isAny","MultiModelExtensionBase","options","defaultOptions","onModelCompletedLoad","bind","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","modelQueue","getModels","initializeEvents","viewerEvents","event","eventSink","off","viewerEvent","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","args","on","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","eventIdArray","eventTasks","__handler","Composer","Extension","WidgetContainer","props","showTitle","renderTitle","title","dimensions","Children","child","newProps","cloneElement","classNames","height","join","renderChildren","Component","propTypes","string","bool","defaultProps","Label","width","textAlign","sanitize","text","Switch","checked","setState","disabled","onChange","toggle","module","exports","TreeDelegate","TreeNode","TreeView","container","contextMenu","clickTimeout","group","tree","clearTimeout","emit","isCollapsed","collapse","expand","selector","target","nodeClickSelector","stopPropagation","preventDefault","rootElem","myRootContainer","NODE_NOT_FOUND","getNodeFromElement","eventTarget","ret","found","hasAttribute","parentElement","getAttribute","nodeIdToNode","av","isTouchDevice","hammer","Hammer","Manager","recognizers","Tap","taps","interval","threshold","posThreshold","Press","time","inputClass","TouchInput","myDelegate","onTreeNodeDoubleClick","onTreeNodeRightClick","onTreeNodeClick","classList","contains","onTreeNodeHover","nodeToElement","remove","clear","Tree","SelectionTreeDelegate","selection","childIds","delegate","level","destroy","parentDomElement","document","createElement","appendChild","cls","mount","toLowerCase","addChild","SelectionTreeNode","onExpand","loadChildren","domContainer","reactNode","render","unmountComponentAtNode","ReactTreeNode","SelectionTreeView","onNodeDblClicked","onNodeClicked","destroyNode","createRootNode","treeContainer","excludeRoot","loadTree","newGuid","div","norm","t1","t2","checkBoxSeparation","phase","minX","minY","minZ","maxX","maxY","maxZ","v1","v2","v3","minQ","maxQ","q1","q2","q3","vMinQ","vMaxQ","sq","isFinite","geometryIntersectsBox3_PassThree","subVectors","set","geometryIntersectsBox3","box","fI","vMinX","vMinY","vMinZ","vMaxX","vMaxY","vMaxZ","crossVectors","Infinity","faceIndex","SelectSet","getComponentBoundingBox","bbox","boundingSphere","getBoundingSphere","boundingBoxInfo","getLeafComponentBoundingBox","getModifiedWorldBoundingBox","pointer","camera","getCamera","pointerVector","rayCaster","Raycaster","pointerDir","domElement","canvas","rect","getBoundingClientRect","clientX","left","clientY","top","isPerspective","unproject","sub","normalize","transformDirection","ray","planes","vertex","plane","distanceToPoint","normal","clone","pos","dist","Plane","partialSelect","createPyramidGeometry","intersect","outside","inside","bboxInfo","containsBox","intersects","pointer1","pointer2","xMin","xMax","yMin","yMax","ray1","pointerToRay","ray2","ray3","ray4","origin","multiplyScalar","radius","direction","angleTo","cos","v4","plane1","plane2","plane3","plane4","plane5","setFromCoplanarPoints","getCameraPlane","filterBoundingBoxes","dbIdsInside","dbIdsIntersect","_CROSS_MAX_WIDTH","SelectionWindowTool","onResize","selectSet","materialLine","isDragging","crossGeomX","crossGeomY","isActive","rectGroup","lineGeom","overlay","overlayScenes","OrthographicCamera","clientWidth","clientHeight","setModel","clearSelection","LineBasicMaterial","color","Color","linewidth","opacity","mouseStart","mouseEnd","createOverlayScene","api","VIEWER_RESIZE_EVENT","removeOverlayScene","toolController","deactivateTool","getName","tool","getTool","mode","getTriggeredMode","dolly","pan","window","startDrag","pointerEnd","pointers","canvasX","canvasY","endDrag","keyCode","deactivate","pointerStart","line_mesh","LineStrip","line_cross_x","line_cross_y","Group","verticesNeedUpdate","removeOverlay","abs","half_length","cross_center","select","rectMinX","rectMinY","rectMaxX","rectMaxY","rectHeight","rectWidth","compute","SelectionWindowExtension","setPartialSelect","react","showLoader","active","pushRenderExtension","console","log","selectionWindowTool","setSelection","registerTool","activateTool","docked","ExtensionId","popRenderExtension","pushViewerPanel","popViewerPanel","fitToView","spanClass","setDocking","getState","startSelection","opts","renderContent","theExtensionManager","registerExtension"],"mappings":"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AAW7R,SAAX,CAAqBoF,KAArB,CAA2B,GAA3B,CAFC,EAAN;;AAKA,UAAMmN,SAAS,KAAKV,KAAL,CAAWC,SAAX,GACX,mBADW,GAEX,MAFJ;;AAIA,aACE;AAAA;AAAA,UAAK,WAAWQ,WAAWE,IAAX,CAAgB,GAAhB,CAAhB,EAAsC,OAAO,KAAKX,KAAL,CAAWtR,KAAxD;AACK,aAAKwR,WAAL,EADL;AAEE;AAAA;AAAA,YAAK,WAAU,SAAf,EAAyB,OAAO,EAACQ,cAAD,EAAhC;AACG,eAAKE,cAAL;AADH;AAFF,OADF;AAQD;;;EA1F2B,gBAAMC,S,UAM3BC,S,GAAY;AACjB3S,aAAW,oBAAU4S,MADJ;AAEjBd,aAAW,oBAAUe,IAFJ,E,SASZC,Y,GAAe;AACpBhB,aAAW,IADS;AAEpB9R,aAAW,EAFS,E;kBA8ET4R,e;;;;;;;;;;AClGf;;AAEA;AACA;AACA;AACA;AACA,gDAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACpBA,mCAAC;AACD;AACA;AACA;;AAEA;AACA,qDAA0B,sBAAsB,EAAE;AAAA;AAClD,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,EAAE,iBAAiB,EAAE;AAChD;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;;AAEA;AACA,0CAA0C;AAC1C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB,gEAAgE;AAChE,gEAAgE;AAChE,uEAAuE;AACvE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;;AAEhE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,8BAA8B;;AAEzD;AACA;AACA,2CAA2C,oBAAoB;;AAE/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iCAAiC,EAAE;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,iCAAiC;AACrE,+EAA+E;AAC/E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iCAAiC;AACzE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uCAAuC;AACvC,0BAA0B,QAAQ;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,KAAK;AACrB;AACA;AACA,iCAAiC,QAAQ;;AAEzC;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA,iDAAiD,QAAQ;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;;;;;ACv7BD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;IAEqBmB,K;;;AAsBnB;AACA;AACA;AACA;;;AAvBA;AACA;AACA;AACA;AAqBA,iBAAalB,KAAb,EAAoB;AAAA;AAAA,+HAEXA,KAFW;AAGnB;;AAED;AACA;AACA;AACA;;;AAtBA;AACA;AACA;AACA;;;;;6BAoBU;;AAER,UAAMS,cACJ,iBADI,0CAED,KAAKT,KAAL,CAAW7R,SAAX,CAAqBoF,KAArB,CAA2B,GAA3B,CAFC,EAAN;;AAKA,UAAM7E,QAAQ;AACZyS,eAAO,KAAKnB,KAAL,CAAWoB,SAAX,KAAyB,QAAzB,GACH,MADG,GACM,EAFD;AAGZA,mBAAW,KAAKpB,KAAL,CAAWoB;AAHV,OAAd;;AAMA,aACE;AAAA;AAAA,UAAK,WAAWX,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","file":"24.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  background-color: white;\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/WidgetContainer/WidgetContainer.scss\n// module id = 1020\n// module chunks = 0 10 11 12 13 14 15 16 19 21 24 25 26 28 29 31 32 33 35 36 37 39 40","import ViewerToolkit from './Viewer.Toolkit'\r\n\r\nexport default ViewerToolkit\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Toolkit/index.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/get.js\n// module id = 1022\n// module chunks = 0 10 11 12 13 14 15 16 20 21 22 23 24 25 26 27 28 29 30 31 32 33 35 36 37 42 45 46 47 50 51 54","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".label-container {\\n  position: relative;\\n  overflow: hidden;\\n  font-size: 100%;\\n  color: #343434;\\n  height: 100%;\\n  float: left; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/Label/Label.scss\n// module id = 1023\n// module chunks = 1 10 11 14 15 16 17 18 19 24 25 28 29 31 32 38 39 41","\r\n\r\nexport default class Toolkit {\r\n\r\n  ///////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////\r\n  static guid(format = 'xxxxxxxxxxxx') {\r\n\r\n    var d = new Date().getTime();\r\n\r\n    var guid = format.replace(\r\n      /[xy]/g,\r\n      function (c) {\r\n        var r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16);\r\n      });\r\n\r\n    return guid;\r\n  }\r\n\r\n  /////////////////////////////////////////////\r\n  //mobile detection\r\n  //\r\n  /////////////////////////////////////////////\r\n  static get mobile() {\r\n\r\n    return {\r\n\r\n      getUserAgent: function () {\r\n        return navigator.userAgent;\r\n      },\r\n      isAndroid: function () {\r\n        return this.getUserAgent().match(/Android/i);\r\n      },\r\n      isBlackBerry: function () {\r\n        return this.getUserAgent().match(/BlackBerry/i);\r\n      },\r\n      isIOS: function () {\r\n        return this.getUserAgent().match(/iPhone|iPad|iPod/i);\r\n      },\r\n      isOpera: function () {\r\n        return this.getUserAgent().match(/Opera Mini/i);\r\n      },\r\n      isWindows: function () {\r\n        return this.isWindowsDesktop() || this.isWindowsMobile();\r\n      },\r\n      isWindowsMobile: function () {\r\n        return this.getUserAgent().match(/IEMobile/i);\r\n      },\r\n      isWindowsDesktop: function () {\r\n        return this.getUserAgent().match(/WPDesktop/i);\r\n      },\r\n      isAny: function () {\r\n\r\n        return this.isAndroid() ||\r\n          this.isBlackBerry() ||\r\n          this.isIOS() ||\r\n          this.isWindowsMobile();\r\n      }\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load a document from URN\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static loadDocument (urn) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      const paramUrn = !urn.startsWith('urn:')\r\n        ? 'urn:' + urn\r\n        : urn\r\n\r\n      Autodesk.Viewing.Document.load(paramUrn, (doc) => {\r\n\r\n        resolve (doc)\r\n\r\n      }, (error) => {\r\n\r\n        reject (error)\r\n      })\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Return viewables\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getViewableItems (doc, roles = ['3d', '2d']) {\r\n\r\n    const rootItem = doc.getRootItem()\r\n\r\n    let items = []\r\n\r\n    const roleArray = roles\r\n      ? (Array.isArray(roles) ? roles : [roles])\r\n      : []\r\n\r\n    roleArray.forEach((role) => {\r\n\r\n      items = [ ...items,\r\n        ...Autodesk.Viewing.Document.getSubItemsWithProperties(\r\n          rootItem, { type: 'geometry', role }, true) ]\r\n    })\r\n\r\n    return items\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Toolbar button\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static createButton(id, className, tooltip, handler) {\r\n\r\n    var button = new Autodesk.Viewing.UI.Button(id)\r\n\r\n    button.icon.style.fontSize = '24px'\r\n\r\n    button.icon.className = className\r\n\r\n    button.setToolTip(tooltip)\r\n\r\n    button.onClick = handler\r\n\r\n    return button\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Control group\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static createControlGroup (viewer, ctrlGroupName) {\r\n\r\n    var viewerToolbar = viewer.getToolbar(true)\r\n\r\n    if (viewerToolbar) {\r\n\r\n      var ctrlGroup =  new Autodesk.Viewing.UI.ControlGroup(\r\n        ctrlGroupName)\r\n\r\n      viewerToolbar.addControl(ctrlGroup)\r\n\r\n      return ctrlGroup\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getLeafNodes (model, dbIds) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const instanceTree = model.getData().instanceTree\r\n\r\n        dbIds = dbIds || instanceTree.getRootId()\r\n\r\n        const dbIdArray = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n        let leafIds = []\r\n\r\n        const getLeafNodesRec = (id) => {\r\n\r\n          var childCount = 0;\r\n\r\n          instanceTree.enumNodeChildren(id, (childId) => {\r\n\r\n              getLeafNodesRec(childId)\r\n\r\n              ++childCount\r\n            })\r\n\r\n          if (childCount == 0) {\r\n\r\n            leafIds.push(id)\r\n          }\r\n        }\r\n\r\n        for (var i = 0; i < dbIdArray.length; ++i) {\r\n\r\n          getLeafNodesRec(dbIdArray[i])\r\n        }\r\n\r\n        return resolve(leafIds)\r\n\r\n      } catch(ex){\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // get node fragIds\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getFragIds (model, dbIds) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const instanceTree = model.getData().instanceTree\r\n\r\n        dbIds = dbIds || instanceTree.getRootId()\r\n\r\n        const dbIdArray = Array.isArray(dbIds)\r\n          ? dbIds : [dbIds]\r\n\r\n        const leafIds =\r\n          await Toolkit.getLeafNodes(\r\n            model, dbIdArray)\r\n\r\n        const fragIds = []\r\n\r\n        for(var i=0; i< leafIds.length; ++i) {\r\n\r\n          instanceTree.enumNodeFragments(\r\n            leafIds[i], (fragId) => {\r\n              fragIds.push(fragId)\r\n            })\r\n        }\r\n\r\n        return resolve(fragIds)\r\n\r\n      } catch(ex) {\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // get leaf node fragIds\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getLeafFragIds (model, leafId) {\r\n\r\n    const instanceTree = model.getData().instanceTree\r\n\r\n    const fragIds = []\r\n\r\n    instanceTree.enumNodeFragments(\r\n      leafId, (fragId) => {\r\n        fragIds.push(fragId)\r\n      })\r\n\r\n    return fragIds\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Node bounding box\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getWorldBoundingBox (model, dbId) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      try {\r\n\r\n        var fragIds =\r\n          await Toolkit.getFragIds(\r\n            model, dbId)\r\n\r\n        if (!fragIds.length) {\r\n\r\n          return reject('No geometry, invalid dbId?')\r\n        }\r\n\r\n        var fragList = model.getFragmentList()\r\n\r\n        var fragbBox = new THREE.Box3()\r\n        var nodebBox = new THREE.Box3()\r\n\r\n        fragIds.forEach(function(fragId) {\r\n\r\n          fragList.getWorldBounds(fragId, fragbBox)\r\n          nodebBox.union(fragbBox)\r\n        })\r\n\r\n        return resolve(nodebBox)\r\n\r\n      } catch(ex){\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Gets properties from component\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getProperties (model, dbId, requestedProps = null) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const dbIdInt = parseInt(dbId)\r\n\r\n        if (isNaN(dbIdInt)) {\r\n\r\n          return reject(dbId + ' is not a valid integer')\r\n        }\r\n\r\n        if (requestedProps) {\r\n\r\n          const propTasks = requestedProps.map((displayName) => {\r\n\r\n            return Toolkit.getProperty(\r\n              model, dbIdInt, displayName, 'Not Available')\r\n          })\r\n\r\n          Promise.all(propTasks).then((properties) => {\r\n\r\n            resolve(properties)\r\n          })\r\n\r\n        } else {\r\n\r\n          model.getProperties(dbIdInt, (result) => {\r\n\r\n            if (result.properties) {\r\n\r\n              return resolve(\r\n                result.properties)\r\n            }\r\n\r\n            return reject('No Properties')\r\n          })\r\n        }\r\n\r\n      } catch (ex) {\r\n\r\n          return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getProperty (model, dbId, displayName, defaultValue) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      try {\r\n\r\n        model.getProperties(dbId, (result) => {\r\n\r\n          if (result.properties) {\r\n\r\n            result.properties.forEach((prop) => {\r\n\r\n              prop.dbId = dbId\r\n\r\n              if (typeof displayName === 'function') {\r\n\r\n                if (displayName (prop.displayName)){\r\n\r\n                  resolve(prop)\r\n                }\r\n\r\n              } else if (displayName === prop.displayName) {\r\n\r\n                resolve(prop)\r\n              }\r\n            })\r\n\r\n            if (defaultValue) {\r\n\r\n              return resolve({\r\n                displayValue: defaultValue,\r\n                displayName,\r\n                dbId\r\n              })\r\n            }\r\n\r\n            reject(new Error('Not Found'))\r\n\r\n          } else {\r\n\r\n            reject(new Error('Error getting properties'));\r\n          }\r\n        })\r\n\r\n      } catch(ex){\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Gets all existing properties from component  dbIds\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getPropertyList (viewer, dbIds, model = null) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      try {\r\n\r\n        model = model || viewer.activeModel || viewer.model\r\n\r\n        var propertyTasks = dbIds.map((dbId) => {\r\n\r\n          return Toolkit.getProperties(model, dbId)\r\n        })\r\n\r\n        var propertyResults = await Promise.all(\r\n          propertyTasks)\r\n\r\n        var properties = []\r\n\r\n        propertyResults.forEach((propertyResult) => {\r\n\r\n          propertyResult.forEach((prop) => {\r\n\r\n            if (properties.indexOf(prop.displayName) < 0){\r\n\r\n              properties.push(prop.displayName)\r\n            }\r\n          })\r\n        })\r\n\r\n        return resolve(properties.sort())\r\n\r\n      } catch (ex) {\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getBulkPropertiesAsync (model, dbIds, propFilter) {\r\n\r\n    return new Promise(async(resolve, reject) => {\r\n\r\n      if (typeof propFilter === 'function') {\r\n\r\n        const propTasks = dbIds.map((dbId) => {\r\n\r\n          return this.getProperty(\r\n            model, dbId, propFilter, 'Not Found')\r\n        })\r\n\r\n        const propRes = await Promise.all(propTasks)\r\n\r\n        const filteredRes = propRes.filter((res) => {\r\n\r\n          return res.displayValue !== 'Not Found'\r\n        })\r\n\r\n        resolve(filteredRes.map((res) => {\r\n\r\n          return {\r\n            properties: [res],\r\n            dbId: res.dbId\r\n          }\r\n        }))\r\n\r\n      } else {\r\n\r\n        const propFilterArray = Array.isArray (propFilter)\r\n          ? propFilter :[propFilter]\r\n\r\n\r\n        model.getBulkProperties(dbIds, propFilterArray, (result) => {\r\n\r\n          resolve (result)\r\n\r\n        }, (error) => {\r\n\r\n          reject(error)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Maps components by property\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static mapComponentsByProp (model, propFilter, components, defaultProp) {\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n\r\n      try {\r\n\r\n        const results = await Toolkit.getBulkPropertiesAsync(\r\n          model, components, propFilter)\r\n\r\n        const propertyResults = results.map((result) => {\r\n\r\n          const prop = result.properties[0]\r\n\r\n          return Object.assign({}, prop, {\r\n            dbId: result.dbId\r\n          })\r\n        })\r\n\r\n        var componentsMap = {};\r\n\r\n        propertyResults.forEach((result) => {\r\n\r\n          var value = result.displayValue;\r\n\r\n          if (typeof value == 'string') {\r\n\r\n            value = value.split(':')[0]\r\n          }\r\n\r\n          if (!componentsMap[value]) {\r\n\r\n            componentsMap[value] = []\r\n          }\r\n\r\n          componentsMap[value].push(result.dbId)\r\n        })\r\n\r\n        return resolve(componentsMap)\r\n\r\n      } catch (ex) {\r\n\r\n        return reject(ex)\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  // Runs recursively the argument task on each node\r\n  // of the data tree\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  static runTaskOnDataTree(root, taskFunc) {\r\n\r\n    var tasks = [];\r\n\r\n    var runTaskOnDataTreeRec = (node, parent=null)=> {\r\n\r\n      if (node.children) {\r\n\r\n        node.children.forEach((childNode)=> {\r\n\r\n          runTaskOnDataTreeRec(childNode, node);\r\n        });\r\n      }\r\n\r\n      var task = taskFunc(node, parent);\r\n\r\n      tasks.push(task);\r\n    }\r\n\r\n    runTaskOnDataTreeRec(root);\r\n\r\n    return Promise.all(tasks);\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static drawBox (viewer, min, max, material, overlayId) {\r\n\r\n    const geometry = new THREE.Geometry()\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, min.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, min.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(max.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(max.x, max.y, max.z))\r\n\r\n    geometry.vertices.push(new THREE.Vector3(min.x, min.y, max.z))\r\n    geometry.vertices.push(new THREE.Vector3(min.x, max.y, max.z))\r\n\r\n    const lines = new THREE.Line(geometry,\r\n      material, THREE.LinePieces)\r\n\r\n    viewer.impl.addOverlay(overlayId, lines)\r\n\r\n    viewer.impl.invalidate(\r\n      true, true, true)\r\n\r\n    return lines\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Set component material\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static async setMaterial(model, dbId, material) {\r\n\r\n    const fragIds = await Toolkit.getFragIds(\r\n      model, dbId)\r\n\r\n    const fragList = model.getFragmentList()\r\n\r\n    fragIds.forEach((fragId) => {\r\n\r\n      fragList.setMaterial(fragId, material)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Recursively builds the model tree\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static buildModelTree (model, createNodeFunc = null){\r\n\r\n    //builds model tree recursively\r\n    function _buildModelTreeRec(node){\r\n\r\n      instanceTree.enumNodeChildren(node.dbId,\r\n        function(childId) {\r\n\r\n          var childNode = null;\r\n\r\n          if(createNodeFunc){\r\n\r\n            childNode = createNodeFunc(childId);\r\n\r\n          } else {\r\n\r\n            node.children = node.children || [];\r\n\r\n            childNode = {\r\n              dbId: childId,\r\n              name: instanceTree.getNodeName(childId)\r\n            }\r\n\r\n            node.children.push(childNode)\r\n          }\r\n\r\n          _buildModelTreeRec(childNode)\r\n        })\r\n    }\r\n\r\n    //get model instance tree and root component\r\n    var instanceTree = model.getData().instanceTree\r\n\r\n    var rootId = instanceTree.getRootId()\r\n\r\n    var rootNode = {\r\n      dbId: rootId,\r\n      name: instanceTree.getNodeName(rootId)\r\n    }\r\n\r\n    _buildModelTreeRec(rootNode)\r\n\r\n    return rootNode\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Recursively execute task on model tree\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static executeTaskOnModelTree (model, task) {\r\n\r\n    var taskResults = [];\r\n\r\n    function _executeTaskOnModelTreeRec(dbId){\r\n\r\n      instanceTree.enumNodeChildren(dbId,\r\n        function(childId) {\r\n\r\n          taskResults.push(task(model, childId));\r\n\r\n          _executeTaskOnModelTreeRec(childId);\r\n        });\r\n    }\r\n\r\n    //get model instance tree and root component\r\n    var instanceTree = model.getData().instanceTree;\r\n\r\n    var rootId = instanceTree.getRootId();\r\n\r\n    _executeTaskOnModelTreeRec(rootId);\r\n\r\n    return taskResults;\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static hide (viewer, dbIds = [], model = null) {\r\n\r\n    try {\r\n\r\n      model = model || viewer.activeModel || viewer.model\r\n\r\n      viewer.hide (dbIds)\r\n\r\n      const targetIds = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n      const tasks = targetIds.map((dbId) => {\r\n\r\n        return new Promise((resolve) => {\r\n\r\n          viewer.impl.visibilityManager.setNodeOff(\r\n            dbId, true)\r\n\r\n          resolve()\r\n        })\r\n      })\r\n\r\n      return Promise.all(tasks)\r\n\r\n    } catch (ex) {\r\n\r\n      return Promise.reject(ex)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static show (viewer, dbIds = [], model = null) {\r\n\r\n    try {\r\n\r\n      model = model || viewer.activeModel || viewer.model\r\n\r\n      viewer.show (dbIds)\r\n\r\n      const targetIds = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n      targetIds.forEach((dbId) => {\r\n\r\n        viewer.impl.visibilityManager.setNodeOff(\r\n          dbId, false)\r\n      })\r\n\r\n      return Promise.resolve()\r\n\r\n    } catch (ex) {\r\n\r\n      return Promise.reject(ex)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static async isolateFull (viewer, dbIds = [], model = null) {\r\n\r\n    try {\r\n\r\n      model = model || viewer.activeModel || viewer.model\r\n\r\n      viewer.isolate(dbIds)\r\n\r\n      const targetIds = Array.isArray(dbIds) ? dbIds : [dbIds]\r\n\r\n      const targetLeafIds = await Toolkit.getLeafNodes(\r\n        model, targetIds)\r\n\r\n      const leafIds = await Toolkit.getLeafNodes (model)\r\n\r\n      const leafTasks = leafIds.map((dbId) => {\r\n\r\n        return new Promise((resolveLeaf) => {\r\n\r\n          const show = !targetLeafIds.length  ||\r\n            targetLeafIds.indexOf(dbId) > -1\r\n\r\n          viewer.impl.visibilityManager.setNodeOff(\r\n            dbId, !show)\r\n\r\n          resolveLeaf()\r\n        })\r\n      })\r\n\r\n      return Promise.all(leafTasks)\r\n\r\n    } catch (ex) {\r\n\r\n      return Promise.reject(ex)\r\n    }\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  // Rotate selected fragments\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  static rotateFragments (viewer, fragIds, axis, angle, center, model = null) {\r\n\r\n    var quaternion = new THREE.Quaternion()\r\n\r\n    quaternion.setFromAxisAngle(axis, angle)\r\n\r\n    model = model || viewer.activeModel || viewer.model\r\n\r\n    fragIds.forEach((fragId) => {\r\n\r\n      var fragProxy = viewer.impl.getFragmentProxy(\r\n        model, fragId)\r\n\r\n      fragProxy.getAnimTransform()\r\n\r\n      var position = new THREE.Vector3(\r\n        fragProxy.position.x - center.x,\r\n        fragProxy.position.y - center.y,\r\n        fragProxy.position.z - center.z)\r\n\r\n      position.applyQuaternion(quaternion)\r\n\r\n      position.add(center)\r\n\r\n      fragProxy.position = position\r\n\r\n      fragProxy.quaternion.multiplyQuaternions(\r\n        quaternion, fragProxy.quaternion)\r\n\r\n      fragProxy.updateAnimTransform()\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // A fix for viewer.restoreState\r\n  // that also restores pivotPoint\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static restoreStateWithPivot (\r\n    viewer, state, filter = null, immediate = false) {\r\n\r\n    const onStateRestored = () => {\r\n\r\n      viewer.removeEventListener(\r\n        Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\r\n        onStateRestored)\r\n\r\n      const pivot = state.viewport.pivotPoint\r\n\r\n      setTimeout(() => {\r\n\r\n        viewer.navigation.setPivotPoint(\r\n          new THREE.Vector3(\r\n            pivot[0], pivot[1], pivot[2]))\r\n      }, immediate ? 0 : 1250)\r\n    }\r\n\r\n    viewer.addEventListener(\r\n      Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\r\n      onStateRestored)\r\n\r\n    viewer.restoreState(state, filter, immediate)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static getComponentsByParentName (name, model) {\r\n\r\n    const instanceTree = model.getData().instanceTree\r\n\r\n    const rootId = instanceTree.getRootId()\r\n\r\n    let parentId = 0\r\n\r\n    instanceTree.enumNodeChildren(rootId,\r\n      (childId) => {\r\n\r\n        const nodeName = instanceTree.getNodeName(childId)\r\n\r\n        if (nodeName.indexOf(name) > -1) {\r\n\r\n          parentId = childId\r\n        }\r\n      })\r\n\r\n    return parentId > 0\r\n      ? Toolkit.getLeafNodes(model, parentId)\r\n      : []\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Creates a standard THREE.Mesh out of a Viewer\r\n  // component\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static buildComponentMesh (\r\n    viewer, model, dbId, faceFilter, material) {\r\n\r\n    const vertexArray = []\r\n\r\n    // first we assume the component dbId is a leaf\r\n    // component: ie has no child so contains\r\n    // geometry. This util method will return all fragIds\r\n    // associated with that specific dbId\r\n    const fragIds = Toolkit.getLeafFragIds(model, dbId)\r\n\r\n    let matrixWorld = null\r\n\r\n    const meshGeometry = new THREE.Geometry()\r\n\r\n    fragIds.forEach((fragId) => {\r\n\r\n      // for each fragId, get the proxy in order to access\r\n      // THREE geometry\r\n      const renderProxy =\r\n        viewer.impl.getRenderProxy(\r\n          model, fragId)\r\n\r\n      matrixWorld = matrixWorld ||\r\n      renderProxy.matrixWorld\r\n\r\n      const geometry = renderProxy.geometry\r\n\r\n      const attributes = geometry.attributes\r\n\r\n      const positions = geometry.vb\r\n        ? geometry.vb\r\n        : attributes.position.array\r\n\r\n      const indices = attributes.index.array || geometry.ib\r\n\r\n      const stride = geometry.vb ? geometry.vbstride : 3\r\n\r\n      const offsets = [{\r\n        count: indices.length,\r\n        index: 0,\r\n        start: 0\r\n      }]\r\n\r\n      for (var oi = 0, ol = offsets.length; oi < ol; ++oi) {\r\n\r\n        var start = offsets[oi].start\r\n        var count = offsets[oi].count\r\n        var index = offsets[oi].index\r\n\r\n        for (var i = start, il = start + count; i < il; i += 3) {\r\n\r\n          const a = index + indices[i]\r\n          const b = index + indices[i + 1]\r\n          const c = index + indices[i + 2]\r\n\r\n          const vA = new THREE.Vector3()\r\n          const vB = new THREE.Vector3()\r\n          const vC = new THREE.Vector3()\r\n\r\n          vA.fromArray(positions, a * stride)\r\n          vB.fromArray(positions, b * stride)\r\n          vC.fromArray(positions, c * stride)\r\n\r\n          if (!faceFilter || faceFilter(vA, vB, vC)) {\r\n\r\n            const faceIdx = meshGeometry.vertices.length\r\n\r\n            meshGeometry.vertices.push(vA)\r\n            meshGeometry.vertices.push(vB)\r\n            meshGeometry.vertices.push(vC)\r\n\r\n            const face = new THREE.Face3(\r\n              faceIdx, faceIdx + 1, faceIdx + 2)\r\n\r\n            meshGeometry.faces.push(face)\r\n          }\r\n        }\r\n      }\r\n    })\r\n\r\n    meshGeometry.applyMatrix(matrixWorld)\r\n    meshGeometry.computeFaceNormals()\r\n    meshGeometry.computeVertexNormals()\r\n\r\n    // creates THREE.Mesh\r\n    const mesh = new THREE.Mesh(\r\n      meshGeometry, material)\r\n\r\n    mesh.dbId = dbId\r\n\r\n    return mesh\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static selectiveExplode (viewer, scale, excludedFragIds, model = null) {\r\n\r\n    model = model || viewer.activeModel || viewer.model\r\n\r\n    var svf = model.getData();\r\n\r\n    var mc = model.getVisibleBounds(true).center();\r\n\r\n    var fragList = model.getFragmentList();\r\n\r\n    var pt = new THREE.Vector3();\r\n\r\n    //Input scale is in the range 0-1, where 0\r\n    //means no displacement, and 1 maximum reasonable displacement.\r\n    scale *= 2;\r\n\r\n    //If we have a full part hierarchy we can use a\r\n    //better grouping strategy when exploding\r\n    if (svf.instanceTree && svf.instanceTree.nodeAccess.nodeBoxes && scale !== 0) {\r\n\r\n      var scaledExplodeDepth = scale * (svf.instanceTree.maxDepth - 1) + 1;\r\n      var explodeDepth = 0 | scaledExplodeDepth;\r\n      var currentSegmentFraction = scaledExplodeDepth - explodeDepth;\r\n\r\n      var it = svf.instanceTree;\r\n      var tmpBox = new Float32Array(6);\r\n\r\n      (function explodeRec(nodeId, depth, cx, cy, cz, ox, oy, oz) {\r\n\r\n        var oscale = scale * 2;\r\n\r\n        // smooth transition of this tree depth\r\n        // from non-exploded to exploded state\r\n        if (depth == explodeDepth)\r\n          oscale *= currentSegmentFraction;\r\n\r\n        it.getNodeBox(nodeId, tmpBox);\r\n\r\n        var mycx = 0.5 * (tmpBox[0] + tmpBox[3]);\r\n        var mycy = 0.5 * (tmpBox[1] + tmpBox[4]);\r\n        var mycz = 0.5 * (tmpBox[2] + tmpBox[5]);\r\n\r\n        if (depth > 0 && depth <= explodeDepth) {\r\n          var dx = (mycx - cx) * oscale;\r\n          var dy = (mycy - cy) * oscale;\r\n          var dz = (mycz - cz) * oscale;\r\n\r\n          //var omax = Math.max(dx, Math.max(dy, dz));\r\n          ox += dx;\r\n          oy += dy;\r\n          oz += dz;\r\n        }\r\n\r\n        svf.instanceTree.enumNodeChildren(nodeId, function(dbId) {\r\n\r\n          explodeRec(dbId, depth+1, mycx, mycy, mycz, ox, oy, oz);\r\n\r\n        }, false);\r\n\r\n        svf.instanceTree.enumNodeFragments(nodeId, function(fragId) {\r\n\r\n          if (excludedFragIds.indexOf(fragId.toString()) < 0) {\r\n\r\n            pt.x = ox;\r\n            pt.y = oy;\r\n            pt.z = oz;\r\n\r\n            fragList.updateAnimTransform(fragId, null, null, pt);\r\n          }\r\n\r\n        }, false);\r\n\r\n      })(svf.instanceTree.getRootId(), 0, mc.x, mc.y, mc.x, 0, 0, 0);\r\n\r\n    } else {\r\n\r\n      var boxes = fragList.fragments.boxes;\r\n\r\n      var nbFrags = fragList.getCount()\r\n\r\n      for (var fragId = 0; fragId < nbFrags; ++fragId) {\r\n\r\n        if(excludedFragIds.indexOf(fragId.toString()) < 0) {\r\n\r\n          if (scale == 0) {\r\n\r\n            fragList.updateAnimTransform(fragId);\r\n\r\n          } else {\r\n\r\n            var box_offset = fragId * 6;\r\n\r\n            var cx = 0.5 * (boxes[box_offset] + boxes[box_offset + 3]);\r\n            var cy = 0.5 * (boxes[box_offset + 1] + boxes[box_offset + 4]);\r\n            var cz = 0.5 * (boxes[box_offset + 2] + boxes[box_offset + 5]);\r\n\r\n            cx = scale * (cx - mc.x);\r\n            cy = scale * (cy - mc.y);\r\n            cz = scale * (cz - mc.z);\r\n\r\n            pt.x = cx;\r\n            pt.y = cy;\r\n            pt.z = cz;\r\n\r\n            fragList.updateAnimTransform(fragId, null, null, pt);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Toolkit/Viewer.Toolkit.js","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\r\n\r\nexport default MultiModelExtensionBase\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/index.js","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".switch-container {\\n  position: relative; }\\n\\n.switch-container *:hover {\\n  cursor: pointer; }\\n\\n.switch-container.disabled *:hover {\\n  cursor: not-allowed; }\\n\\ninput[type=\\\"checkbox\\\"].switch {\\n  pointer-events: none;\\n  position: absolute;\\n  cursor: pointer;\\n  opacity: 0; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  vertical-align: middle;\\n  width: 40px;\\n  height: 20px;\\n  border-radius: 999px;\\n  background-color: #9d9d9d;\\n  transition-duration: .4s;\\n  transition-property: background-color, box-shadow;\\n  cursor: pointer; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span {\\n  position: absolute;\\n  font-size: 1.6rem;\\n  color: #f5f5f5;\\n  margin-top: 12px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(1) {\\n  margin-left: 15px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(2) {\\n  margin-left: 55px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div {\\n  width: 60px;\\n  background-position: 0 0;\\n  background-color: #57BB00; }\\n\\n.switch-container.disabled input[type=\\\"checkbox\\\"].switch + div {\\n  background-color: rgba(157, 157, 157, 0.5); }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  width: 60px;\\n  height: 26px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div > div {\\n  float: left;\\n  width: 24px;\\n  height: 24px;\\n  border-radius: inherit;\\n  background: #f5f5f5;\\n  transition-timing-function: cubic-bezier(1, 0, 0, 1);\\n  transition-duration: 0.4s;\\n  transition-property: background-color, -webkit-transform;\\n  transition-property: transform, background-color;\\n  transition-property: transform, background-color, -webkit-transform;\\n  pointer-events: none;\\n  margin-top: 1px;\\n  margin-left: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(20px, 0, 0);\\n  transform: translate3d(20px, 0, 0);\\n  background-color: #f5f5f5; }\\n\\ninput[type=\\\"checkbox\\\"].bigswitch.switch + div > div {\\n  width: 44px;\\n  height: 44px;\\n  margin-top: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(34px, 0, 0);\\n  transform: translate3d(34px, 0, 0); }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/Switch/Switch.scss\n// module id = 1026\n// module chunks = 11 13 14 15 19 21 24 28 31 32 36 38","import WidgetContainer from './WidgetContainer'\r\n\r\nexport default WidgetContainer\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/WidgetContainer/index.js","import EventsEmitter from 'EventsEmitter'\r\n\r\nexport default class MultiModelExtensionBase extends\r\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (viewer, options = {}, defaultOptions = {}) {\r\n\r\n    super (viewer)\r\n\r\n    // bindings\r\n\r\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\r\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\r\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\r\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\r\n    this.onModelActivated     = this.onModelActivated.bind(this)\r\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\r\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\r\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\r\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\r\n    this.onSelection          = this.onSelection.bind(this)\r\n\r\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\r\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\r\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\r\n\r\n    this.defaultOptions = defaultOptions\r\n\r\n    this.options = Object.assign({},\r\n      defaultOptions,\r\n      options)\r\n\r\n    this.viewer = viewer\r\n\r\n    // read the modelQueue to detect currently loaded models\r\n    // when the extension gets loaded\r\n    const models = viewer.impl.modelQueue().getModels()\r\n\r\n    this.models = models.map((model) => {\r\n\r\n      model.guid = model.guid || this.guid()\r\n\r\n      return model\r\n    })\r\n\r\n    this.initializeEvents ()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static get ExtensionId() {\r\n\r\n    return 'Viewing.Extension.MultiModelExtensionBase'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  load () {\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  unload () {\r\n\r\n    this.viewerEvents.forEach((event) => {\r\n\r\n      this.viewer.removeEventListener(\r\n        event.id, this[event.handler])\r\n    })\r\n\r\n    if (this.eventSink) {\r\n\r\n      this.eventSink.off('model.activated',\r\n        this.__onModelActivated)\r\n\r\n      this.eventSink.off('model.unloaded',\r\n        this.__onModelUnloaded)\r\n\r\n      this.eventSink.off('model.loaded',\r\n        this.__onModelLoaded)\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Reload callback, in case the extension is re-loaded\r\n  // more than once\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  reload (options = {}) {\r\n\r\n    this.options = Object.assign({},\r\n      this.defaultOptions,\r\n      this.options,\r\n      options)\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when extension gets loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onExtensionLoaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when the model starts to load\r\n  // The geometry and instanceTree may not be available\r\n  // at this time\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelBeginLoad (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Triggered by ModelLoader extension when a model is\r\n  // selected in a multi-model environment\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelActivated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelActivated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when model root node has been loaded\r\n  // Extensions that do not require access to full\r\n  // model geometry or component tree may use that\r\n  // event to know a new model has been loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelRootLoaded (event) {\r\n\r\n    this.viewerEvent([\r\n\r\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\r\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\r\n\r\n    ]).then((args) => {\r\n\r\n      this.onModelCompletedLoad (args[0])\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when object tree is fully loaded.\r\n  // Extensions that are interested in using the\r\n  // instanceTree need to use that event to make sure\r\n  // it is available\r\n  //\r\n  ////////////////////////////////////////////////////////\r\n  onObjectTreeCreated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when geometry is fully loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onGeometryLoaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\r\n  // have both been fired\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelCompletedLoad (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked once the viewer toolbar has been created\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onToolbarCreated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Triggered by ModelLoader extension when a model has\r\n  // been unloaded as per user request\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelUnloaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when a model is being selected\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onSelection (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onSelection')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //Sink Events\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  __onModelLoaded (event) {\r\n\r\n    this.models = [...this.models, event.model]\r\n\r\n    this.onModelBeginLoad (event)\r\n  }\r\n\r\n  __onModelActivated (event) {\r\n\r\n    this.onModelActivated (event)\r\n  }\r\n\r\n  __onModelUnloaded (event) {\r\n\r\n    this.models = this.models.filter((model) => {\r\n\r\n      return model.guid !== event.model.guid\r\n    })\r\n\r\n    this.onModelUnloaded(event)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Initialize all events for the extension\r\n  // Each event will invoke a predefined handler\r\n  // implemented or not by the derived extension\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  initializeEvents () {\r\n\r\n    if (this.options.eventSink) {\r\n\r\n      // event object passed in options\r\n      this.eventSink = this.options.eventSink\r\n\r\n      this.eventSink.on('model.loaded',\r\n        this.__onModelLoaded)\r\n\r\n      this.eventSink.on('model.activated',\r\n        this.__onModelActivated)\r\n\r\n      this.eventSink.on('model.unloaded',\r\n        this.__onModelUnloaded)\r\n    }\r\n\r\n    this.viewerEvents = [\r\n      {\r\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\r\n        handler: 'onExtensionLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\r\n        handler: 'onObjectTreeCreated'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\r\n        handler: 'onModelRootLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\r\n        handler: 'onGeometryLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\r\n        handler: 'onToolbarCreated'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\r\n        handler: 'onSelection'\r\n      }\r\n    ]\r\n\r\n    this.viewerEvents.forEach((event) => {\r\n\r\n      this.viewerEvent(event.id, this[event.handler])\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Async viewer event\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  viewerEvent (eventId, handler) {\r\n\r\n    if (handler) {\r\n\r\n      this.viewer.addEventListener (eventId, handler)\r\n      return\r\n    }\r\n\r\n    const eventIdArray = Array.isArray(eventId)\r\n      ? eventId : [eventId]\r\n\r\n    const eventTasks = eventIdArray.map((id) => {\r\n      return new Promise ((resolve) => {\r\n        const __handler = (args) => {\r\n          this.viewer.removeEventListener (id, __handler)\r\n          resolve (args)\r\n        }\r\n        this.viewer.addEventListener (id, __handler)\r\n      })\r\n    })\r\n\r\n    return Promise.all (eventTasks)\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","import PropTypes from 'prop-types'\r\nimport ReactDOM from 'react-dom'\r\nimport './WidgetContainer.scss'\r\nimport React from 'react'\r\n\r\nclass WidgetContainer extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    showTitle: PropTypes.bool\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    showTitle: true,\r\n    className: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderTitle () {\r\n\r\n    if (!this.props.showTitle) {\r\n\r\n      return <div/>\r\n    }\r\n\r\n    if (this.props.renderTitle) {\r\n\r\n      return this.props.renderTitle()\r\n    }\r\n\r\n    return (\r\n      <div className=\"title\">\r\n        <label>\r\n          { this.props.title }\r\n        </label>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  renderChildren() {\r\n\r\n    if (this.props.dimensions) {\r\n\r\n      return React.Children.map(this.props.children, (child) => {\r\n\r\n        const newProps = Object.assign({},\r\n          child.props, {\r\n            dimensions: this.props.dimensions\r\n          })\r\n\r\n        return React.cloneElement(child, newProps)\r\n      })\r\n    }\r\n\r\n    return this.props.children\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  render() {\r\n\r\n    const classNames = [\r\n      'widget-container',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    const height = this.props.showTitle\r\n      ? 'calc(100% - 40px)'\r\n      : '100%'\r\n\r\n    return (\r\n      <div className={classNames.join(' ')} style={this.props.style}>\r\n         { this.renderTitle() }\r\n        <div className=\"content\" style={{height}}>\r\n          {this.renderChildren()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WidgetContainer\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/WidgetContainer/WidgetContainer.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/WidgetContainer/WidgetContainer.scss\n// module id = 1031\n// module chunks = 0 10 11 12 13 14 15 16 19 21 24 25 26 28 29 31 32 33 35 36 37 39 40",";(function(factory) {\n    'use strict';\n    /* global window: false, define: false, module: false */\n    var root = typeof window === 'undefined' ? null : window;\n\n    if (typeof define === 'function' && define.amd) {\n        define(function(){ return factory(root); });\n    } else if (typeof module !== 'undefined') {\n        module.exports = factory(root);\n    } else {\n        root.DOMPurify = factory(root);\n    }\n}(function factory(window) {\n    'use strict';\n\n    var DOMPurify = function(window) {\n        return factory(window);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '0.8.9';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n        // not running in a browser, provide a factory function\n        // so that you can pass your own Window\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n    }\n\n    var document = window.document;\n    var originalDocument = document;\n    var DocumentFragment = window.DocumentFragment;\n    var HTMLTemplateElement = window.HTMLTemplateElement;\n    var Node = window.Node;\n    var NodeFilter = window.NodeFilter;\n    var NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap;\n    var Text = window.Text;\n    var Comment = window.Comment;\n    var DOMParser = window.DOMParser;\n    var useDOMParser = false; // See comment below\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n            document = template.content.ownerDocument;\n        }\n    }\n    var implementation = document.implementation;\n    var createNodeIterator = document.createNodeIterator;\n    var getElementsByTagName = document.getElementsByTagName;\n    var createDocumentFragment = document.createDocumentFragment;\n    var importNode = originalDocument.importNode;\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported =\n        typeof implementation.createHTMLDocument !== 'undefined' &&\n        document.documentMode !== 9;\n\n    /* Add properties to a lookup table */\n    var _addToSet = function(set, array) {\n        var l = array.length;\n        while (l--) {\n            if (typeof array[l] === 'string') {\n                array[l] = array[l].toLowerCase();\n            }\n            set[array[l]] = true;\n        }\n        return set;\n    };\n\n    /* Shallow clone an object */\n    var _cloneObj = function(object) {\n        var newObject = {};\n        var property;\n        for (property in object) {\n            if (object.hasOwnProperty(property)) {\n                newObject[property] = object[property];\n            }\n        }\n        return newObject;\n    };\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = _addToSet({}, [\n\n        // HTML\n        'a','abbr','acronym','address','area','article','aside','audio','b',\n        'bdi','bdo','big','blink','blockquote','body','br','button','canvas',\n        'caption','center','cite','code','col','colgroup','content','data',\n        'datalist','dd','decorator','del','details','dfn','dir','div','dl','dt',\n        'element','em','fieldset','figcaption','figure','font','footer','form',\n        'h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i',\n        'img','input','ins','kbd','label','legend','li','main','map','mark',\n        'marquee','menu','menuitem','meter','nav','nobr','ol','optgroup',\n        'option','output','p','pre','progress','q','rp','rt','ruby','s','samp',\n        'section','select','shadow','small','source','spacer','span','strike',\n        'strong','style','sub','summary','sup','table','tbody','td','template',\n        'textarea','tfoot','th','thead','time','tr','track','tt','u','ul','var',\n        'video','wbr',\n\n        // SVG\n        'svg','altglyph','altglyphdef','altglyphitem','animatecolor',\n        'animatemotion','animatetransform','circle','clippath','defs','desc',\n        'ellipse','filter','font','g','glyph','glyphref','hkern','image','line',\n        'lineargradient','marker','mask','metadata','mpath','path','pattern',\n        'polygon','polyline','radialgradient','rect','stop','switch','symbol',\n        'text','textpath','title','tref','tspan','view','vkern',\n\n        // SVG Filters\n        'feBlend','feColorMatrix','feComponentTransfer','feComposite',\n        'feConvolveMatrix','feDiffuseLighting','feDisplacementMap',\n        'feFlood','feFuncA','feFuncB','feFuncG','feFuncR','feGaussianBlur',\n        'feMerge','feMergeNode','feMorphology','feOffset',\n        'feSpecularLighting','feTile','feTurbulence',\n\n        //MathML\n        'math','menclose','merror','mfenced','mfrac','mglyph','mi','mlabeledtr',\n        'mmuliscripts','mn','mo','mover','mpadded','mphantom','mroot','mrow',\n        'ms','mpspace','msqrt','mystyle','msub','msup','msubsup','mtable','mtd',\n        'mtext','mtr','munder','munderover',\n\n        //Text\n        '#text'\n    ]);\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = _addToSet({}, [\n\n        // HTML\n        'accept','action','align','alt','autocomplete','background','bgcolor',\n        'border','cellpadding','cellspacing','checked','cite','class','clear','color',\n        'cols','colspan','coords','datetime','default','dir','disabled',\n        'download','enctype','face','for','headers','height','hidden','high','href',\n        'hreflang','id','ismap','label','lang','list','loop', 'low','max',\n        'maxlength','media','method','min','multiple','name','noshade','novalidate',\n        'nowrap','open','optimum','pattern','placeholder','poster','preload','pubdate',\n        'radiogroup','readonly','rel','required','rev','reversed','role','rows',\n        'rowspan','spellcheck','scope','selected','shape','size','span',\n        'srclang','start','src','step','style','summary','tabindex','title',\n        'type','usemap','valign','value','width','xmlns',\n\n        // SVG\n        'accent-height','accumulate','additivive','alignment-baseline',\n        'ascent','attributename','attributetype','azimuth','basefrequency',\n        'baseline-shift','begin','bias','by','clip','clip-path','clip-rule',\n        'color','color-interpolation','color-interpolation-filters','color-profile',\n        'color-rendering','cx','cy','d','dx','dy','diffuseconstant','direction',\n        'display','divisor','dur','edgemode','elevation','end','fill','fill-opacity',\n        'fill-rule','filter','flood-color','flood-opacity','font-family','font-size',\n        'font-size-adjust','font-stretch','font-style','font-variant','font-weight',\n        'fx', 'fy','g1','g2','glyph-name','glyphref','gradientunits','gradienttransform',\n        'image-rendering','in','in2','k','k1','k2','k3','k4','kerning','keypoints',\n        'keysplines','keytimes','lengthadjust','letter-spacing','kernelmatrix',\n        'kernelunitlength','lighting-color','local','marker-end','marker-mid',\n        'marker-start','markerheight','markerunits','markerwidth','maskcontentunits',\n        'maskunits','max','mask','mode','min','numoctaves','offset','operator',\n        'opacity','order','orient','orientation','origin','overflow','paint-order',\n        'path','pathlength','patterncontentunits','patterntransform','patternunits',\n        'points','preservealpha','r','rx','ry','radius','refx','refy','repeatcount',\n        'repeatdur','restart','result','rotate','scale','seed','shape-rendering',\n        'specularconstant','specularexponent','spreadmethod','stddeviation','stitchtiles',\n        'stop-color','stop-opacity','stroke-dasharray','stroke-dashoffset','stroke-linecap',\n        'stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke','stroke-width',\n        'surfacescale','targetx','targety','transform','text-anchor','text-decoration',\n        'text-rendering','textlength','u1','u2','unicode','values','viewbox',\n        'visibility','vert-adv-y','vert-origin-x','vert-origin-y','word-spacing',\n        'wrap','writing-mode','xchannelselector','ychannelselector','x','x1','x2',\n        'y','y1','y2','z','zoomandpan',\n\n        // MathML\n        'accent','accentunder','bevelled','close','columnsalign','columnlines',\n        'columnspan','denomalign','depth','display','displaystyle','fence',\n        'frame','largeop','length','linethickness','lspace','lquote',\n        'mathbackground','mathcolor','mathsize','mathvariant','maxsize',\n        'minsize','movablelimits','notation','numalign','open','rowalign',\n        'rowlines','rowspacing','rowspan','rspace','rquote','scriptlevel',\n        'scriptminsize','scriptsizemultiplier','selection','separator',\n        'separators','stretchy','subscriptshift','supscriptshift','symmetric',\n        'voffset',\n\n        // XML\n        'xlink:href','xml:id','xlink:title','xml:space','xmlns:xlink'\n    ]);\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    var ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Output should be safe for jQuery's $() factory? */\n    var SAFE_FOR_JQUERY = false;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Specify template detection regex for SAFE_FOR_TEMPLATES mode */\n    var MUSTACHE_EXPR = /\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm;\n    var ERB_EXPR = /<%[\\s\\S]*|[\\s\\S]*%>/gm;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    var FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html string.\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html string */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n     * `Node` is imported into the current `Document`. If this flag is not enabled the\n     * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n     * DOMPurify. */\n    var RETURN_DOM_IMPORT = false;\n\n    /* Output should be free from DOM clobbering attacks? */\n    var SANITIZE_DOM = true;\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = _addToSet({}, [\n        'audio', 'head', 'math', 'script', 'style', 'template', 'svg', 'video'\n    ]);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = _addToSet({}, [\n        'audio', 'video', 'img', 'source', 'image'\n    ]);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = _addToSet({}, [\n        'alt','class','for','id','label','name','pattern','placeholder',\n        'summary','title','value','style','xmlns'\n    ]);\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    /**\n     * _parseConfig\n     *\n     * @param  optional config literal\n     */\n    var _parseConfig = function(cfg) {\n        /* Shield configuration object from tampering */\n        if (typeof cfg !== 'object') {\n            cfg = {};\n        }\n\n        /* Set configuration parameters */\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ?\n            _addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ?\n            _addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ?\n            _addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ?\n            _addToSet({}, cfg.FORBID_ATTR) : {};\n        ALLOW_ARIA_ATTR     = cfg.ALLOW_ARIA_ATTR     !== false; // Default true\n        ALLOW_DATA_ATTR     = cfg.ALLOW_DATA_ATTR     !== false; // Default true\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n        SAFE_FOR_JQUERY     = cfg.SAFE_FOR_JQUERY     ||  false; // Default false\n        SAFE_FOR_TEMPLATES  = cfg.SAFE_FOR_TEMPLATES  ||  false; // Default false\n        WHOLE_DOCUMENT      = cfg.WHOLE_DOCUMENT      ||  false; // Default false\n        RETURN_DOM          = cfg.RETURN_DOM          ||  false; // Default false\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT ||  false; // Default false\n        RETURN_DOM_IMPORT   = cfg.RETURN_DOM_IMPORT   ||  false; // Default false\n        FORCE_BODY          = cfg.FORCE_BODY          ||  false; // Default false\n        SANITIZE_DOM        = cfg.SANITIZE_DOM        !== false; // Default true\n        KEEP_CONTENT        = cfg.KEEP_CONTENT        !== false; // Default true\n\n        if (SAFE_FOR_TEMPLATES) {\n            ALLOW_DATA_ATTR = false;\n        }\n\n        if (RETURN_DOM_FRAGMENT) {\n            RETURN_DOM = true;\n        }\n\n        /* Merge configuration parameters */\n        if (cfg.ADD_TAGS) {\n            if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n                ALLOWED_TAGS = _cloneObj(ALLOWED_TAGS);\n            }\n            _addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n            if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n                ALLOWED_ATTR = _cloneObj(ALLOWED_ATTR);\n            }\n            _addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n            _addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n\n        /* Add #text in case KEEP_CONTENT is set to true */\n        if (KEEP_CONTENT) { ALLOWED_TAGS['#text'] = true; }\n\n        // Prevent further manipulation of configuration.\n        // Not available in IE8, Safari 5, etc.\n        if (Object && 'freeze' in Object) { Object.freeze(cfg); }\n\n        CONFIG = cfg;\n    };\n\n   /**\n     * _forceRemove\n     *\n     * @param  a DOM node\n     */\n    var _forceRemove = function(node) {\n        DOMPurify.removed.push({element: node});\n        try {\n            node.parentNode.removeChild(node);\n        } catch (e) {\n            node.outerHTML = '';\n        }\n    };\n\n   /**\n     * _removeAttribute\n     *\n     * @param  an Attribute name\n     * @param  a DOM node\n     */\n    var _removeAttribute = function(name, node) {\n        DOMPurify.removed.push({\n            attribute: node.getAttributeNode(name),\n            from: node\n        });\n        node.removeAttribute(name);\n    };\n\n   /**\n     * _initDocument\n     *\n     * @param  a string of dirty markup\n     * @return a DOM, filled with the dirty markup\n     */\n    var _initDocument = function(dirty) {\n        /* Create a HTML document */\n        var doc, body;\n\n        /* Fill body with bogus element */\n        if (FORCE_BODY) {\n            dirty = '<remove></remove>' + dirty;\n        }\n\n        /* Use DOMParser to workaround Firefox bug (see comment below) */\n        if (useDOMParser) {\n            try {\n                doc = new DOMParser().parseFromString(dirty, 'text/html');\n            } catch (e) {}\n        }\n\n        /* Otherwise use createHTMLDocument, because DOMParser is unsafe in\n           Safari (see comment below) */\n        if (!doc || !doc.documentElement) {\n            doc = implementation.createHTMLDocument('');\n            body = doc.body;\n            body.parentNode.removeChild(body.parentNode.firstElementChild);\n            body.outerHTML = dirty;\n        }\n\n        /* Work on whole document or just its body */\n        return getElementsByTagName.call(doc,\n            WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    };\n\n    // Safari 10.1+ (unfixed as of time of writing) has a catastrophic bug in\n    // its implementation of DOMParser such that the following executes the\n    // JavaScript:\n    //\n    // new DOMParser()\n    //   .parseFromString('<svg onload=alert(document.domain)>', 'text/html');\n    //\n    // However, Firefox uses a different parser for innerHTML rather than\n    // DOMParser (see https://bugzilla.mozilla.org/show_bug.cgi?id=1205631)\n    // which means that you *must* use DOMParser, otherwise the output may\n    // not be safe if used in a document.write context later.\n    //\n    // So we feature detect the Firefox bug and use the DOMParser if necessary.\n    if (DOMPurify.isSupported) {\n        (function () {\n            var doc = _initDocument('<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">');\n            if (doc.querySelector('svg img')) {\n                useDOMParser = true;\n            }\n        }());\n    }\n\n    /**\n     * _createIterator\n     *\n     * @param  document/fragment to create iterator for\n     * @return iterator instance\n     */\n    var _createIterator = function(root) {\n        return createNodeIterator.call(root.ownerDocument || root,\n            root,\n            NodeFilter.SHOW_ELEMENT\n            | NodeFilter.SHOW_COMMENT\n            | NodeFilter.SHOW_TEXT,\n            function() { return NodeFilter.FILTER_ACCEPT; },\n            false\n        );\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  element to check for clobbering attacks\n     * @return true if clobbered, false if safe\n     */\n    var _isClobbered = function(elm) {\n        if (elm instanceof Text || elm instanceof Comment) {\n            return false;\n        }\n        if (  typeof elm.nodeName !== 'string'\n           || typeof elm.textContent !== 'string'\n           || typeof elm.removeChild !== 'function'\n           || !(elm.attributes instanceof NamedNodeMap)\n           || typeof elm.removeAttribute !== 'function'\n           || typeof elm.setAttribute !== 'function'\n        ) {\n            return true;\n        }\n        return false;\n    };\n\n    /**\n     * _isNode\n     *\n     * @param object to check whether it's a DOM node\n     * @return true is object is a DOM node\n     */\n    var _isNode = function(obj) {\n        return (\n            typeof Node === \"object\" ? obj instanceof Node : obj\n                && typeof obj === \"object\" && typeof obj.nodeType === \"number\"\n                && typeof obj.nodeName===\"string\"\n        );\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   node to check for permission to exist\n     * @return  true if node was killed, false if left alive\n     */\n    var _sanitizeElements = function(currentNode) {\n        var tagName, content;\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeElements', currentNode, null);\n\n        /* Check if element is clobbered or can clobber */\n        if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Now let's check the element's type and name */\n        tagName = currentNode.nodeName.toLowerCase();\n\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeElement', currentNode, {\n            tagName: tagName,\n            allowedTags: ALLOWED_TAGS\n        });\n\n        /* Remove element if anything forbids its presence */\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            /* Keep content except for black-listed elements */\n            if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]\n                    && typeof currentNode.insertAdjacentHTML === 'function') {\n                try {\n                    currentNode.insertAdjacentHTML('AfterEnd', currentNode.innerHTML);\n                } catch (e) {}\n            }\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Convert markup to cover jQuery behavior */\n        if (SAFE_FOR_JQUERY && !currentNode.firstElementChild &&\n                (!currentNode.content || !currentNode.content.firstElementChild) &&\n                /</g.test(currentNode.textContent)) {\n            DOMPurify.removed.push({element: currentNode.cloneNode()});\n            currentNode.innerHTML = currentNode.textContent.replace(/</g, '&lt;');\n        }\n\n        /* Sanitize element content to be template-safe */\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n            /* Get the element's text content */\n            content = currentNode.textContent;\n            content = content.replace(MUSTACHE_EXPR, ' ');\n            content = content.replace(ERB_EXPR, ' ');\n            if (currentNode.textContent !== content) {\n                DOMPurify.removed.push({element: currentNode.cloneNode()});\n                currentNode.textContent = content;\n            }\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeElements', currentNode, null);\n\n        return false;\n    };\n\n    var DATA_ATTR = /^data-[\\-\\w.\\u00B7-\\uFFFF]/;\n    var ARIA_ATTR = /^aria-[\\-\\w]+$/;\n    var IS_ALLOWED_URI = /^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i;\n    var IS_SCRIPT_OR_DATA = /^(?:\\w+script|data):/i;\n    /* This needs to be extensive thanks to Webkit/Blink's behavior */\n    var ATTR_WHITESPACE = /[\\x00-\\x20\\xA0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g;\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param   node to sanitize\n     * @return  void\n     */\n    var _sanitizeAttributes = function(currentNode) {\n        var attr, name, value, lcName, idAttr, attributes, hookEvent, l;\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n        attributes = currentNode.attributes;\n\n        /* Check if we have attributes; if not we might have a text node */\n        if (!attributes) { return; }\n\n        hookEvent = {\n            attrName: '',\n            attrValue: '',\n            keepAttr: true,\n            allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n\n        /* Go backwards over all attributes; safely remove bad ones */\n        while (l--) {\n            attr = attributes[l];\n            name = attr.name;\n            value = attr.value.trim();\n            lcName = name.toLowerCase();\n\n            /* Execute a hook if present */\n            hookEvent.attrName = lcName;\n            hookEvent.attrValue = value;\n            hookEvent.keepAttr = true;\n            _executeHook('uponSanitizeAttribute', currentNode, hookEvent );\n            value = hookEvent.attrValue;\n\n            /* Remove attribute */\n            // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n            // remove a \"name\" attribute from an <img> tag that has an \"id\"\n            // attribute at the time.\n            if (lcName === 'name'  &&\n                    currentNode.nodeName === 'IMG' && attributes.id) {\n                idAttr = attributes.id;\n                attributes = Array.prototype.slice.apply(attributes);\n                _removeAttribute('id', currentNode);\n                _removeAttribute(name, currentNode);\n                if (attributes.indexOf(idAttr) > l) {\n                    currentNode.setAttribute('id', idAttr.value);\n                }\n            } else if (\n                  // This works around a bug in Safari, where input[type=file]\n                  // cannot be dynamically set after type has been removed\n                  currentNode.nodeName === 'INPUT' && lcName === 'type' &&\n                  value === 'file' && (ALLOWED_ATTR[lcName] || !FORBID_ATTR[lcName])) {\n                  continue;\n            } else {\n                // This avoids a crash in Safari v9.0 with double-ids.\n                // The trick is to first set the id to be empty and then to\n                // remove the attribute\n                if (name === 'id') {\n                    currentNode.setAttribute(name, '');\n                }\n                _removeAttribute(name, currentNode);\n            }\n\n            /* Did the hooks approve of the attribute? */\n            if (!hookEvent.keepAttr) {\n                continue;\n            }\n\n            /* Make sure attribute cannot clobber */\n            if (SANITIZE_DOM &&\n                    (lcName === 'id' || lcName === 'name') &&\n                    (value in window || value in document || value in formElement)) {\n                continue;\n            }\n\n            /* Sanitize attribute content to be template-safe */\n            if (SAFE_FOR_TEMPLATES) {\n                value = value.replace(MUSTACHE_EXPR, ' ');\n                value = value.replace(ERB_EXPR, ' ');\n            }\n\n            /* Allow valid data-* attributes: At least one character after \"-\"\n               (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n               XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n               We don't need to check the value; it's always URI safe. */\n            if (ALLOW_DATA_ATTR && DATA_ATTR.test(lcName)) {\n                // This attribute is safe\n            }\n            else if (ALLOW_ARIA_ATTR && ARIA_ATTR.test(lcName)) {\n                // This attribute is safe\n            }\n            /* Otherwise, check the name is permitted */\n            else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n                continue;\n            }\n            /* Check value is safe. First, is attr inert? If so, is safe */\n            else if (URI_SAFE_ATTRIBUTES[lcName]) {\n                // This attribute is safe\n            }\n            /* Check no script, data or unknown possibly unsafe URI\n               unless we know URI values are safe for that attribute */\n            else if (IS_ALLOWED_URI.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Keep image data URIs alive if src/xlink:href is allowed */\n            else if (\n                (lcName === 'src' || lcName === 'xlink:href') &&\n                value.indexOf('data:') === 0 &&\n                DATA_URI_TAGS[currentNode.nodeName.toLowerCase()]) {\n                // This attribute is safe\n            }\n            /* Allow unknown protocols: This provides support for links that\n               are handled by protocol handlers which may be unknown ahead of\n               time, e.g. fb:, spotify: */\n            else if (\n                ALLOW_UNKNOWN_PROTOCOLS &&\n                !IS_SCRIPT_OR_DATA.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Check for binary attributes */\n            else if (!value) {\n                // binary attributes are safe at this point\n            }\n            /* Anything else, presume unsafe, do not add it back */\n            else {\n                continue;\n            }\n\n            /* Handle invalid data-* attribute set by try-catching it */\n            try {\n                currentNode.setAttribute(name, value);\n                DOMPurify.removed.pop();\n            } catch (e) {}\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  fragment to iterate over recursively\n     * @return void\n     */\n    var _sanitizeShadowDOM = function(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n        while ( (shadowNode = shadowIterator.nextNode()) ) {\n            /* Execute a hook if present */\n            _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(shadowNode)) {\n                continue;\n            }\n\n            /* Deep shadow DOM detected */\n            if (shadowNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(shadowNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(shadowNode);\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode\n     */\n    var _executeHook = function(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) { return; }\n\n        hooks[entryPoint].forEach(function(hook) {\n            hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n    };\n\n    /**\n     * sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    DOMPurify.sanitize = function(dirty, cfg) {\n        var body, importedNode, currentNode, oldNode, nodeIterator, returnNode;\n        /* Make sure we have a string to sanitize.\n           DO NOT return early, as this will return the wrong type if\n           the user has requested a DOM object rather than a string */\n        if (!dirty) {\n            dirty = '<!-->';\n        }\n\n        /* Stringify, in case dirty is an object */\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n            if (typeof dirty.toString !== 'function') {\n                throw new TypeError('toString is not a function');\n            } else {\n                dirty = dirty.toString();\n            }\n        }\n\n        /* Check we can run. Otherwise fall back or ignore */\n        if (!DOMPurify.isSupported) {\n            if (typeof window.toStaticHTML === 'object'\n                || typeof window.toStaticHTML === 'function') {\n                if (typeof dirty === 'string') {\n                    return window.toStaticHTML(dirty);\n                } else if (_isNode(dirty)) {\n                    return window.toStaticHTML(dirty.outerHTML);\n                }\n            }\n            return dirty;\n        }\n\n        /* Assign config vars */\n        _parseConfig(cfg);\n\n        /* Clean up removed elements */\n        DOMPurify.removed = [];\n\n        if (dirty instanceof Node) {\n            /* If dirty is a DOM element, append to an empty document to avoid\n               elements being stripped by the parser */\n            body = _initDocument('<!-->');\n            importedNode = body.ownerDocument.importNode(dirty, true);\n            if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n                /* Node is already a body, use as is */\n                body = importedNode;\n            } else {\n                body.appendChild(importedNode);\n            }\n        } else {\n            /* Exit directly if we have nothing to do */\n            if (!RETURN_DOM && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n                return dirty;\n            }\n\n            /* Initialize the document to work on */\n            body = _initDocument(dirty);\n\n            /* Check we have a DOM node from the data */\n            if (!body) {\n                return RETURN_DOM ? null : '';\n            }\n        }\n\n        /* Remove first element node (ours) if FORCE_BODY is set */\n        if (FORCE_BODY) {\n            _forceRemove(body.firstChild);\n        }\n\n        /* Get node iterator */\n        nodeIterator = _createIterator(body);\n\n        /* Now start iterating over the created document */\n        while ( (currentNode = nodeIterator.nextNode()) ) {\n\n            /* Fix IE's strange behavior with manipulated textNodes #89 */\n            if (currentNode.nodeType === 3 && currentNode === oldNode) {\n                continue;\n            }\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(currentNode)) {\n                continue;\n            }\n\n            /* Shadow DOM detected, sanitize it */\n            if (currentNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(currentNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(currentNode);\n\n            oldNode = currentNode;\n        }\n\n        /* Return sanitized string or DOM */\n        if (RETURN_DOM) {\n\n            if (RETURN_DOM_FRAGMENT) {\n                returnNode = createDocumentFragment.call(body.ownerDocument);\n\n                while (body.firstChild) {\n                    returnNode.appendChild(body.firstChild);\n                }\n            } else {\n                returnNode = body;\n            }\n\n            if (RETURN_DOM_IMPORT) {\n                /* adoptNode() is not used because internal state is not reset\n                   (e.g. the past names map of a HTMLFormElement), this is safe\n                   in theory but we would rather not risk another attack vector.\n                   The state that is cloned by importNode() is explicitly defined\n                   by the specs. */\n                returnNode = importNode.call(originalDocument, returnNode, true);\n            }\n\n            return returnNode;\n        }\n\n        return WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    };\n\n    /**\n     * addHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint\n     * @param {Function} hookFunction\n     */\n    DOMPurify.addHook = function(entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') { return; }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        hooks[entryPoint].push(hookFunction);\n    };\n\n    /**\n     * removeHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHook = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint].pop();\n        }\n    };\n\n    /**\n     * removeHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHooks = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint] = [];\n        }\n    };\n\n    /**\n     * removeAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     * @return void\n     */\n    DOMPurify.removeAllHooks = function() {\n        hooks = {};\n    };\n\n    return DOMPurify;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dompurify/src/purify.js\n// module id = 1032\n// module chunks = 1 3 10 11 14 15 16 17 18 19 21 24 25 28 29 31 32 38 39 41","import Label from './Label'\r\n\r\nexport default Label\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Label/index.js","import PropTypes from 'prop-types'\r\nimport DOMPurify from 'dompurify'\r\nimport ReactDOM from 'react-dom'\r\nimport React from 'react'\r\nimport './Label.scss'\r\n\r\nexport default class Label extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    textAlign: PropTypes.string,\r\n    className: PropTypes.string,\r\n    text: PropTypes.string\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    textAlign: 'left',\r\n    className: '',\r\n    text: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (props) {\r\n\r\n    super (props)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    const classNames = [\r\n      'label-container',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    const style = {\r\n      width: this.props.textAlign === 'center'\r\n        ? '100%' : '',\r\n      textAlign: this.props.textAlign\r\n    }\r\n\r\n    return(\r\n      <div className={classNames.join(' ')}\r\n        style={style}>\r\n        <p>\r\n          { DOMPurify.sanitize(this.props.text) }\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Label/Label.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Label/Label.scss\n// module id = 1037\n// module chunks = 1 10 11 14 15 16 17 18 19 24 25 28 29 31 32 38 39 41","import autobind from 'autobind-decorator'\r\nimport PropTypes from 'prop-types'\r\nimport React from 'react'\r\n\r\nexport default class Switch extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    checked: PropTypes.bool\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    checked: true,\r\n    className: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor () {\r\n\r\n    super ()\r\n\r\n    this.state = {\r\n      checked: true\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  componentWillMount () {\r\n\r\n    this.setState({\r\n      checked: this.props.checked\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  @autobind\r\n  toggle () {\r\n\r\n    if (this.props.disabled) {\r\n      return\r\n    }\r\n\r\n    const checked = !this.state.checked\r\n\r\n    this.setState({\r\n      checked\r\n    })\r\n\r\n    if (this.props.onChange) {\r\n\r\n      this.props.onChange (checked)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    const classNames = [\r\n      'switch-container',\r\n      this.props.disabled ? 'disabled' : '',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    return(\r\n      <div className={classNames.join(' ')}\r\n        onClick={this.toggle}>\r\n        <input ref=\"switch\" className=\"switch\"\r\n          checked={this.state.checked}\r\n          value={this.state.checked}\r\n          onChange={()=> {}}\r\n          type=\"checkbox\"\r\n        />\r\n        <div>\r\n          <span>\r\n            <g className=\"icon icon-toolbar grid-view\"/>\r\n          </span>\r\n          <span>\r\n            <g className=\"icon icon-toolbar ticket-view\"/>\r\n          </span>\r\n          <div/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Switch/Switch.js","import Switch from './Switch'\r\nimport './Switch.scss'\r\n\r\nexport default Switch\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Switch/index.js","import TreeDelegate from './TreeDelegate'\r\nimport TreeNode from './TreeNode'\r\nimport TreeView from './TreeView'\r\n\r\nmodule.exports = {\r\n    TreeDelegate,\r\n    TreeNode,\r\n    TreeView\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/UIComponents/TreeView/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Switch/Switch.scss\n// module id = 1050\n// module chunks = 11 13 14 15 19 21 24 28 31 32 36 38","import EventsEmitter from 'EventsEmitter'\r\n\r\n/////////////////////////////////////////////////////////////////////\r\n//\r\n//\r\n/////////////////////////////////////////////////////////////////////\r\nexport default class TreeDelegate extends\r\n  EventsEmitter.Composer (Autodesk.Viewing.UI.TreeDelegate) {\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  constructor (container, contextMenu) {\r\n\r\n    super()\r\n\r\n    this.contextMenu = contextMenu\r\n\r\n    this.container = container\r\n\r\n    this.clickTimeout = 0\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  getTreeNodeId (node) {\r\n\r\n    return node.id\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  isTreeNodeGroup (node) {\r\n\r\n    return node.group\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  onTreeNodeIconClick (tree, node, event) {\r\n\r\n    clearTimeout(this.clickTimeout)\r\n\r\n    this.clickTimeout = setTimeout(() => {\r\n\r\n      this.emit('node.iconClick', node)\r\n\r\n      !tree.isCollapsed(node)\r\n        ? node.collapse()\r\n        : node.expand()\r\n\r\n    }, 200)\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  nodeClickSelector (event) {\r\n\r\n    const selector = ['HEADER', 'LABEL']\r\n\r\n    return (selector.indexOf(event.target.nodeName) > -1)\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  onTreeNodeClick (tree, node, event) {\r\n\r\n    if (this.nodeClickSelector(event)) {\r\n\r\n      clearTimeout(this.clickTimeout)\r\n\r\n      this.clickTimeout = setTimeout(() => {\r\n\r\n        this.emit('node.click', node)\r\n\r\n        !tree.isCollapsed(node)\r\n          ? node.collapse()\r\n          : node.expand()\r\n\r\n      }, 200)\r\n    }\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  onTreeNodeDoubleClick (tree, node, event) {\r\n\r\n    if (this.nodeClickSelector(event)) {\r\n\r\n      clearTimeout(this.clickTimeout)\r\n\r\n      this.emit('node.dblClick', node)\r\n    }\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  onTreeNodeRightClick (tree, node, event) {\r\n\r\n    event.stopPropagation()\r\n    event.preventDefault()\r\n\r\n    if (this.nodeClickSelector(event)) {\r\n\r\n      this.contextMenu.show(event, node)\r\n    }\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  getTreeNodeLabel (node) {\r\n\r\n    return node.name\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/UIComponents/TreeView/TreeDelegate.js","import EventsEmitter from 'EventsEmitter'\r\n\r\n/////////////////////////////////////////////////////////////////////\r\n//\r\n//\r\n/////////////////////////////////////////////////////////////////////\r\nexport default class TreeNode extends EventsEmitter {\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  constructor (properties) {\r\n\r\n    super()\r\n\r\n    Object.assign(this, properties)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  destroy () {\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/UIComponents/TreeView/TreeNode.js","import EventsEmitter from 'EventsEmitter'\r\n\r\n/////////////////////////////////////////////////////////////////////\r\n//\r\n//\r\n/////////////////////////////////////////////////////////////////////\r\nexport default class TreeView extends\r\n  EventsEmitter.Composer (Autodesk.Viewing.UI.Tree) {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  setInputHandlers_ () {\r\n\r\n    var tree = this\r\n    var rootElem = this.myRootContainer\r\n\r\n    var NODE_NOT_FOUND = null\r\n\r\n    var getNodeFromElement = function(eventTarget) {\r\n\r\n      var ret = null\r\n      var found = false\r\n\r\n      do {\r\n        if (!eventTarget || eventTarget === rootElem) {\r\n          ret = null\r\n          found = true  // not found\r\n        } else if (eventTarget.hasAttribute(\"lmv-nodeId\")) {\r\n          ret = eventTarget\r\n          found = true\r\n        } else {\r\n          eventTarget = eventTarget.parentElement\r\n        }\r\n      } while(!found)\r\n\r\n      if (ret) {\r\n        var nodeId = ret.getAttribute(\"lmv-nodeId\");\r\n        return tree.nodeIdToNode[nodeId] || NODE_NOT_FOUND;\r\n      }\r\n      return NODE_NOT_FOUND\r\n    }\r\n\r\n    if (av.isTouchDevice()) {\r\n\r\n      this.hammer = new Hammer.Manager(rootElem, {\r\n        recognizers: [\r\n          [\r\n            Hammer.Tap, {\r\n            event: 'doubletap',\r\n            taps: 2,\r\n            interval: 400,\r\n            threshold: 6,\r\n            posThreshold: 30\r\n          }],\r\n          [\r\n            Hammer.Press, {\r\n            event: 'press',\r\n            time: 500\r\n          }]\r\n        ],\r\n        inputClass: Hammer.TouchInput\r\n      })\r\n\r\n      this.hammer.on(\"doubletap\", function (event) {\r\n\r\n        var node = getNodeFromElement(event.target)\r\n        if (node === NODE_NOT_FOUND)\r\n          return\r\n        tree.myDelegate.onTreeNodeDoubleClick(\r\n          tree, node, event)\r\n      })\r\n\r\n      this.hammer.on('press', function (event) {\r\n\r\n        var node = getNodeFromElement(event.target)\r\n        if (node === NODE_NOT_FOUND)\r\n          return\r\n        tree.myDelegate.onTreeNodeRightClick(\r\n          tree, node, event)\r\n      })\r\n    }\r\n\r\n    rootElem.addEventListener('click', function (event) {\r\n\r\n      var node = getNodeFromElement(event.target)\r\n\r\n      if (node === NODE_NOT_FOUND)\r\n        return\r\n\r\n      tree.myDelegate.onTreeNodeClick(\r\n        tree, node, event)\r\n\r\n      if(!event.target.classList.contains('propertyLink')) {\r\n        event.preventDefault()\r\n      }\r\n    }, false)\r\n\r\n    rootElem.addEventListener('dblclick', function (event) {\r\n\r\n      var node = getNodeFromElement(event.target);\r\n\r\n      if (node === NODE_NOT_FOUND)\r\n        return\r\n\r\n      tree.myDelegate.onTreeNodeDoubleClick(\r\n        tree, node, event)\r\n\r\n      event.stopPropagation()\r\n      event.preventDefault()\r\n\r\n    }, false)\r\n\r\n    rootElem.addEventListener('contextmenu', function (event) {\r\n\r\n      var node = getNodeFromElement(event.target)\r\n\r\n      if (node === NODE_NOT_FOUND)\r\n        return\r\n\r\n      tree.myDelegate.onTreeNodeRightClick(\r\n        tree, node, event)\r\n\r\n      event.stopPropagation()\r\n      event.preventDefault()\r\n\r\n    }, false)\r\n\r\n    rootElem.addEventListener('mouseover', function (event) {\r\n\r\n      var node = getNodeFromElement(event.target)\r\n\r\n      if (node === NODE_NOT_FOUND)\r\n        return\r\n\r\n      tree.myDelegate.onTreeNodeHover(\r\n        tree, node, event)\r\n\r\n      event.stopPropagation()\r\n      event.preventDefault()\r\n\r\n    }, false)\r\n\r\n    rootElem.addEventListener('mouseout', function (event) {\r\n      // When the mouse leaves the element,\r\n      // set node to -1 (background), no highlight,\r\n      var node = -1\r\n\r\n      tree.myDelegate.onTreeNodeHover(\r\n        tree, node, event)\r\n\r\n      event.stopPropagation()\r\n      event.preventDefault()\r\n\r\n    }, false)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getNodeById (nodeId) {\r\n\r\n    return this.nodeIdToNode[nodeId]\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  destroyNode (nodeId) {\r\n\r\n    if (this.nodeIdToNode[nodeId]) {\r\n\r\n      delete this.nodeIdToNode[nodeId]\r\n\r\n      this.nodeIdToNode[nodeId] = null\r\n    }\r\n\r\n    if (this.nodeToElement[nodeId]) {\r\n\r\n      this.nodeToElement[nodeId].remove()\r\n\r\n      delete this.nodeToElement[nodeId]\r\n\r\n      this.nodeToElement[nodeId] = null\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  destroy () {\r\n\r\n    this.clear ()\r\n\r\n    this.myRootContainer.remove()\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/UIComponents/TreeView/TreeView.js","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".selection-tree .treeview lmvheader {\\n  transition-property: background, border;\\n  transition-timing-function: ease;\\n  transition-duration: 1.5s;\\n  transition-delay: 0.0s;\\n  background: rgba(245, 245, 245, 0.5);\\n  margin-bottom: 2px;\\n  border: none;\\n  height: 30px;\\n  float: left; }\\n\\n.selection-tree .treeview lmvheader:hover {\\n  background: rgba(0, 105, 245, 0.35); }\\n\\n.selection-tree .treeview group > lmvheader > icon {\\n  height: 20px;\\n  float: left; }\\n\\n.selection-tree .treenode-container {\\n  overflow: hidden; }\\n\\n.selection-tree .treenode .label-container {\\n  pointer-events: none; }\\n\\n.selection-tree .treenode {\\n  pointer-events: none;\\n  float: left; }\\n\\n.selection-tree .treeview lmvheader.component icon {\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAD0klEQVQ4ETVUS2hjVRg+j/uYtE06UErVJDeZEDptA1XbWimmEsXNIF04kI6I6IwoghRxLQULyigiKMosfCymKjhDUTciFhXjAwqWLpNOJGXSNqGmXUxtpp2b+zp+/2174XDu/zjf+f7H+SXDVywW5ezsLC+VSqpQKGjd3d3a3t6eTzbLeiDf0xOLt9vtBsm5XM6wLEvs7OwECwsLor+/X1QqFRWC5HJFAz5iamoqQkB0YGhoKJ1KJT/AsrHuWVb8ajYbT5CNvgsXsiZ8zxxLjHNCxWLj4+NybW3NHRgY6I5EzOeDQM1LKRJBEKwzprgQcigI/C3P8696XvB1q9U6BAgHQx2sAolwCFTl83m+v7//lGnqnwshXlMq0Dnn1zTNeBlkF33fJ6bTuq4/I6V8IhqNNsfGxuqrq6vu5ct1xglleHg4dXjYnuecXcElHljcME3t01ptc4XsSilgcpVM3veIlMYc7LNQm7jwS9f155vNZkOQY7v932NQ4mYufT+4FYno752CIOTeZDIZ5mJ7+99Vx/HeVYptwJ/jgheFUNOEQXSZpknolIMc2KD9oG17fyHBH0aj2hfIW4t8BgcH47Z99AqYvQExhgvvSMm7NE0LqxsyAlUSdCT3hu+r1/HPAf5Ou+3+mkgknjt3znqh0zn6Bbq3EL7j+96rALwJN911Aw/+7ASI+8dUeavRaHxiGGceR3WuIYQR3PoVbr8O30FU8mMQf7TR2EFB+D7sQsrjPIeh6ToihRbLJPRarVbGNpdKpX5Uyv+GdJxrl+r1+k9wAxnG0AJC0wTOkPWEkYvUExDnIqwieqMH3W647mYJPnuA2cVeKhZzxsTEeAz/zDC0EAJtEe5haIyBH+cBwMJ44/G4WlpaCqLR82fpDGOBBntvpcLYzMxMm4AQOvkz9JUk+aRqnEICqLqYTqf/dhznB/Jl7IjCVciHMAxDlstlx7I6ZiqVeBoNe1FKjQWBG2KEjDzv6A8k8joSfh45+f727drNkZGRh6vV7V2E66EfvWq1upvJJCfK5c4SQv2WfMHqM9flfxIjygmt8NVvbPzzJA7Oo8zTSOYd6BdhunTMSqDc7CWw64X8O1rm7a2t5m/QBTQ9wke7vLxsrqys2ASYzWZjtm0/i556E4dS6BmoBYOMMPwtPN73u7p6FhHmXZoWpmm6eK+epHkCIIfGRywWi6yvr989ODhY6+vr+w7U7yGEh/DM0PXqIyG0uXp982fMKmd0dLQ7k8l0JicnqWphwrEzfjqHiGahkD6dMyyTsfLJ5P3heyJH8qPhRmdOZfr/H6pDy54J8vNgAAAAAElFTkSuQmCC\\\");\\n  position: relative;\\n  margin-right: 4px;\\n  top: 0px; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/SelectionTreeView.scss\n// module id = 1181\n// module chunks = 24 41","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../../node_modules/sass-loader/index.js!./SelectionTreeView.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../../node_modules/sass-loader/index.js!./SelectionTreeView.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../../node_modules/sass-loader/index.js!./SelectionTreeView.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/SelectionTreeView.scss\n// module id = 1336\n// module chunks = 24 41","import SelectionTreeView from './SelectionTreeView'\r\nimport './SelectionTreeView.scss'\r\n\r\nexport default SelectionTreeView\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/index.js","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".selection-window .title {\\n  display: -webkit-inline-box;\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  float: left; }\\n\\n.selection-window .title > label {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  white-space: nowrap;\\n  font-weight: normal;\\n  user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px;\\n  select: none;\\n  width: 144px;\\n  float: left; }\\n\\n.selection-window .content {\\n  overflow-y: scroll;\\n  overflow-x: hidden;\\n  height: 100%; }\\n  .selection-window .content .row {\\n    padding: 10px;\\n    width: 100%;\\n    margin: 0; }\\n    .selection-window .content .row .label-container {\\n      margin: 4px 0 0 20px; }\\n  .selection-window .content button.active {\\n    border: 2px solid #FF9800; }\\n  .selection-window .content button.active > span {\\n    color: #FF9800; }\\n  .selection-window .content button > span {\\n    position: relative;\\n    font-size: 16px;\\n    color: #9b9b9b; }\\n  .selection-window .content button:disabled > span {\\n    color: #d0d0d0; }\\n  .selection-window .content button:hover:not(:disabled) > span {\\n    color: #FF9800; }\\n  .selection-window .content button:disabled > span {\\n    color: #d0d0d0; }\\n  .selection-window .content .select-btn {\\n    background: whitesmoke;\\n    border-radius: 4px;\\n    outline: none;\\n    float: left; }\\n    .selection-window .content .select-btn span {\\n      margin-right: 6px;\\n      top: 1px; }\\n  .selection-window .content .switch-container {\\n    border: 1px solid #9c9c9c;\\n    border-radius: 12px;\\n    margin: 5px 0 0 6px;\\n    float: left; }\\n  .selection-window .content input[type=\\\"checkbox\\\"].switch + div {\\n    width: 34px;\\n    height: 16px; }\\n  .selection-window .content input[type=\\\"checkbox\\\"].switch:checked + div {\\n    width: 34px; }\\n  .selection-window .content input[type=\\\"checkbox\\\"].switch:checked + div > div {\\n    -webkit-transform: translate3d(18px, 0, 0);\\n            transform: translate3d(18px, 0, 0); }\\n  .selection-window .content input[type=\\\"checkbox\\\"].switch + div > div {\\n    height: 16px;\\n    width: 16px;\\n    margin: 0; }\\n  .selection-window .content .selection-tree-container {\\n    height: calc(100% - 55px); }\\n\\n.selection-window-controls {\\n  margin: auto 0 auto calc(100% - 152px);\\n  position: relative;\\n  float: left; }\\n\\n.selection-window-controls > button {\\n  border: 1px solid #c6c6c6;\\n  background-color: #e1e1e1;\\n  border-radius: 6px;\\n  position: relative;\\n  overflow: hidden;\\n  outline: none;\\n  height: 24px;\\n  width: 26px; }\\n\\n.selection-window-controls > button:hover {\\n  border: 1px solid #878787;\\n  background-color: #f5f5f5; }\\n\\n.selection-window-controls > button > label {\\n  position: relative;\\n  font-size: 20px;\\n  color: #f0fcff;\\n  top: -8px; }\\n\\n.selection-window-controls > button > span {\\n  pointer-events: none;\\n  color: #9b9b9b; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/Viewing.Extension.SelectionWindow.scss\n// module id = 1408\n// module chunks = 24","import SelectionTreeNode from './SelectionTreeNode'\r\nimport { TreeDelegate } from 'TreeView'\r\n\r\nexport default class SelectionTreeDelegate extends TreeDelegate {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor () {\r\n\r\n    super ()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  createRootNode (selection) {\r\n\r\n    this.selection = selection || {}\r\n\r\n    this.instanceTree = this.selection.model\r\n      ? selection.model.getData().instanceTree\r\n      : null\r\n\r\n    const childIds = this.selection.dbIds || []\r\n\r\n    const rootId = this.instanceTree\r\n      ? this.instanceTree.getRootId()\r\n      : 'root'\r\n\r\n    this.rootNode = new SelectionTreeNode({\r\n      name: `Your Selection [${childIds.length} Components]`,\r\n      instanceTree: this.instanceTree,\r\n      model: this.selection.model,\r\n      delegate: this,\r\n      parent: null,\r\n      type: 'root',\r\n      group: true,\r\n      id: rootId,\r\n      level: 0,\r\n      childIds\r\n    })\r\n\r\n    return this.rootNode\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  destroy () {\r\n\r\n    this.rootNode.destroy()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  createTreeNode (node, parentDomElement) {\r\n\r\n    const container = document.createElement('div')\r\n\r\n    parentDomElement.appendChild(container)\r\n\r\n    node.type.split('.').forEach((cls) => {\r\n\r\n      parentDomElement.classList.add(cls)\r\n    })\r\n\r\n    parentDomElement.style.width =\r\n      `calc(100% - ${node.level * 25 + 5}px)`\r\n\r\n    parentDomElement.classList.add(\r\n      'click-trigger')\r\n\r\n    node.parentDomElement = parentDomElement\r\n\r\n    node.mount(container)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  nodeClickSelector (event) {\r\n\r\n    const className = event.target.className\r\n\r\n    return (\r\n      className.toLowerCase().indexOf('click-trigger') > -1\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onTreeNodeClick (tree, node, event) {\r\n\r\n    if (this.nodeClickSelector(event)) {\r\n\r\n      clearTimeout(this.clickTimeout)\r\n\r\n      this.clickTimeout = setTimeout(() => {\r\n\r\n        this.emit('node.click', node)\r\n\r\n      }, 200)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  forEachChild (node, addChild) {\r\n\r\n    node.addChild = addChild\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/SelectionTreeDelegate.js","import EventsEmitter from 'EventsEmitter'\r\nimport PropTypes from 'prop-types'\r\nimport ReactDOM from 'react-dom'\r\nimport Label from 'Label'\r\nimport React from 'react'\r\n\r\n///////////////////////////////////////////////////////////////////////////////\r\n//\r\n//\r\n///////////////////////////////////////////////////////////////////////////////\r\nexport default class SelectionTreeNode extends EventsEmitter {\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  constructor (props) {\r\n\r\n    super ()\r\n\r\n    this.onExpand = this.onExpand.bind(this)\r\n\r\n    this.on('expand', this.onExpand)\r\n\r\n    this.instanceTree = props.instanceTree\r\n    this.delegate     = props.delegate\r\n    this.parent       = props.parent\r\n    this.level        = props.level\r\n    this.group        = props.group\r\n    this.model        = props.model\r\n    this.name         = props.name\r\n    this.type         = props.type\r\n    this.id           = props.id\r\n    this.props        = props\r\n\r\n    this.children     = []\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  onExpand () {\r\n\r\n    this.off('expand', this.onExpand)\r\n\r\n    this.loadChildren()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  mount (domContainer) {\r\n\r\n    domContainer.className =\r\n      'treenode-container click-trigger'\r\n\r\n    this.domContainer = domContainer\r\n\r\n    this.collapse()\r\n\r\n    this.reactNode = ReactDOM.render(\r\n      <ReactTreeNode\r\n        className={this.type}\r\n        name={this.name}\r\n      />,\r\n      this.domContainer)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  expand () {\r\n\r\n    const target =\r\n      this.domContainer.parentElement.parentElement\r\n\r\n    target.classList.remove('collapsed')\r\n    target.classList.add('expanded')\r\n\r\n    this.emit('expand')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  collapse () {\r\n\r\n    const target =\r\n      this.domContainer.parentElement.parentElement\r\n\r\n    target.classList.remove('expanded')\r\n    target.classList.add('collapsed')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  loadChildren () {\r\n\r\n    switch (this.type) {\r\n\r\n      case 'root':\r\n\r\n        this.children = this.props.childIds.map((id) => {\r\n\r\n          const childNode = new SelectionTreeNode({\r\n            name: this.instanceTree.getNodeName(id),\r\n            instanceTree: this.instanceTree,\r\n            delegate: this.delegate,\r\n            level: this.level + 1,\r\n            type: 'component',\r\n            model: this.model,\r\n            parent: this,\r\n            group: true,\r\n            id\r\n          })\r\n\r\n          this.addChild(childNode)\r\n\r\n          return childNode\r\n        })\r\n\r\n        break\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////\r\n  destroy () {\r\n\r\n    this.children.forEach((child) => {\r\n\r\n      child.destroy ()\r\n    })\r\n\r\n    ReactDOM.unmountComponentAtNode(\r\n      this.domContainer)\r\n\r\n    this.delegate.emit(\r\n      'node.destroy', this)\r\n  }\r\n}\r\n\r\n\r\nclass ReactTreeNode extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    className: PropTypes.string\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    className: ''\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  render() {\r\n\r\n    const classNames = [\r\n      'treenode',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    return (\r\n      <div className={classNames.join(' ')}>\r\n        <Label text={this.props.name}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/SelectionTreeNode.js","//////////////////////////////////////////////////////////////////////////\r\n// Copyright (c) Autodesk, Inc. All rights reserved\r\n// Written by Philippe Leefsma 2016 - ADN/Developer Technical Services\r\n//\r\n// Permission to use, copy, modify, and distribute this software in\r\n// object code form for any purpose and without fee is hereby granted,\r\n// provided that the above copyright notice appears in all copies and\r\n// that both that copyright notice and the limited warranty and\r\n// restricted rights notice below appear in all supporting\r\n// documentation.\r\n//\r\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\r\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\r\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\r\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\r\n// UNINTERRUPTED OR ERROR FREE.\r\n/////////////////////////////////////////////////////////////////////\r\nimport SelectionTreeDelegate from './SelectionTreeDelegate'\r\nimport { TreeView } from 'TreeView'\r\nimport ReactDOM from 'react-dom'\r\nimport './SelectionTreeView.scss'\r\nimport React from 'react'\r\n\r\nexport default class SelectionTreeView extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (props) {\r\n\r\n    super (props)\r\n\r\n    this.delegate = new SelectionTreeDelegate()\r\n\r\n    this.delegate.on('node.dblClick', (node) => {\r\n\r\n      if (props.onNodeDblClicked) {\r\n\r\n        props.onNodeDblClicked(node)\r\n      }\r\n    })\r\n\r\n    this.delegate.on('node.click', (node) => {\r\n\r\n      if (props.onNodeClicked) {\r\n\r\n        props.onNodeClicked(node)\r\n      }\r\n    })\r\n\r\n    this.delegate.on('node.destroy', (node) => {\r\n\r\n      this.tree.destroyNode(node.id)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  loadTree (selection) {\r\n\r\n    const rootNode =\r\n      this.delegate.createRootNode(\r\n        selection)\r\n\r\n    this.tree = new TreeView (\r\n      this.delegate, rootNode, this.treeContainer, {\r\n        excludeRoot: false\r\n      })\r\n\r\n    rootNode.expand()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  componentDidMount () {\r\n\r\n    this.loadTree(this.props.selection)\r\n\r\n    this.guid = this.props.selection\r\n      ? this.props.selection.guid\r\n      : null\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  componentWillReceiveProps (props) {\r\n\r\n    const newGuid = props.selection\r\n      ? props.selection.guid\r\n      : null\r\n\r\n    if (newGuid !== this.guid) {\r\n\r\n      this.delegate.destroy()\r\n\r\n      this.tree.destroy()\r\n\r\n      this.loadTree(\r\n        props.selection)\r\n\r\n      this.guid = newGuid\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  componentWillUnmount () {\r\n\r\n    this.delegate.destroy()\r\n\r\n    this.delegate.off()\r\n\r\n    this.tree.destroy()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render() {\r\n\r\n    return (\r\n      <div ref={(div) => this.treeContainer = div}\r\n        className=\"selection-tree\"\r\n      />\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/SelectionTreeView/SelectionTreeView.js","import './Viewing.Extension.SelectionWindow.scss'\r\nimport './Viewing.Extension.SelectionWindow'\r\n\r\nexport default 'Viewing.Extension.SelectionWindow'\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/index.js","\r\nlet norm = new THREE.Vector3()\r\nlet t1 = new THREE.Vector3()\r\nlet t2 = new THREE.Vector3()\r\nlet depth = 0\r\n\r\nfunction checkBoxSeparation(\r\n  phase,\r\n  minX, minY, minZ,\r\n  maxX, maxY, maxZ,\r\n  norm, v1, v2, v3) {\r\n\r\n  const minQ =\r\n    norm.x * (norm.x > 0 ? minX : maxX) +\r\n    norm.y * (norm.y > 0 ? minY : maxY) +\r\n    norm.z * (norm.z > 0 ? minZ : maxZ)\r\n\r\n  const maxQ =\r\n    norm.x * (norm.x > 0 ? maxX : minX) +\r\n    norm.y * (norm.y > 0 ? maxY : minY) +\r\n    norm.z * (norm.z > 0 ? maxZ : minZ)\r\n\r\n  const q1 = norm.x * v1.x + norm.y * v1.y + norm.z * v1.z\r\n  const q2 = norm.x * v2.x + norm.y * v2.y + norm.z * v2.z\r\n  const q3 = norm.x * v3.x + norm.y * v3.y + norm.z * v3.z\r\n\r\n  const vMinQ = Math.min(q1, q2, q3)\r\n  const vMaxQ = Math.max(q1, q2, q3)\r\n\r\n  if (phase === 0) {\r\n\r\n    // just check the collision\r\n    return (minQ > vMaxQ) || (maxQ < vMinQ)\r\n\r\n  } else {\r\n\r\n    // compute penetration depth\r\n    const sq = 1 / norm.length()\r\n\r\n    if (!isFinite(sq)) {\r\n\r\n      return\r\n    }\r\n\r\n    depth = Math.min(\r\n      depth,\r\n      (vMaxQ - minQ) * sq,\r\n      (maxQ - vMinQ) * sq)\r\n  }\r\n}\r\n\r\nfunction geometryIntersectsBox3_PassThree(\r\n  phase,\r\n  minX, minY, minZ,\r\n  maxX, maxY, maxZ,\r\n  axis, v1, v2, v3, t1) {\r\n\r\n  t1.subVectors(v1, v2)\r\n\r\n  switch (axis) {\r\n\r\n    case 0:\r\n      t1.set(0, -t1.z, t1.y)\r\n      break\r\n\r\n    case 1:\r\n      t1.set(-t1.z, 0, t1.x)\r\n      break\r\n\r\n    case 2:\r\n      t1.set(-t1.y, t1.x, 0)\r\n      break;\r\n  }\r\n\r\n  return checkBoxSeparation(\r\n    phase,\r\n    minX, minY, minZ,\r\n    maxX, maxY, maxZ,\r\n    t1, v1, v2, v3)\r\n}\r\n\r\nfunction geometryIntersectsBox3 (geometry, box) {\r\n\r\n  // Tomas Akenine-Möller. 2005.\r\n  // Fast 3D triangle-box overlap testing.\r\n  // http://fileadmin.cs.lth.se/cs/Personal/Tomas_Akenine-Moller/code/tribox_tam.pdf\r\n\r\n  const {faces, vertices} = geometry\r\n\r\n  const minX = box.min.x\r\n  const minY = box.min.y\r\n  const minZ = box.min.z\r\n\r\n  const maxX = box.max.x\r\n  const maxY = box.max.y\r\n  const maxZ = box.max.z\r\n\r\n  const results = []\r\n\r\n  for (var fI = 0; fI < faces.length; ++fI) {\r\n\r\n    const face = faces[fI]\r\n\r\n    const v1 = vertices[face.a]\r\n    const v2 = vertices[face.b]\r\n    const v3 = vertices[face.c]\r\n\r\n    const vMinX = Math.min(v1.x, v2.x, v3.x)\r\n    const vMinY = Math.min(v1.y, v2.y, v3.y)\r\n    const vMinZ = Math.min(v1.z, v2.z, v3.z)\r\n\r\n    const vMaxX = Math.max(v1.x, v2.x, v3.x)\r\n    const vMaxY = Math.max(v1.y, v2.y, v3.y)\r\n    const vMaxZ = Math.max(v1.z, v2.z, v3.z)\r\n\r\n    // bounding AABB cull\r\n    if (\r\n      vMinX > maxX ||\r\n      vMinY > maxY ||\r\n      vMinZ > maxZ ||\r\n      vMaxX < minX ||\r\n      vMaxY < minY ||\r\n      vMaxZ < minZ\r\n    ) {\r\n      // never be intersecting\r\n      continue\r\n    }\r\n\r\n    t1.subVectors(v2, v1)\r\n    t2.subVectors(v3, v1)\r\n\r\n    norm.crossVectors(t1, t2)\r\n\r\n    if (\r\n      checkBoxSeparation(0, minX, minY, minZ, maxX, maxY, maxZ, norm, v1, v2, v3) ||\r\n      geometryIntersectsBox3_PassThree(0, minX, minY, minZ, maxX, maxY, maxZ, 0, v1, v2, v3, t1) ||\r\n      geometryIntersectsBox3_PassThree(0, minX, minY, minZ, maxX, maxY, maxZ, 0, v1, v3, v2, t1) ||\r\n      geometryIntersectsBox3_PassThree(0, minX, minY, minZ, maxX, maxY, maxZ, 0, v2, v3, v1, t1) ||\r\n      geometryIntersectsBox3_PassThree(0, minX, minY, minZ, maxX, maxY, maxZ, 1, v1, v2, v3, t1) ||\r\n      geometryIntersectsBox3_PassThree(0, minX, minY, minZ, maxX, maxY, maxZ, 1, v1, v3, v2, t1) ||\r\n      geometryIntersectsBox3_PassThree(0, minX, minY, minZ, maxX, maxY, maxZ, 1, v2, v3, v1, t1) ||\r\n      geometryIntersectsBox3_PassThree(0, minX, minY, minZ, maxX, maxY, maxZ, 2, v1, v2, v3, t1) ||\r\n      geometryIntersectsBox3_PassThree(0, minX, minY, minZ, maxX, maxY, maxZ, 2, v1, v3, v2, t1) ||\r\n      geometryIntersectsBox3_PassThree(0, minX, minY, minZ, maxX, maxY, maxZ, 2, v2, v3, v1, t1)\r\n    ) {\r\n\r\n      // never be intersecting\r\n      continue\r\n    }\r\n\r\n    // compute depth\r\n    depth = Infinity\r\n\r\n    checkBoxSeparation(1, minX, minY, minZ, maxX, maxY, maxZ, norm, v1, v2, v3)\r\n\r\n    geometryIntersectsBox3_PassThree(1, minX, minY, minZ, maxX, maxY, maxZ, 0, v1, v2, v3, t1)\r\n    geometryIntersectsBox3_PassThree(1, minX, minY, minZ, maxX, maxY, maxZ, 0, v1, v3, v2, t1)\r\n    geometryIntersectsBox3_PassThree(1, minX, minY, minZ, maxX, maxY, maxZ, 0, v2, v3, v1, t1)\r\n    geometryIntersectsBox3_PassThree(1, minX, minY, minZ, maxX, maxY, maxZ, 1, v1, v2, v3, t1)\r\n    geometryIntersectsBox3_PassThree(1, minX, minY, minZ, maxX, maxY, maxZ, 1, v1, v3, v2, t1)\r\n    geometryIntersectsBox3_PassThree(1, minX, minY, minZ, maxX, maxY, maxZ, 1, v2, v3, v1, t1)\r\n    geometryIntersectsBox3_PassThree(1, minX, minY, minZ, maxX, maxY, maxZ, 2, v1, v2, v3, t1)\r\n    geometryIntersectsBox3_PassThree(1, minX, minY, minZ, maxX, maxY, maxZ, 2, v1, v3, v2, t1)\r\n    geometryIntersectsBox3_PassThree(1, minX, minY, minZ, maxX, maxY, maxZ, 2, v2, v3, v1, t1)\r\n\r\n    // triangle touches the box\r\n    results.push({\r\n      faceIndex: fI,\r\n      depth: depth\r\n    })\r\n  }\r\n\r\n  return results\r\n}\r\n\r\nexport default geometryIntersectsBox3\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/GeometryIntersectsBox3.js","///////////////////////////////////////////////////////////\r\n// SelectSet util for Selection Window in Forge Viewer\r\n// By Philippe Leefsma, September 2017\r\n//\r\n///////////////////////////////////////////////////////////\r\nimport geometryIntersectsBox3 from './GeometryIntersectsBox3'\r\nimport Toolkit from 'Viewer.Toolkit'\r\n\r\nexport default class SelectSet {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (viewer) {\r\n\r\n    this.viewer = viewer\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Set model: required to compute the bounding boxes\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async setModel (model) {\r\n\r\n    this.model = model\r\n\r\n    const instanceTree = model.getData().instanceTree\r\n\r\n    const rootId = instanceTree.getRootId()\r\n\r\n    const bbox =\r\n      await this.getComponentBoundingBox(\r\n        model, rootId)\r\n\r\n    this.boundingSphere = bbox.getBoundingSphere()\r\n\r\n    const leafIds = await Toolkit.getLeafNodes (model)\r\n\r\n    this.boundingBoxInfo = leafIds.map((dbId) => {\r\n\r\n      const bbox = this.getLeafComponentBoundingBox(\r\n        model, dbId)\r\n\r\n      return {\r\n        bbox,\r\n        dbId\r\n      }\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Returns bounding box as it appears in the viewer\r\n  // (transformations could be applied)\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getModifiedWorldBoundingBox (fragIds, fragList) {\r\n\r\n    const fragbBox = new THREE.Box3()\r\n    const nodebBox = new THREE.Box3()\r\n\r\n    fragIds.forEach(function(fragId) {\r\n\r\n      fragList.getWorldBounds(fragId, fragbBox)\r\n\r\n      nodebBox.union(fragbBox)\r\n    })\r\n\r\n    return nodebBox\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Returns bounding box for fragment list\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async getComponentBoundingBox (model, dbId) {\r\n\r\n    const fragIds = await Toolkit.getFragIds(\r\n      model, dbId)\r\n\r\n    const fragList = model.getFragmentList()\r\n\r\n    return this.getModifiedWorldBoundingBox(\r\n      fragIds, fragList)\r\n  }\r\n\r\n  getLeafComponentBoundingBox (model, dbId) {\r\n\r\n    const fragIds = Toolkit.getLeafFragIds(\r\n      model, dbId)\r\n\r\n    const fragList = model.getFragmentList()\r\n\r\n    return this.getModifiedWorldBoundingBox(\r\n      fragIds, fragList)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Creates Raycaster object from the mouse pointer\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  pointerToRay (pointer) {\r\n\r\n    const camera = this.viewer.navigation.getCamera()\r\n    const pointerVector = new THREE.Vector3()\r\n    const rayCaster = new THREE.Raycaster()\r\n    const pointerDir = new THREE.Vector3()\r\n    const domElement = this.viewer.canvas\r\n\r\n    const rect = domElement.getBoundingClientRect()\r\n\r\n    const x =  ((pointer.clientX - rect.left) / rect.width) * 2 - 1\r\n    const y = -((pointer.clientY - rect.top) / rect.height) * 2 + 1\r\n\r\n    if (camera.isPerspective) {\r\n\r\n      pointerVector.set(x, y, 0.5)\r\n\r\n      pointerVector.unproject(camera)\r\n\r\n      rayCaster.set(camera.position,\r\n        pointerVector.sub(\r\n          camera.position).normalize())\r\n\r\n    } else {\r\n\r\n      pointerVector.set(x, y, -15)\r\n\r\n      pointerVector.unproject(camera)\r\n\r\n      pointerDir.set(0, 0, -1)\r\n\r\n      rayCaster.set(pointerVector,\r\n        pointerDir.transformDirection(\r\n          camera.matrixWorld))\r\n    }\r\n\r\n    return rayCaster.ray\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Returns true if the box is contained inside the\r\n  // closed volume defined the the input planes\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  containsBox (planes, box) {\r\n\r\n    const {min, max} = box\r\n\r\n    const vertices = [\r\n      new THREE.Vector3(min.x, min.y, min.z),\r\n      new THREE.Vector3(min.x, min.y, max.z),\r\n      new THREE.Vector3(min.x, max.y, max.z),\r\n      new THREE.Vector3(max.x, max.y, max.z),\r\n      new THREE.Vector3(max.x, max.y, min.z),\r\n      new THREE.Vector3(max.x, min.y, min.z),\r\n      new THREE.Vector3(min.x, max.y, min.z),\r\n      new THREE.Vector3(max.x, min.y, max.z)\r\n    ]\r\n\r\n    for (let vertex of vertices) {\r\n\r\n      for (let plane of planes) {\r\n\r\n        if (plane.distanceToPoint(vertex) < 0) {\r\n\r\n          return false\r\n        }\r\n      }\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Returns the oriented camera plane\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getCameraPlane () {\r\n\r\n    const camera = this.viewer.navigation.getCamera()\r\n\r\n    const normal = camera.target.clone().sub(\r\n      camera.position).normalize()\r\n\r\n    const pos = camera.position\r\n\r\n    const dist =\r\n      - normal.x * pos.x\r\n      - normal.y * pos.y\r\n      - normal.z * pos.z\r\n\r\n    return new THREE.Plane (normal, dist)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Creates pyramid geometry to perform tri-box\r\n  // intersection analysis\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  createPyramidGeometry (vertices) {\r\n\r\n    var geometry = new THREE.Geometry()\r\n\r\n    geometry.vertices = vertices\r\n\r\n    geometry.faces = [\r\n      new THREE.Face3(0, 1, 2),\r\n      new THREE.Face3(0, 2, 3),\r\n      new THREE.Face3(1, 0, 4),\r\n      new THREE.Face3(2, 1, 4),\r\n      new THREE.Face3(3, 2, 4),\r\n      new THREE.Face3(0, 3, 4)\r\n    ]\r\n\r\n    return geometry\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Determine if the bounding boxes are\r\n  // inside, outside or intersect with the selection window\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  filterBoundingBoxes (planes, vertices, partialSelect) {\r\n\r\n    const geometry = this.createPyramidGeometry(vertices)\r\n\r\n    const intersect = []\r\n    const outside = []\r\n    const inside = []\r\n\r\n    for (let bboxInfo of this.boundingBoxInfo) {\r\n\r\n      // if bounding box inside, then we can be sure\r\n      // the mesh is inside too\r\n\r\n      if (this.containsBox (planes, bboxInfo.bbox)) {\r\n\r\n        inside.push(bboxInfo)\r\n\r\n      } else if (partialSelect) {\r\n\r\n        // otherwise need a more precise tri-box\r\n        // analysis to determine if the bbox intersect\r\n        // the pyramid geometry\r\n\r\n        const intersects = geometryIntersectsBox3(\r\n          geometry, bboxInfo.bbox)\r\n\r\n        intersects.length\r\n          ? intersect.push(bboxInfo)\r\n          : outside.push(bboxInfo)\r\n\r\n      } else {\r\n\r\n        outside.push(bboxInfo)\r\n      }\r\n    }\r\n\r\n    return {\r\n      intersect,\r\n      outside,\r\n      inside\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Runs the main logic of the select set:\r\n  // computes a pyramid shape from the selection window\r\n  // corners and determines enclosed meshes from the model\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  compute (pointer1, pointer2, partialSelect) {\r\n\r\n    // build 4 rays to project the 4 corners\r\n    // of the selection window\r\n\r\n    const xMin = Math.min(pointer1.clientX, pointer2.clientX)\r\n    const xMax = Math.max(pointer1.clientX, pointer2.clientX)\r\n\r\n    const yMin = Math.min(pointer1.clientY, pointer2.clientY)\r\n    const yMax = Math.max(pointer1.clientY, pointer2.clientY)\r\n\r\n    const ray1 = this.pointerToRay({\r\n      clientX: xMin,\r\n      clientY: yMin\r\n    })\r\n\r\n    const ray2 = this.pointerToRay({\r\n      clientX: xMax,\r\n      clientY: yMin\r\n    })\r\n\r\n    const ray3 = this.pointerToRay({\r\n      clientX: xMax,\r\n      clientY: yMax\r\n    })\r\n\r\n    const ray4 = this.pointerToRay({\r\n      clientX: xMin,\r\n      clientY: yMax\r\n    })\r\n\r\n    // first we compute the top of the pyramid\r\n    const top = new THREE.Vector3(0,0,0)\r\n\r\n    top.add (ray1.origin)\r\n    top.add (ray2.origin)\r\n    top.add (ray3.origin)\r\n    top.add (ray4.origin)\r\n\r\n    top.multiplyScalar(0.25)\r\n\r\n    // we use the bounding sphere to determine\r\n    // the height of the pyramid\r\n    const {center, radius} = this.boundingSphere\r\n\r\n    // compute distance from pyramid top to center\r\n    // of bounding sphere\r\n\r\n    const dist = new THREE.Vector3(\r\n      top.x - center.x,\r\n      top.y - center.y,\r\n      top.z - center.z)\r\n\r\n    // compute height of the pyramid:\r\n    // to make sure we go far enough,\r\n    // we add the radius of the bounding sphere\r\n\r\n    const height = radius + dist.length()\r\n\r\n    // compute the length of the side edges\r\n\r\n    const angle = ray1.direction.angleTo(\r\n      ray2.direction)\r\n\r\n    const length = height / Math.cos(angle * 0.5)\r\n\r\n    // compute bottom vertices\r\n\r\n    const v1 = new THREE.Vector3(\r\n      ray1.origin.x + ray1.direction.x * length,\r\n      ray1.origin.y + ray1.direction.y * length,\r\n      ray1.origin.z + ray1.direction.z * length)\r\n\r\n    const v2 = new THREE.Vector3(\r\n      ray2.origin.x + ray2.direction.x * length,\r\n      ray2.origin.y + ray2.direction.y * length,\r\n      ray2.origin.z + ray2.direction.z * length)\r\n\r\n    const v3 = new THREE.Vector3(\r\n      ray3.origin.x + ray3.direction.x * length,\r\n      ray3.origin.y + ray3.direction.y * length,\r\n      ray3.origin.z + ray3.direction.z * length)\r\n\r\n    const v4 = new THREE.Vector3(\r\n      ray4.origin.x + ray4.direction.x * length,\r\n      ray4.origin.y + ray4.direction.y * length,\r\n      ray4.origin.z + ray4.direction.z * length)\r\n\r\n    // create planes\r\n\r\n    const plane1 = new THREE.Plane()\r\n    const plane2 = new THREE.Plane()\r\n    const plane3 = new THREE.Plane()\r\n    const plane4 = new THREE.Plane()\r\n    const plane5 = new THREE.Plane()\r\n\r\n    plane1.setFromCoplanarPoints(top, v1, v2)\r\n    plane2.setFromCoplanarPoints(top, v2, v3)\r\n    plane3.setFromCoplanarPoints(top, v3, v4)\r\n    plane4.setFromCoplanarPoints(top, v4, v1)\r\n    plane5.setFromCoplanarPoints( v3, v2, v1)\r\n\r\n    const planes = [\r\n      plane1, plane2,\r\n      plane3, plane4,\r\n      plane5, this.getCameraPlane()\r\n    ]\r\n\r\n    const vertices = [\r\n      v1, v2, v3, v4, top\r\n    ]\r\n\r\n    // filter all bounding boxes to determine\r\n    // if inside, outside or intersect\r\n\r\n    const result = this.filterBoundingBoxes(\r\n      planes, vertices, partialSelect)\r\n\r\n    // all inside bboxes need to be part of the selection\r\n\r\n    const dbIdsInside = result.inside.map((bboxInfo) => {\r\n\r\n      return bboxInfo.dbId\r\n    })\r\n\r\n    // if partialSelect = true\r\n    // we need to return the intersect bboxes\r\n\r\n    if (partialSelect) {\r\n\r\n      const dbIdsIntersect = result.intersect.map((bboxInfo) => {\r\n\r\n        return bboxInfo.dbId\r\n      })\r\n\r\n      // At this point we could perform a finer analysis\r\n      // to determine if the mesh vertices are inside\r\n      // or outside the selection window but it would\r\n      // be a much more expensive computation\r\n\r\n      return [...dbIdsInside, ...dbIdsIntersect]\r\n    }\r\n\r\n    return dbIdsInside\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/Viewing.Extension.SelectionWindow.SelectSet.js","import SelectSet from './Viewing.Extension.SelectionWindow.SelectSet'\r\nimport EventsEmitter from 'EventsEmitter'\r\nimport Toolkit from 'Viewer.Toolkit'\r\nimport cursors from './cursors'\r\n\r\nvar _CROSS_MAX_WIDTH = 20;\r\n\r\nexport default class SelectionWindowTool extends EventsEmitter {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (viewer) {\r\n\r\n    super()\r\n\r\n    this.onResize = this.onResize.bind(this)\r\n\r\n    this.selectSet = new SelectSet(viewer)\r\n\r\n    this.partialSelect = false\r\n    this.materialLine = null\r\n    this.isDragging = false\r\n    this.crossGeomX = null\r\n    this.crossGeomY = null\r\n    this.isActive = false\r\n    this.rectGroup = null\r\n    this.lineGeom = null\r\n    this.viewer = viewer\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getNames () {\r\n\r\n    return [\"selectionWindowTool\"]\r\n  }\r\n\r\n  getName () {\r\n\r\n    return \"selectionWindowTool\"\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onResize () {\r\n\r\n    const overlay =\r\n      this.viewer.impl.overlayScenes[\r\n        'selectionWindowOverlay']\r\n\r\n    if (overlay) {\r\n\r\n      const canvas = this.viewer.canvas\r\n\r\n      const camera = new THREE.OrthographicCamera(\r\n        0, canvas.clientWidth,\r\n        0, canvas.clientHeight,\r\n        1, 1000)\r\n\r\n      overlay.camera = camera\r\n    }\r\n\r\n    this.rectGroup = null\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  setModel (model) {\r\n\r\n    if (this.isActive) {\r\n\r\n      this.model = model\r\n\r\n      this.selectSet.setModel(model)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  setPartialSelect (partialSelect) {\r\n\r\n    this.partialSelect = partialSelect\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  activate () {\r\n\r\n    if (!this.isActive) {\r\n\r\n      this.viewer.clearSelection()\r\n\r\n      this.model =\r\n        this.viewer.activeModel ||\r\n        this.viewer.model\r\n\r\n      this.selectSet.setModel(this.model)\r\n\r\n      this.materialLine = new THREE.LineBasicMaterial({\r\n        color: new THREE.Color(0x0000FF),\r\n        linewidth: 0.5,\r\n        opacity: .6\r\n      })\r\n\r\n      this.mouseStart = new THREE.Vector3(0, 0, -10)\r\n\r\n      this.mouseEnd = new THREE.Vector3(0, 0, -10)\r\n\r\n      const canvas = this.viewer.canvas\r\n\r\n      const camera = new THREE.OrthographicCamera(\r\n        0, canvas.clientWidth,\r\n        0, canvas.clientHeight,\r\n        1, 1000)\r\n\r\n      this.viewer.impl.createOverlayScene(\r\n        'selectionWindowOverlay',\r\n        this.materialLine,\r\n        this.materialLine,\r\n        camera)\r\n\r\n      this.viewer.impl.api.addEventListener(\r\n        Autodesk.Viewing.VIEWER_RESIZE_EVENT,\r\n        this.onResize)\r\n\r\n      this.isActive = true\r\n\r\n      this.emit('activate')\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  deactivate () {\r\n\r\n    if (this.isActive) {\r\n\r\n      this.viewer.impl.removeOverlayScene (\r\n        'selectionWindowOverlay')\r\n\r\n      this.mouseStart.set(0, 0, -10)\r\n      this.mouseEnd.set(0, 0, -10)\r\n\r\n      this.isDragging = false\r\n      this.isActive = false\r\n      this.rectGroup = null\r\n\r\n      this.viewer.impl.api.removeEventListener(\r\n        Autodesk.Viewing.VIEWER_RESIZE_EVENT,\r\n        this.onResize)\r\n\r\n      this.viewer.toolController.deactivateTool(\r\n        this.getName())\r\n\r\n      this.emit('deactivate')\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  getCursor () {\r\n\r\n    const tool = this.viewer.toolController.getTool(\"dolly\")\r\n\r\n    const mode = tool.getTriggeredMode()\r\n\r\n    switch (mode) {\r\n\r\n      case \"dolly\":\r\n        return cursors.dolly\r\n\r\n      case \"pan\":\r\n        return cursors.pan\r\n    }\r\n\r\n    return cursors.window\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleGesture (event) {\r\n\r\n    return true\r\n  }\r\n\r\n  handleSingleClick (event, button) {\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleButtonDown (event, button) {\r\n\r\n    //left button down\r\n    if(button === 0) {\r\n\r\n      this.startDrag(event)\r\n      return true\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleMouseMove (event) {\r\n\r\n    if (this.lineGeom && this.isDragging) {\r\n\r\n      this.pointerEnd = event.pointers\r\n        ? event.pointers[0]\r\n        : event\r\n\r\n      this.mouseEnd.x = event.canvasX\r\n      this.mouseEnd.y = event.canvasY\r\n\r\n      return true\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleButtonUp (event, button) {\r\n\r\n    if (button === 0) {\r\n\r\n      this.endDrag()\r\n      return true\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  handleKeyDown (event, keyCode) {\r\n\r\n    if (keyCode === 27) {\r\n\r\n      this.deactivate()\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  startDrag (event) {\r\n\r\n    if (this.isDragging === false) {\r\n\r\n      this.pointerStart = event.pointers\r\n        ? event.pointers[0]\r\n        : event\r\n\r\n      // begin dragging\r\n      this.isDragging = true\r\n\r\n      this.mouseStart.x = event.canvasX\r\n      this.mouseStart.y = event.canvasY\r\n\r\n      this.mouseEnd.x = event.canvasX\r\n      this.mouseEnd.y = event.canvasY\r\n\r\n      if (this.rectGroup === null) {\r\n\r\n        this.lineGeom = new THREE.Geometry()\r\n\r\n        // rectangle of zoom window\r\n        this.lineGeom.vertices.push(\r\n          this.mouseStart.clone(),\r\n          this.mouseStart.clone(),\r\n          this.mouseStart.clone(),\r\n          this.mouseStart.clone(),\r\n          this.mouseStart.clone())\r\n\r\n        // cross for identify zoom window center.\r\n        this.crossGeomX = new THREE.Geometry()\r\n\r\n        this.crossGeomX.vertices.push(\r\n          this.mouseStart.clone(),\r\n          this.mouseStart.clone())\r\n\r\n        this.crossGeomY = new THREE.Geometry()\r\n\r\n        this.crossGeomY.vertices.push(\r\n          this.mouseStart.clone(),\r\n          this.mouseStart.clone())\r\n\r\n        // add geom to group\r\n        const line_mesh = new THREE.Line(\r\n          this.lineGeom,\r\n          this.materialLine,\r\n          THREE.LineStrip)\r\n\r\n        const line_cross_x = new THREE.Line(\r\n          this.crossGeomX,\r\n          this.materialLine,\r\n          THREE.LineStrip)\r\n\r\n        const line_cross_y = new THREE.Line(\r\n          this.crossGeomY,\r\n          this.materialLine,\r\n          THREE.LineStrip)\r\n\r\n        this.rectGroup = new THREE.Group()\r\n\r\n        this.rectGroup.add(line_mesh)\r\n        this.rectGroup.add(line_cross_x)\r\n        this.rectGroup.add(line_cross_y)\r\n\r\n      } else {\r\n\r\n        this.lineGeom.vertices[0] = this.mouseStart.clone()\r\n        this.lineGeom.vertices[1] = this.mouseStart.clone()\r\n        this.lineGeom.vertices[2] = this.mouseStart.clone()\r\n        this.lineGeom.vertices[3] = this.mouseStart.clone()\r\n        this.lineGeom.vertices[4] = this.mouseStart.clone()\r\n\r\n        this.crossGeomX.vertices[0] = this.mouseStart.clone()\r\n        this.crossGeomX.vertices[1] = this.mouseStart.clone()\r\n        this.crossGeomY.vertices[0] = this.mouseStart.clone()\r\n        this.crossGeomY.vertices[1] = this.mouseStart.clone()\r\n\r\n        this.crossGeomX.verticesNeedUpdate = true\r\n        this.crossGeomY.verticesNeedUpdate = true\r\n        this.lineGeom.verticesNeedUpdate = true\r\n      }\r\n\r\n      this.viewer.impl.addOverlay(\r\n        \"selectionWindowOverlay\",\r\n        this.rectGroup)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  endDrag () {\r\n\r\n    if (this.isDragging === true) {\r\n\r\n      this.viewer.impl.removeOverlay(\r\n        \"selectionWindowOverlay\",\r\n        this.rectGroup)\r\n\r\n      this.isDragging = false\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  update () {\r\n\r\n    if (!this.isActive)\r\n      return;\r\n\r\n    if (this.lineGeom && this.isDragging) {\r\n\r\n      // draw rectangle\r\n      this.lineGeom.vertices[1].x = this.mouseStart.x\r\n      this.lineGeom.vertices[1].y = this.mouseEnd.y\r\n      this.lineGeom.vertices[2] = this.mouseEnd.clone()\r\n      this.lineGeom.vertices[3].x = this.mouseEnd.x\r\n      this.lineGeom.vertices[3].y = this.mouseStart.y\r\n      this.lineGeom.vertices[4] = this.lineGeom.vertices[0]\r\n\r\n      // draw cross\r\n      var width = Math.abs(this.mouseEnd .x - this.mouseStart.x);\r\n      var height = Math.abs(this.mouseEnd .y - this.mouseStart.y);\r\n      var length = width>height ? height : width;\r\n\r\n      if(length > _CROSS_MAX_WIDTH) {\r\n        length = _CROSS_MAX_WIDTH;\r\n      }\r\n\r\n      var half_length = length * 0.5;\r\n\r\n      var cross_center = [\r\n        (this.mouseEnd .x + this.mouseStart.x) * 0.5,\r\n        (this.mouseEnd .y + this.mouseStart.y) * 0.5\r\n      ]\r\n\r\n      this.crossGeomX.vertices[0].x = cross_center[0] - half_length\r\n      this.crossGeomX.vertices[0].y = cross_center[1]\r\n      this.crossGeomX.vertices[1].x = cross_center[0] + half_length\r\n      this.crossGeomX.vertices[1].y = cross_center[1]\r\n\r\n      this.crossGeomY.vertices[0].x = cross_center[0]\r\n      this.crossGeomY.vertices[0].y = cross_center[1] - half_length\r\n      this.crossGeomY.vertices[1].x = cross_center[0]\r\n      this.crossGeomY.vertices[1].y = cross_center[1] + half_length\r\n\r\n      this.crossGeomX.verticesNeedUpdate = true\r\n      this.crossGeomY.verticesNeedUpdate = true\r\n      this.lineGeom.verticesNeedUpdate = true\r\n\r\n      // only redraw overlay\r\n      this.viewer.impl.invalidate(false, false, true)\r\n\r\n    } else {\r\n\r\n      return this.select()\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  select () {\r\n\r\n    const rectMinX = this.mouseStart.x\r\n    const rectMinY = this.mouseStart.y\r\n\r\n    const rectMaxX = this.mouseEnd.x\r\n    const rectMaxY = this.mouseEnd.y\r\n\r\n    const rectHeight = Math.abs(rectMaxY - rectMinY)\r\n    const rectWidth = Math.abs(rectMaxX - rectMinX)\r\n\r\n    if (rectWidth === 0 || rectHeight === 0) {\r\n\r\n      return false\r\n    }\r\n\r\n    const dbIds = this.selectSet.compute(\r\n      this.pointerStart,\r\n      this.pointerEnd,\r\n      this.partialSelect)\r\n\r\n    this.emit('selection', {\r\n      model: this.model,\r\n      guid: this.guid(),\r\n      dbIds\r\n    })\r\n\r\n    this.deactivate()\r\n\r\n    return true\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/Viewing.Extension.SelectionWindow.Tool.js","/////////////////////////////////////////////////////////////////\r\n// SelectionWindow Viewer Extension\r\n// By Philippe Leefsma, Autodesk Inc, August 2017\r\n//\r\n/////////////////////////////////////////////////////////////////\r\nimport SelectionWindowTool from './Viewing.Extension.SelectionWindow.Tool'\r\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\r\nimport SelectionTreeView from './SelectionTreeView'\r\nimport WidgetContainer from 'WidgetContainer'\r\nimport { ReactLoader } from 'Loader'\r\nimport ReactDOM from 'react-dom'\r\nimport Switch from 'Switch'\r\nimport Label from 'Label'\r\nimport React from 'react'\r\n\r\nclass SelectionWindowExtension extends MultiModelExtensionBase {\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////////////\r\n  constructor (viewer, options) {\r\n\r\n    super (viewer, options)\r\n\r\n    this.setPartialSelect = this.setPartialSelect.bind(this)\r\n    this.onNodeDblClicked = this.onNodeDblClicked.bind(this)\r\n    this.onNodeClicked = this.onNodeClicked.bind(this)\r\n    this.renderTitle = this.renderTitle.bind(this)\r\n\r\n    this.react = options.react\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  load () {\r\n\r\n    this.react.setState({\r\n\r\n      showLoader: true,\r\n      selection: null,\r\n      active: false\r\n\r\n    }).then (() => {\r\n\r\n      this.react.pushRenderExtension(this)\r\n    })\r\n\r\n    console.log('Viewing.Extension.SelectionWindow loaded')\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  get className() {\r\n\r\n    return 'selection-window'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static get ExtensionId () {\r\n\r\n    return 'Viewing.Extension.SelectionWindow'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  unload () {\r\n\r\n    console.log('Viewing.Extension.SelectionWindow unloaded')\r\n\r\n    this.selectionWindowTool.off()\r\n\r\n    super.unload ()\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelRootLoaded () {\r\n\r\n    this.selectionWindowTool =\r\n      new SelectionWindowTool(this.viewer)\r\n\r\n    this.selectionWindowTool.on('deactivate', () => {\r\n\r\n      this.react.setState({active: false})\r\n    })\r\n\r\n    this.selectionWindowTool.on('activate', () => {\r\n\r\n      this.react.setState({active: true})\r\n    })\r\n\r\n    this.selectionWindowTool.on('selection',\r\n      (selection) => {\r\n\r\n        this.viewer.impl.selector.setSelection(\r\n          selection.dbIds,\r\n          selection.model)\r\n\r\n        this.react.setState({selection})\r\n      })\r\n\r\n    this.viewer.toolController.registerTool(\r\n      this.selectionWindowTool)\r\n\r\n    this.react.setState({\r\n      showLoader: false\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelActivated (event) {\r\n\r\n    this.selectionWindowTool.setModel(event.model)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  setPartialSelect (partialSelect) {\r\n\r\n    this.selectionWindowTool.setPartialSelect(partialSelect)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async startSelection () {\r\n\r\n    await this.react.setState({selection: null})\r\n\r\n    this.viewer.toolController.activateTool(\r\n      this.selectionWindowTool.getName())\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async setDocking (docked) {\r\n\r\n    const id = SelectionWindowExtension.ExtensionId\r\n\r\n    if (docked) {\r\n\r\n      await this.react.popRenderExtension(id)\r\n\r\n      this.react.pushViewerPanel(this, {\r\n        height: 250,\r\n        width: 350\r\n      })\r\n\r\n    } else {\r\n\r\n    await this.react.popViewerPanel(id)\r\n\r\n      this.react.pushRenderExtension(this)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onNodeClicked (node) {\r\n\r\n    const model = node.model\r\n\r\n    if (model) {\r\n\r\n      switch (node.type) {\r\n\r\n        case 'component':\r\n          this.viewer.impl.selector.setSelection(\r\n            [node.id],\r\n            model)\r\n          break\r\n\r\n        case 'root':\r\n          this.viewer.impl.selector.setSelection(\r\n            node.props.childIds,\r\n            model)\r\n          break\r\n      }\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onNodeDblClicked (node) {\r\n\r\n    const model = node.model\r\n\r\n    if (model) {\r\n\r\n      switch (node.type) {\r\n\r\n        case 'component':\r\n\r\n          model.visibilityManager.isolate(node.id)\r\n\r\n          break\r\n\r\n        case 'root':\r\n\r\n          model.visibilityManager.isolate(\r\n            node.props.childIds)\r\n\r\n          this.viewer.fitToView(\r\n            node.props.childIds,\r\n            model)\r\n\r\n          break\r\n      }\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderTitle (docked) {\r\n\r\n    const spanClass = docked\r\n      ? 'fa fa-chain-broken'\r\n      : 'fa fa-chain'\r\n\r\n    return (\r\n      <div className=\"title\">\r\n        <label>\r\n          Selection Window\r\n        </label>\r\n        <div className=\"selection-window-controls\">\r\n          <button onClick={() => this.setDocking(docked)}\r\n            title=\"Toggle docking mode\">\r\n            <span className={spanClass}/>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderContent () {\r\n\r\n    const {active, showLoader, selection} =\r\n      this.react.getState()\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <ReactLoader show={showLoader}/>\r\n        <div className=\"row\">\r\n          <button onClick={() => this.startSelection()}\r\n            className={`select-btn ${active ? 'active':''}`}>\r\n            <span className=\"fa fa-object-group\"/>\r\n            Select ...\r\n          </button>\r\n          <Label text=\"Partial Selection: \"/>\r\n          <Switch onChange={this.setPartialSelect}\r\n            checked={false}\r\n          />\r\n        </div>\r\n        <div className=\"selection-tree-container\">\r\n          <SelectionTreeView\r\n            onNodeDblClicked={this.onNodeDblClicked}\r\n            onNodeClicked={this.onNodeClicked}\r\n            selection={selection}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render (opts) {\r\n\r\n    return (\r\n      <WidgetContainer\r\n        renderTitle={() => this.renderTitle(opts.docked)}\r\n        showTitle={opts.showTitle}\r\n        className={this.className}>\r\n\r\n        { this.renderContent () }\r\n\r\n      </WidgetContainer>\r\n    )\r\n  }\r\n}\r\n\r\nAutodesk.Viewing.theExtensionManager.registerExtension (\r\n  SelectionWindowExtension.ExtensionId,\r\n  SelectionWindowExtension)\r\n\r\nexport default 'Viewing.Extension.SelectionWindow'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/Viewing.Extension.SelectionWindow.js","export default {\r\n\r\n  window: \"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAADWSURBVEiJ1ZVNEsIwCEYfTg/UjTPuemcvojfCRRMlNKGdKguZyaLkK4/8EERVybQJQERCUU3C63p+n/Bk9QHDRtbIX2GqKh6woRfxLdL0/M1KzYRaA+7AXDW9wN5fvrXEWud6AOABLD7QwREDgCdw7WV6ZjSAsi0Lzn4JmEcHeHbYWxQXw3FTEWmvaWY1X9Iie4CIKHE1fwfIsnSAZD/X/79FGbdISyzA9QMDG3axTTTVwx3NaNbm5B2dRHY1DWCUyd4qIs0bUB8nuz32/11Cu+KPM7sOXlrOS4sOkzb1AAAAAElFTkSuQmCC), auto\",\r\n  dolly: \"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAgVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8mJiYAAADNzc2/v7+fn59paWlPT08MDAwICAj6+vqpqak7Ozv29vby8vLp6em2traAgIBkZGRZWVlAQEAaGhpISEgkS7tbAAAAFHRSTlMAOvhpZD8mkQWegMy9qY1YVE01EYiqlE0AAADZSURBVCjPbY9ZloMgEAAbEbfsmRZZXbJn7n/AAX2RQVN/VD26AXLOeZLDGo6IbfI9tHq8cdxuj1HwvgCoaiHqKoRk+M3hB9jueUW8PnfsE/bJ3vms7nCkq7NoE3s99AXxoh8vFoXCpknrn5faAuJCenT0xPkYqnxQFJaU0gdZrsKm8aHZrAIffBj40mc1jsTfIJRWegq6opTMvlfqLqYg7kr1ZB7jFgeaMC59N//8O4WZ1IiPF8b5wMHcJn8zB4g4mc77zpxgAbMSUVoGK4iV0hL4wrksz+H0Bw5+E+HrniDQAAAAAElFTkSuQmCC), auto\",\r\n  pan: \"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAABHVBMVEUAAABPTk4AAAAAAAAJCQkRERE0MzQQEBAODg4QEBB4d3dbWlo9PDw/Pj4vLy8sLCwZGBgWFhYcHBwKCgoSEhIAAAAKCgoICAgKCgoQEBAODg4EBAQICAgPDw8REREMDAx2dnY0NDQvLy9QUFAaGhomJSYjIyM7OjokJCQNDA0mJiYNDQ0AAAAUFBQJCQkQEBAEBAQNDQ0PDw8VFRX///+amJkAAAD5+fnz8/PKycn9/f339vbi4eLR0dDNzMyAgIB8e3xycHH7+/vw7+/o6OjX1ta7urq4t7iwsLCnp6eioqKbmppva21OTk74+Pjl5eXc3Nzb29vLy8vDw8PDwsKrqqqdnZ2WlpaSkpKTkZKMiouEg4NkZGRISEgxLzBpgbsEAAAANHRSTlMA+fiQXgngKSYG/vX17uvBuqackpCNg3BpUkpAPBwTDvj18+vl0s/NwrOwoZZ+TDg4NBkBGrzX8QAAAP5JREFUKM99j9Vuw0AQRdeuKZyGkyZNmbnXDLHDVGb8/8/oy7paK1bO0+oc7WiGnGiaxq+QRTQAOh8f9Jv4H/Ge8PZPrCdlvkxfYluUT2WyyCq3mZ7unwlKVLcqOzA/Mf71j0TWJ/Ym6rPeca05Ni4iIevYc7yoUD2zQFhq71BdI9nvBeBabFDSPe8DswlUc1Riw3VxbH0NHBUPQ0jrbDnPYDjALQBMq9E7nkC5y7VDKTZlUg8Q0lmjvl74zlYErgvKa42GPKf3/a0kQmYCDY1SYMDosqMoiWrGwz/uAbNvc/fNon4kXRKGq+PUo2Mb96afV0iUxqGU2s4VBbKUP65NL/LKF+7ZAAAAAElFTkSuQmCC), auto\"\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/cursors.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.SelectionWindow.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.SelectionWindow.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.SelectionWindow.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.SelectionWindow/Viewing.Extension.SelectionWindow.scss\n// module id = 1828\n// module chunks = 24"],"sourceRoot":""}