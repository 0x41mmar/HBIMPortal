{"version":3,"sources":["webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?1a41**************","webpack:///./~/babel-runtime/helpers/get.js?a320******************","webpack:///./src/client/components/Label/Label.scss?d194************","webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/index.js?88e8************","webpack:///./src/client/components/Switch/Switch.scss?f8a8*******","webpack:///./src/client/components/WidgetContainer/index.js?87e1**************","webpack:///./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js?6fc5************","webpack:///./src/client/components/WidgetContainer/WidgetContainer.js?bbdf**************","webpack:///./src/client/components/WidgetContainer/WidgetContainer.scss?2530***************","webpack:///./~/dompurify/src/purify.js?f974**************","webpack:///./src/client/components/Label/index.js?d0bb************","webpack:///./src/client/components/Label/Label.js?7c58************","webpack:///./src/client/components/Label/Label.scss?2314*************","webpack:///./~/react-contenteditable/lib/react-contenteditable.js?23ef*********","webpack:///./src/client/components/Switch/Switch.js?492e*******","webpack:///./src/client/components/Switch/index.js?5934*******","webpack:///./src/client/components/Switch/Switch.scss?9e38********","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/Viewing.Extension.Markup2D.scss","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsUi.scss","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/spectrum.css","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/index.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/Viewing.Extension.Markup2D.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsColorPicker.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsPanel.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsStyleControlFactory.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsStyleDropdown.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsStyleToggleButton.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsUi.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsUiUtils.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/spectrum.js","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/spectrum.css?1740","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/Viewing.Extension.Markup2D.scss?ca98","webpack:///./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsUi.scss?5238"],"names":["MultiModelExtensionBase","viewer","options","defaultOptions","onModelCompletedLoad","bind","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","impl","modelQueue","getModels","map","model","guid","initializeEvents","viewerEvents","forEach","event","removeEventListener","id","handler","eventSink","off","viewerEvent","Autodesk","Viewing","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","then","args","filter","on","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","addEventListener","eventIdArray","Array","isArray","eventTasks","resolve","__handler","all","Composer","Extension","WidgetContainer","props","showTitle","renderTitle","title","dimensions","Children","children","child","newProps","cloneElement","classNames","className","split","height","join","style","renderChildren","Component","propTypes","string","bool","defaultProps","Label","width","textAlign","sanitize","text","Switch","state","checked","setState","disabled","onChange","toggle","Markup2DExtension","onSequenceDeleted","onStateDeleted","onStateToggled","react","markupsMode","name","modes","configManager","markupsCore","showLoader","markupsUi","loadExtension","panel","addVisibilityListener","show","onEditMarkupsClosed","configManagerReactOptions","pushRenderExtension","popRenderExtension","loadDynamicExtension","emptyStateNameCaption","restoreImmediate","itemToggling","console","log","nav","navigation","toPerspective","autocam","setHomeViewFrom","getCamera","loader","getState","items","item","active","stateSelection","stateCreation","setVisible","hide","setMarkupsMode","viewerState","Markup2D","data","generateData","sequence","stateIds","unloadMarkups","stateId","loadMarkups","docked","ExtensionId","pushViewerPanel","popViewerPanel","menuItems","opts","render","renderContent","theExtensionManager","registerExtension","namespace","AutodeskNamespace","Utils","toList","clearButtonGroup","groupingElement","buttons","querySelectorAll","btn","classList","remove","ColorPicker","element","root","handleUIEvents","selectedColor","Object","defineProperty","get","set","val","querySelector","add","window","colorPicker","proto","prototype","componentHTML","innerHTML","eventName","selector","callback","target","matchesSelector","value","getAttribute","dispatchEvent","CustomEvent","bubbles","detail","source","setOptions","colorsList","colors","color","selected","markup","ul","coreNamespace","utilsNamespace","toTitleCase","getMarkupType","StyleControlFactory","convertToStyleValue","output","potentialNumber","Number","isNumber","isNaN","valueOf","MarkupsPanel","UI","DockingPanel","call","container","top","left","handlePanelEvents","handleCoreEvents","Extensions","ViewerPanelMixin","getNames","getName","createScrollContainer","scrollContainer","btnUndo","btnRedo","ddAnnotationFont","styleControls","styleElements","create","groupingElements","containers","HTMLElement","c","getAnnotationButton","type","selectDefaultAnnotation","def","switchEditMode","selectAnnotationButton","engageEditMode","enabled","enterEditMode","leaveEditMode","annotationType","activateApplicableControls","resizeToContent","displayStyleInput","parentElement","display","hideStyleInput","getStyleInputs","controls","hideStyleInputs","getExtension","currentStyles","getStyle","defaultValues","getStyleDefaultValues","activeStyle","styleSettings","styleElement","styleControl","values","v","attrs","div","control","setViewerTool","toolName","setActiveNavigationTool","allowNavigation","editMode","Markups","Core","changeEditMode","self","selectAnnotation","selectFontStyle","parent","contains","Event","actionType","selectedAnnotation","getSelection","deleteMarkup","clear","isUndoStackEmpty","undo","isRedoStackEmpty","redo","applySelectedFontFamily","selection","selectedIndex","fontFamily","applyStyleChangeToMarkup","updatedStyle","setStyle","getContentSize","offsetHeight","offsetWidth","EVENT_HISTORY_CHANGED","emptyUndo","emptyRedo","EVENT_MARKUP_SELECTED","markupType","markupButton","EVENT_MARKUP_DESELECT","DropDown","ToggleButton","HTMLDivElement","HTMLSelectElement","HTMLButtonElement","updateDropDownOptions","EXTENSION_NAME","MarkupsUi","constructor","Button","ACTIVE","State","INACTIVE","createMarkupButton","setToolTip","setIcon","onClick","load","toolController","Ui","addPanel","showControl","createUI","unload","markupToolButton","modelTools","getToolbar","getControl","TOOLBAR","MODELTOOLSID","onMarkupButtonStateChange","e","STATE_CHANGED","addControl","index","docFrag","document","createDocumentFragment","option","createElement","textContent","attr","setAttribute","appendChild","listLikeStructure","slice","apply","str","charAt","toUpperCase","substring","annotation","MARKUP_TYPE_ARROW","MARKUP_TYPE_TEXT","MARKUP_TYPE_RECTANGLE","MARKUP_TYPE_CIRCLE","MARKUP_TYPE_CLOUD","MARKUP_TYPE_FREEHAND","domElem","matches","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","$","undefined","defaultOpts","beforeShow","noop","move","change","flat","showInput","allowEmpty","showButtons","clickoutFiresChange","showInitial","showPalette","showPaletteOnly","hideAfterPaletteSelect","togglePaletteOnly","showSelectionPalette","localStorageKey","appendTo","maxSelectionSize","cancelText","chooseText","togglePaletteMoreText","togglePaletteLessText","clearText","noColorSelectedText","preferredFormat","containerClassName","replacerClassName","showAlpha","theme","palette","selectionPalette","spectrums","IE","exec","navigator","userAgent","rgbaSupport","substr","indexOf","elem","cssText","backgroundColor","inputTypeColorSupport","colorInput","replaceInput","gradientFix","i","paletteTemplate","p","html","length","current","tiny","tinycolor","toHsl","l","equals","formattedString","toString","swatchStyle","toRgbString","toFilter","push","cls","append","hideAll","instanceOptions","o","callbackContext","extend","callbacks","spectrum","resize","throttle","reflow","visible","dragWidth","dragHeight","dragHelperHeight","slideHeight","slideWidth","alphaWidth","alphaSlideHelperWidth","slideHelperHeight","currentHue","currentSaturation","currentValue","currentAlpha","paletteArray","paletteLookup","draggingClass","shiftMovementDirection","doc","ownerDocument","body","boundElement","addClass","pickerContainer","find","dragger","dragHelper","slider","slideHelper","alphaSliderInner","alphaSlider","alphaSlideHelper","textInput","paletteContainer","initialColorContainer","cancelButton","clearButton","chooseButton","toggleButton","isInput","is","isInputTypeColor","shouldReplace","replacer","offsetElement","previewElement","initialColor","colorOnShow","currentPreferredFormat","isEmpty","applyOptions","j","rgb","toggleClass","initialize","after","updateSelectionPaletteFromStorage","stopPropagation","preventDefault","disable","click","setFromTextInput","setTimeout","keydown","keyCode","revert","updateOriginalInput","isValid","css","outerWidth","draggable","dragX","dragY","shiftKey","Math","round","dragStart","dragStop","parseFloat","oldDragX","oldDragY","furtherFromX","abs","setSaturation","setValue","updateUI","format","addColorToSelectionPalette","paletteElementClick","ignore","closest","paletteEvent","delegate","localStorage","oldPalette","each","inArray","shift","getUniqueSelectionPalette","unique","reverse","drawPalette","currentColor","drawInitial","initial","trigger","removeClass","isDefaultPrevented","clickout","button","unbind","ignoreFormatChange","newColor","newHsv","toHsv","h","s","a","getFormat","fromRatio","hasClass","updateHelperLocations","flatColor","toHexString","realColor","displayColor","realHex","realRgb","alpha","toRgb","realAlpha","gradient","gradientType","max","min","alphaX","slideY","fireCallback","hasChanged","offset","getOffset","destroy","spect","optionName","optionValue","enable","picker","input","extraY","dpWidth","dpHeight","outerHeight","inputHeight","docElem","documentElement","viewWidth","clientWidth","scrollLeft","viewHeight","clientHeight","scrollTop","func","obj","arguments","concat","onmove","onstart","onstop","dragging","maxHeight","maxWidth","hasTouch","duringDragEvents","prevent","stop","returnValue","documentMode","touches","originalEvent","pageX","pageY","start","rightclick","which","wait","debounce","timeout","context","throttler","clearTimeout","dataID","fn","extra","method","Error","removeData","loadOpts","defaults","localization","palettes","processNativeColorInputs","trimLeft","trimRight","tinyCounter","math","mathRound","mathMin","mathMax","mathRandom","random","inputToRGB","_r","r","_g","g","_b","b","_a","_roundA","_format","_gradientType","_ok","ok","_tc_id","isDark","getBrightness","isLight","getAlpha","setAlpha","boundAlpha","hsv","rgbToHsv","toHsvString","hsl","rgbToHsl","toHslString","toHex","allow3Char","rgbToHex","toHex8","rgbaToHex","toHex8String","toPercentageRgb","bound01","toPercentageRgbString","toName","hexNames","secondColor","hex8String","secondHex8String","formatSet","hasAlpha","needsAlphaFormat","_applyModification","lighten","brighten","darken","desaturate","saturate","greyscale","spin","_applyCombination","analogous","complement","monochromatic","splitcomplement","triad","tetrad","hasOwnProperty","convertToPercentage","stringInputToObject","rgbToRgb","String","hsvToRgb","hslToRgb","d","hue2rgb","q","t","floor","f","mod","hex","pad2","convertDecimalToHex","color1","color2","amount","clamp01","hue","results","slices","part","ret","modification","mix","rgb1","rgb2","w","w1","w2","rgba","readability","c1","c2","brightnessA","brightnessB","colorDiff","brightness","isReadable","mostReadable","baseColor","colorList","bestColor","bestScore","bestIsReadable","readable","score","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flip","flipped","n","isOnePointZero","processPercent","isPercentage","parseInt","parseIntFromHex","convertHexToDecimal","matchers","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","hsla","hex3","hex6","hex8","replace","toLowerCase","named","match","jQuery"],"mappings":"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;AAC5C,C;;;;;;;ACpBA,mCAAC;AACD;AACA;AACA;;AAEA;AACA,qDAA0B,sBAAsB,EAAE;AAAA;AAClD,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,EAAE,iBAAiB,EAAE;AAChD;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;;AAEA;AACA,0CAA0C;AAC1C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB,gEAAgE;AAChE,gEAAgE;AAChE,uEAAuE;AACvE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;AAChE,gEAAgE;;AAEhE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,8BAA8B;;AAEzD;AACA;AACA,2CAA2C,oBAAoB;;AAE/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iCAAiC,EAAE;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,iCAAiC;AACrE,+EAA+E;AAC/E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iCAAiC;AACzE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uCAAuC;AACvC,0BAA0B,QAAQ;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,KAAK;AACrB;AACA;AACA,iCAAiC,QAAQ;;AAEzC;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA,iDAAiD,QAAQ;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;;;;;ACv7BD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;IAEqBuB,K;;;AAsBnB;AACA;AACA;AACA;;;AAvBA;AACA;AACA;AACA;AAqBA,iBAAatB,KAAb,EAAoB;AAAA;AAAA,+HAEXA,KAFW;AAGnB;;AAED;AACA;AACA;AACA;;;AAtBA;AACA;AACA;AACA;;;;;6BAoBU;;AAER,UAAMU,cACJ,iBADI,0CAED,KAAKV,KAAL,CAAWW,SAAX,CAAqBC,KAArB,CAA2B,GAA3B,CAFC,EAAN;;AAKA,UAAMG,QAAQ;AACZQ,eAAO,KAAKvB,KAAL,CAAWwB,SAAX,KAAyB,QAAzB,GACH,MADG,GACM,EAFD;AAGZA,mBAAW,KAAKxB,KAAL,CAAWwB;AAHV,OAAd;;AAMA,aACE;AAAA;AAAA,UAAK,WAAWd,WAAWI,IAAX,CAAgB,GAAhB,CAAhB;AACE,iBAAOC,KADT;AAEE;AAAA;AAAA;AACI,8BAAUU,QAAV,CAAmB,KAAKzB,KAAL,CAAW0B,IAA9B;AADJ;AAFF,OADF;AAQD;;;EAxDgC,gBAAMT,S,UAMhCC,S,GAAY;AACjBM,aAAW,oBAAUL,MADJ;AAEjBR,aAAW,oBAAUQ,MAFJ;AAGjBO,QAAM,oBAAUP,MAHC,E,SAUZE,Y,GAAe;AACpBG,aAAW,MADS;AAEpBb,aAAW,EAFS;AAGpBe,QAAM,EAHc,E;kBAhBHJ,K;;;;;;;;;;ACNrB;;AAEA;AACA;AACA;AACA;AACA,gDAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;;ACpBA;;AAEA;AACA;AACA,CAAC;;AAED,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,8CAA8C,iBAAiB,qBAAqB,oCAAoC,6DAA6D,oBAAoB,EAAE,eAAe;;AAE1N,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wEAAwE;AACxE;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,kCAAkC;AAClC,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA,oC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClGA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEqBK,M;;;AAoBnB;AACA;AACA;AACA;;;AArBA;AACA;AACA;AACA;AAmBA,oBAAe;AAAA;;AAAA;;AAIb,UAAKC,KAAL,GAAa;AACXC,eAAS;AADE,KAAb;AAJa;AAOd;;AAED;AACA;AACA;AACA;;;AAzBA;AACA;AACA;AACA;;;;;yCAuBsB;;AAEpB,WAAKC,QAAL,CAAc;AACZD,iBAAS,KAAK7B,KAAL,CAAW6B;AADR,OAAd;AAGD;;AAED;AACA;AACA;AACA;;;;6BAEU;;AAER,UAAI,KAAK7B,KAAL,CAAW+B,QAAf,EAAyB;AACvB;AACD;;AAED,UAAMF,UAAU,CAAC,KAAKD,KAAL,CAAWC,OAA5B;;AAEA,WAAKC,QAAL,CAAc;AACZD;AADY,OAAd;;AAIA,UAAI,KAAK7B,KAAL,CAAWgC,QAAf,EAAyB;;AAEvB,aAAKhC,KAAL,CAAWgC,QAAX,CAAqBH,OAArB;AACD;AACF;;AAED;AACA;AACA;AACA;;;;6BACU;;AAER,UAAMnB,cACJ,kBADI,EAEJ,KAAKV,KAAL,CAAW+B,QAAX,GAAsB,UAAtB,GAAmC,EAF/B,0CAGD,KAAK/B,KAAL,CAAWW,SAAX,CAAqBC,KAArB,CAA2B,GAA3B,CAHC,EAAN;;AAMA,aACE;AAAA;AAAA,UAAK,WAAWF,WAAWI,IAAX,CAAgB,GAAhB,CAAhB;AACE,mBAAS,KAAKmB,MADhB;AAEE,iDAAO,KAAI,QAAX,EAAoB,WAAU,QAA9B;AACE,mBAAS,KAAKL,KAAL,CAAWC,OADtB;AAEE,iBAAO,KAAKD,KAAL,CAAWC,OAFpB;AAGE,oBAAU,oBAAK,CAAE,CAHnB;AAIE,gBAAK;AAJP,UAFF;AAQE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,iDAAG,WAAU,6BAAb;AADF,WADF;AAIE;AAAA;AAAA;AACE,iDAAG,WAAU,+BAAb;AADF,WAJF;AAOE;AAPF;AARF,OADF;AAoBD;;;EAnGiC,gBAAMZ,S,WAMjCC,S,GAAY;AACjBP,aAAW,oBAAUQ,MADJ;AAEjBU,WAAS,oBAAUT,IAFF,E,UASZC,Y,GAAe;AACpBQ,WAAS,IADW;AAEpBlB,aAAW,EAFS,E;kBAfHgB,M;;;;;;;;;;;;;;;;;;ACJrB;;;;AACA;;;;;;;;;;;;;;ACDA;;AAEA;AACA;AACA;AACA;AACA,gDAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACpBA;AACA;;;AAGA;AACA,4CAA6C,gCAAgC,gCAAgC,yBAAyB,gBAAgB,EAAE,+BAA+B,gCAAgC,6BAA6B,4BAA4B,0BAA0B,0BAA0B,wBAAwB,wBAAwB,uBAAuB,mBAAmB,kBAAkB,kBAAkB,EAAE,mCAAmC,yBAAyB,mBAAmB,eAAe,EAAE,8CAA8C,0BAA0B,qBAAqB,EAAE,yBAAyB,uBAAuB,uBAAuB,iBAAiB,EAAE,yBAAyB,2CAA2C,uBAAuB,gBAAgB,EAAE,kCAAkC,8BAA8B,8BAA8B,uBAAuB,uBAAuB,qBAAqB,kBAAkB,iBAAiB,gBAAgB,EAAE,wCAAwC,8BAA8B,8BAA8B,EAAE,0CAA0C,uBAAuB,oBAAoB,mBAAmB,cAAc,EAAE,yCAAyC,yBAAyB,mBAAmB,EAAE;;AAEr1C;;;;;;;;ACPA;AACA;;;AAGA;AACA,mDAAoD,mBAAmB,EAAE,4BAA4B,iBAAiB,EAAE,kCAAkC,sBAAsB,EAAE,mCAAmC,wBAAwB,0BAA0B,mBAAmB,uBAAuB,uBAAuB,2BAA2B,oBAAoB,uBAAuB,oBAAoB,wBAAwB,kCAAkC,kBAAkB,iCAAiC,gCAAgC,2BAA2B,gBAAgB,iBAAiB,gBAAgB,EAAE,+EAA+E,2BAA2B,EAAE,mDAAmD,wBAAwB,sBAAsB,oBAAoB,iBAAiB,gBAAgB,EAAE,oFAAoF,0BAA0B,EAAE,2CAA2C,uBAAuB,EAAE,kDAAkD,gBAAgB,EAAE,gDAAgD,0BAA0B,iBAAiB,eAAe,8BAA8B,EAAE,iHAAiH,2BAA2B,EAAE,0CAA0C,8BAA8B,EAAE,+BAA+B,cAAc,EAAE,0CAA0C,0BAA0B,EAAE,4CAA4C,0BAA0B,EAAE,mDAAmD,0BAA0B,gBAAgB,gBAAgB,EAAE,0DAA0D,mBAAmB,kCAAkC,EAAE,kEAAkE,4BAA4B,iBAAiB,EAAE,mBAAmB,2CAA2C,+8CAA+8C,EAAE,mBAAmB,2CAA2C,mlDAAmlD,EAAE,uBAAuB,wEAAwE,uWAAuW,EAAE,oBAAoB,0EAA0E,mnBAAmnB,EAAE,mBAAmB,yEAAyE,uvCAAuvC,EAAE,sBAAsB,4EAA4E,utBAAutB,EAAE,+CAA+C,mBAAmB,EAAE,qDAAqD,qBAAqB,0BAA0B,kBAAkB,0BAA0B,EAAE,2BAA2B,cAAc,eAAe,EAAE,8BAA8B,0BAA0B,gBAAgB,2BAA2B,EAAE,8CAA8C,2BAA2B,gBAAgB,iBAAiB,2BAA2B,yBAAyB,oBAAoB,EAAE,qDAAqD,8BAA8B,gBAAgB,iBAAiB,EAAE,4BAA4B,wBAAwB,EAAE,gCAAgC,yCAAyC,mCAAmC,6BAA6B,2BAA2B,yBAAyB,mBAAmB,kBAAkB,gBAAgB,EAAE,mBAAmB,yCAAyC,iBAAiB,EAAE,yBAAyB,sBAAsB,EAAE;;AAE//S;;;;;;;;ACPA;AACA;;;AAGA;AACA,4KAA6K,0BAA0B,cAAc,eAAe,6BAA6B,yBAAyB,iBAAiB,mFAAmF,yBAAyB,KAAK,2BAA2B,2BAA2B,KAAK,sBAAsB,wBAAwB,EAAE,uCAAuC,gCAAgC,KAAK,sFAAsF,wBAAwB,kBAAkB,2BAA2B,KAAK,mBAAmB,yBAAyB,aAAa,cAAc,gBAAgB,eAAe,KAAK,eAAe,2BAA2B,cAAc,eAAe,iBAAiB,kBAAkB,KAAK,aAAa,2BAA2B,cAAc,gBAAgB,iBAAiB,iBAAiB,qBAAqB,KAAK,mCAAmC,iBAAiB,sBAAsB,KAAK,kBAAkB,yBAAyB,KAAK,sBAAsB,2BAA2B,cAAc,eAAe,gBAAgB,iBAAiB,KAAK,mCAAmC,4BAA4B,KAAK,iCAAiC,uBAAuB,KAAK,sBAAsB,0BAA0B,iBAAiB,qBAAqB,mBAAmB,kBAAkB,wBAAwB,gCAAgC,0BAA0B,oBAAoB,KAAK,eAAe,sBAAsB,2BAA2B,sBAAsB,iBAAiB,gBAAgB,oBAAoB,KAAK,qBAAqB,+BAA+B,KAAK,mBAAmB,sBAAsB,KAAK,oCAAoC,oCAAoC,KAAK,qCAAqC,uBAAuB,0BAA0B,gBAAgB,gBAAgB,iBAAiB,iBAAiB,qBAAqB,KAAK,mNAAmN,iCAAiC,oCAAoC,4BAA4B,8BAA8B,8BAA8B,KAAK,6DAA6D,sBAAsB,KAAK,4DAA4D,sBAAsB,KAAK,4EAA4E,sBAAsB,KAAK,2CAA2C,sBAAsB,KAAK,gDAAgD,sBAAsB,KAAK,0CAA0C,sBAAsB,KAAK,qHAAqH,kFAAkF,qIAAqI,kIAAkI,KAAK,aAAa,gFAAgF,mHAAmH,gHAAgH,KAAK,iBAAiB,0IAA0I,KAAK,yKAAyK,mBAAmB,2GAA2G,KAAK,WAAW,mBAAmB,2GAA2G,KAAK,WAAW,mBAAmB,2GAA2G,KAAK,WAAW,mBAAmB,2GAA2G,KAAK,WAAW,mBAAmB,2GAA2G,KAAK,WAAW,mBAAmB,2GAA2G,KAAK,oBAAoB,iCAAiC,KAAK,4DAA4D,eAAe,gBAAgB,EAAE,kBAAkB,aAAa,EAAE,YAAY,UAAU,EAAE,mHAAmH,mBAAmB,YAAY,EAAE,iBAAiB,WAAW,EAAE,kBAAkB,kBAAkB,EAAE,KAAK,iBAAiB,0BAA0B,mBAAmB,kBAAkB,8BAA8B,wBAAwB,uBAAuB,yBAAyB,aAAa,eAAe,KAAK,gBAAgB,2BAA2B,cAAc,uBAAuB,oBAAoB,mBAAmB,oBAAoB,+BAA+B,0BAA0B,oBAAoB,KAAK,2MAA2M,yBAAyB,kCAAkC,kCAAkC,mBAAmB,KAAK,6FAA6F,mHAAmH,mCAAmC,+BAA+B,KAAK,aAAa,2BAA2B,KAAK,mCAAmC,+BAA+B,KAAK,4CAA4C,oBAAoB,qBAAqB,2BAA2B,KAAK,+CAA+C,oBAAoB,KAAK,eAAe,kCAAkC,yBAAyB,wBAAwB,iBAAiB,mBAAmB,8BAA8B,0BAA0B,mBAAmB,KAAK,sBAAsB,iCAAiC,KAAK,mCAAmC,8BAA8B,yBAAyB,KAAK,iDAAiD,mBAAmB,2BAA2B,sBAAsB,8BAA8B,8BAA8B,KAAK,0BAA0B,qBAAqB,oCAAoC,KAAK,iDAAiD,qCAAqC,KAAK,gDAAgD,kBAAkB,KAAK,kCAAkC,uBAAuB,0BAA0B,mBAAmB,oBAAoB,qBAAqB,oBAAoB,wBAAwB,qCAAqC,KAAK,8EAA8E,6BAA6B,KAAK,kBAAkB,0BAA0B,KAAK,sCAAsC,oBAAoB,+BAA+B,KAAK,sBAAsB,oBAAoB,qBAAqB,oBAAoB,sBAAsB,mBAAmB,iBAAiB,KAAK,uCAAuC,oCAAoC,KAAK,6EAA6E,qBAAqB,KAAK,sGAAsG,iBAAiB,wBAAwB,uBAAuB,qBAAqB,6BAA6B,iBAAiB,yBAAyB,kCAAkC,yBAAyB,oBAAoB,+BAA+B,qBAAqB,oBAAoB,2BAA2B,KAAK,gDAAgD,8BAA8B,oBAAoB,KAAK,8BAA8B,uBAAuB,6BAA6B,sBAAsB,KAAK,YAAY,uBAAuB,qBAAqB,0BAA0B,mBAAmB,uBAAuB,KAAK,iBAAiB,0BAA0B,mBAAmB,qBAAqB,+BAA+B,0BAA0B,mBAAmB,mBAAmB,0BAA0B,oBAAoB,KAAK,qBAAqB,sBAAsB,yBAAyB,KAAK,8BAA8B,mBAAmB,qBAAqB,uBAAuB,kCAAkC,KAAK,uBAAuB,yBAAyB,KAAK,wFAAwF,gCAAgC,qEAAqE,6BAA6B,oCAAoC,yBAAyB,kBAAkB,sBAAsB,qBAAqB,uBAAuB,yBAAyB,gCAAgC,6BAA6B,KAAK,gCAAgC,kCAAkC,uEAAuE,+BAA+B,sCAAsC,wBAAwB,kCAAkC,KAAK,iCAAiC,+BAA+B,sCAAsC,qEAAqE,oEAAoE,iEAAiE,KAAK,gBAAgB,wBAAwB,kCAAkC,iBAAiB,oBAAoB,0BAA0B,+BAA+B,6BAA6B,SAAS,sBAAsB,kCAAkC,mCAAmC,KAAK,sEAAsE,2BAA2B,KAAK,8CAA8C,0BAA0B,6CAA6C,yHAAyH,KAAK,yDAAyD,sBAAsB,0BAA0B,cAAc,OAAO,SAAS,QAAQ,0BAA0B,KAAK,qCAAqC,qCAAqC,qCAAqC,KAAK,qEAAqE,6CAA6C,yTAAyT,KAAK,oEAAoE,6CAA6C,qdAAqd,KAAK,2BAA2B,oCAAoC,oCAAoC,6CAA6C,ixCAAixC,KAAK;;AAExyb;;;;;;;;;;;;;;;;ACNA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;kBAEe,4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXf;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;IAKMO,iB;;;AAEJ;AACA;AACA;AACA;AACA,6BAAa5F,MAAb,EAAqBC,OAArB,EAA8B;AAAA;;AAAA,4JAErBD,MAFqB,EAEbC,OAFa;;AAI5B,UAAK4F,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBzF,IAAvB,OAAzB;AACA,UAAK0F,cAAL,GAAsB,MAAKA,cAAL,CAAoB1F,IAApB,OAAtB;AACA,UAAK2F,cAAL,GAAsB,MAAKA,cAAL,CAAoB3F,IAApB,OAAtB;AACA,UAAKwD,WAAL,GAAmB,MAAKA,WAAL,CAAiBxD,IAAjB,OAAnB;;AAEA,UAAK4F,KAAL,GAAa/F,QAAQ+F,KAArB;AAT4B;AAU7B;;AAED;AACA;AACA;AACA;;;;;2BACQ;AAAA;;AAEN,WAAKA,KAAL,CAAWR,QAAX,CAAoB;;AAElBS,qBAAa,EAACC,MAAK,UAAN,EAAkBrE,IAAG,oBAArB,EAFK;AAGlBsE,eAAO,CACL,EAACD,MAAK,UAAN,EAAsBrE,IAAG,qBAAzB,EADK,EAEL,EAACqE,MAAK,cAAN,EAAsBrE,IAAG,iBAAzB,EAFK,EAGL,EAACqE,MAAK,cAAN,EAAsBrE,IAAG,iBAAzB,EAHK,CAHW;AAQlBuE,uBAAe,IARG;AASlBC,qBAAa,IATK;AAUlBC,oBAAY,IAVM;AAWlBC,mBAAW;;AAXO,OAApB,EAaGjE,IAbH,0EAaS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGC,OAAKtC,MAAL,CAAYwG,aAAZ,CACJ,8BADI,CAHD;;AAAA;AAEDH,2BAFC;AAAA;AAAA,uBAOC,OAAKrG,MAAL,CAAYwG,aAAZ,CACN,oBADM,EACgB;AACpBH;AADoB,iBADhB,CAPD;;AAAA;AAMDE,yBANC;;;AAYPA,0BAAUE,KAAV,CAAgBC,qBAAhB,CAAsC,UAACC,IAAD,EAAU;;AAE9C,sBAAI,CAACA,IAAL,EAAW;;AAET,2BAAKC,mBAAL;AACD;AACF,iBAND;;AAQMC,yCApBC,GAoB2B;AAChCC,uCAAqB,+BAAM;AACzB,2BAAO,kBAAQ1D,OAAR,EAAP;AACD,mBAH+B;AAIhC2D,sCAAoB,8BAAM;AACxB,2BAAO,kBAAQ3D,OAAR,EAAP;AACD;AAN+B,iBApB3B;AAAA;AAAA,uBA8BC,OAAKpD,MAAL,CAAYgH,oBAAZ,CACJ,iCADI,EAC+B;AACnCC,yCAAuB,gBADY;AAEnCjB,yBAAOa,yBAF4B;AAGnCK,oCAAkB,IAHiB;AAInCC,gCAAc,IAJqB;AAKnC1B,4BAAU;AALyB,iBAD/B,CA9BD;;AAAA;AA6BDW,6BA7BC;;;AAuCPA,8BAAc3D,EAAd,CAAiB,kBAAjB,EACE,OAAKoD,iBADP;;AAGAO,8BAAc3D,EAAd,CAAiB,eAAjB,EACE,OAAKsD,cADP;;AAGAK,8BAAc3D,EAAd,CAAiB,eAAjB,EACE,OAAKqD,cADP;;AAGA,uBAAKE,KAAL,CAAWR,QAAX,CAAoB;AAClBc,8BAAY,KADM;AAElBF,8CAFkB;AAGlBC,0CAHkB;AAIlBE;AAJkB,iBAApB;;AAOA,uBAAKP,KAAL,CAAWc,mBAAX;;AAvDO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAbT;;AAuEAM,cAAQC,GAAR,CAAY,mCAAZ;;AAEA,aAAO,IAAP;AACD;;AAED;AACA;AACA;AACA;;;;;;AAeA;AACA;AACA;AACA;6BACU;;AAERD,cAAQC,GAAR,CAAY,qCAAZ;;AAEA;;AAEA,aAAO,IAAP;AACD;;AAED;AACA;AACA;AACA;;;;sCACmB1F,K,EAAO;;AAExB,UAAM2F,MAAM,KAAKtH,MAAL,CAAYuH,UAAxB;;AAEAD,UAAIE,aAAJ;;AAEA,WAAKxH,MAAL,CAAYyH,OAAZ,CAAoBC,eAApB,CACEJ,IAAIK,SAAJ,EADF;;AAGA,WAAK1H,OAAL,CAAa2H,MAAb,CAAoBjB,IAApB,CAAyB,KAAzB;AACD;;AAED;AACA;AACA;AACA;;;;;6GACsBV,W;;;;;;;kCAGlB,KAAKD,KAAL,CAAW6B,QAAX,E,EADKzB,a,mBAAAA,a,EAAeC,W,mBAAAA,W,EAAaE,S,mBAAAA,S;;uBAG7B,KAAKP,KAAL,CAAWR,QAAX,CAAoB;AACtBS;AADsB,iBAApB,C;;;+BAIEA,YAAYpE,E;kDAEb,qB,wBAkBA,iB,yBAWA,iB;;;;wCA3BauE,cAAcJ,KAAd,CAAoB6B,QAApB,E,EAATC,K,yBAAAA,K;;uBAED1B,cAAcJ,KAAd,CAAoBR,QAApB,CAA6B;AACjCsC,yBAAOA,MAAMzG,GAAN,CAAU,UAAC0G,IAAD,EAAU;AACzB,2BAAO,sBAAc,EAAd,EAAkBA,IAAlB,EAAwB;AAC7BC,8BAAO;AADsB,qBAAxB,CAAP;AAGD,mBAJM,CAD0B;AAMjCC,kCAAgB,IANiB;AAOjCC,iCAAe,IAPkB;AAQjCzC,4BAAU;AARuB,iBAA7B,C;;;AAUNc,0BAAUE,KAAV,CAAgB0B,UAAhB,CAA2B,KAA3B;AACA9B,4BAAY+B,IAAZ;;;;;uBAKMhC,cAAcJ,KAAd,CAAoBR,QAApB,CAA6B;AACjCyC,kCAAgB,IADiB;AAEjCC,iCAAe,KAFkB;AAGjCzC,4BAAU;AAHuB,iBAA7B,C;;;AAKNc,0BAAUE,KAAV,CAAgB0B,UAAhB,CAA2B,KAA3B;AACA9B,4BAAYM,IAAZ;;;;;uBAKMP,cAAcJ,KAAd,CAAoBR,QAApB,CAA6B;AACjCyC,kCAAgB,KADiB;AAEjCC,iCAAe,IAFkB;AAGjCzC,4BAAU;AAHuB,iBAA7B,C;;;AAKNc,0BAAUE,KAAV,CAAgB0B,UAAhB,CAA2B,IAA3B;AACA9B,4BAAYM,IAAZ;;;;;;;;;;;;;;;;;;AAKN;AACA;AACA;AACA;;;;0CACuB;AAAA,6BAEC,KAAKX,KAAL,CAAW6B,QAAX,EAFD;AAAA,UAEd5B,WAFc,oBAEdA,WAFc;;AAIrB,UAAIA,YAAYpE,EAAZ,KAAmB,iBAAvB,EAA0C;;AAExC,aAAKwG,cAAL,CAAoB;AAClBxG,cAAG,iBADe;AAElBqE,gBAAM;AAFY,SAApB;AAID;AACF;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;6BACUoC,W,EAAa;AAAA,6BAEc,KAAKtC,KAAL,CAAW6B,QAAX,EAFd;AAAA,UAEdxB,WAFc,oBAEdA,WAFc;AAAA,UAEDJ,WAFC,oBAEDA,WAFC;;AAIrB,UAAIA,YAAYpE,EAAZ,KAAmB,iBAAvB,EAA0C;;AAExCyG,oBAAYC,QAAZ,GAAuB;AACrBC,gBAAMnC,YAAYoC,YAAZ;AADe,SAAvB;AAGD;AACF;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;sCACmBC,Q,EAAU;AAAA,6BAEL,KAAK1C,KAAL,CAAW6B,QAAX,EAFK;AAAA,UAEpBxB,WAFoB,oBAEpBA,WAFoB;;AAI3BqC,eAASC,QAAT,CAAkBjH,OAAlB,CAA0B,UAACG,EAAD,EAAQ;;AAEhCwE,oBAAYuC,aAAZ,CAA0B/G,EAA1B;AACD,OAHD;AAID;;AAED;AACA;AACA;AACA;;;;mCACgBgH,O,EAAS;AAAA,6BAED,KAAK7C,KAAL,CAAW6B,QAAX,EAFC;AAAA,UAEhBxB,WAFgB,oBAEhBA,WAFgB;;AAIvBA,kBAAYuC,aAAZ,CAA0BC,OAA1B;AACD;;AAED;AACA;AACA;AACA;;;;mCACgBP,W,EAAa;;AAE3B,UAAIA,YAAYC,QAAhB,EAA0B;AAAA,+BAEF,KAAKvC,KAAL,CAAW6B,QAAX,EAFE;AAAA,YAEjBxB,WAFiB,oBAEjBA,WAFiB;;AAAA,YAIjBmC,IAJiB,GAITF,YAAYC,QAJH,CAIjBC,IAJiB;;;AAMxBF,oBAAYN,MAAZ,GACI3B,YAAYyC,WAAZ,CAAwBN,IAAxB,EAA8BF,YAAYzG,EAA1C,CADJ,GAEIwE,YAAYuC,aAAZ,CAA0BN,YAAYzG,EAAtC,CAFJ;AAGD;AACF;;AAED;AACA;AACA;AACA;;;;;6GACkBkH,M;;;;;;AAEVlH,kB,GAAK+D,kBAAkBoD,W;;qBAEzBD,M;;;;;;uBAEI,KAAK/C,KAAL,CAAWe,kBAAX,CAA8BlF,EAA9B,C;;;;AAEN,qBAAKmE,KAAL,CAAWiD,eAAX,CAA2B,IAA3B,EAAiC;AAC/B1E,0BAAQ,GADuB;AAE/BU,yBAAO;AAFwB,iBAAjC;;;;;;;uBAOM,KAAKe,KAAL,CAAWkD,cAAX,CAA0BrH,EAA1B,C;;;;AAEN,qBAAKmE,KAAL,CAAWc,mBAAX,CAA+B,IAA/B;;;;;;;;;;;;;;;;;AAIJ;AACA;AACA;AACA;;;;kCACe;AAAA;;AAEb,UAAMxB,QAAQ,KAAKU,KAAL,CAAW6B,QAAX,EAAd;;AAEA,UAAMsB,YAAY7D,MAAMa,KAAN,CAAY9E,GAAZ,CAAgB,UAAC0G,IAAD,EAAU;AAC1C,eACE;AAAA;AAAA,YAAU,UAAUA,KAAKlG,EAAzB,EAA6B,KAAKkG,KAAKlG,EAAvC;AACE,qBAAS,mBAAM;AACb,qBAAKwG,cAAL,CAAqBN,IAArB;AACD,aAHH;AAIIA,eAAK7B;AAJT,SADF;AAQD,OATiB,CAAlB;;AAWA,aACE;AAAA;AAAA,UAAK,WAAU,OAAf;AACE;AAAA;AAAA;AAAA;AAAA,SADF;AAKE;AAAA;AAAA;AACE,mBAAO,WAAWZ,MAAMW,WAAN,CAAkBC,IADtC;AAEE,iBAAI,oBAFN;AAGE,gBAAG,oBAHL;AAIGiD;AAJH;AALF,OADF;AAeD;;AAED;AACA;AACA;AACA;;;;oCACiB;AAAA,6BAGb,KAAKnD,KAAL,CAAW6B,QAAX,EAHa;AAAA,UAERzB,aAFQ,oBAERA,aAFQ;AAAA,UAEOE,UAFP,oBAEOA,UAFP;;AAKf,UAAM8C,OAAO;AACXzF,mBAAW;AADA,OAAb;;AAIA,aACE;AAAA;AAAA,UAAK,WAAU,SAAf;AACE,6DAAa,MAAM2C,UAAnB,GADF;AAGIF,yBAAiBA,cAAciD,MAAd,CAAqBD,IAArB;AAHrB,OADF;AAQD;;AAED;AACA;AACA;AACA;;;;2BACQA,I,EAAM;AAAA;;AAEZ,aACE;AAAA;AAAA;AACE,uBAAa;AAAA,mBAAM,OAAKxF,WAAL,CAAiBwF,KAAKL,MAAtB,CAAN;AAAA,WADf;AAEE,qBAAWK,KAAKzF,SAFlB;AAGE,qBAAW,KAAKU,SAHlB;AAKI,aAAKiF,aAAL;AALJ,OADF;AAUD;;;wBArTe;;AAEd,aAAO,WAAP;AACD;;AAED;AACA;AACA;AACA;;;;wBAC0B;;AAExB,aAAO,4BAAP;AACD;;;qBAtIH;AACA;AACA;AACA;AACA;;;AA8aApH,SAASC,OAAT,CAAiBoH,mBAAjB,CAAqCC,iBAArC,CACE5D,kBAAkBoD,WADpB,EAEEpD,iBAFF;;kBAIe,4B;;;;;;;;;;;;;;ACtbf,CAAC,YAAU;;AAEP,QAAI6D,YAAYC,kBAAkB,qBAAlB,CAAhB;;AAEA,QAAIC,QAAQF,UAAUE,KAAtB;AAAA,QACIC,SAASD,MAAMC,MADnB;;AAGA,QAAIC,mBAAmB,SAAnBA,gBAAmB,CAAUC,eAAV,EAA2B;AAC9C,YAAIC,UAAUD,gBAAgBE,gBAAhB,CAAiC,SAAjC,CAAd;AACAJ,eAAOG,OAAP,EAAgB1I,GAAhB,CAAoB,UAAS4I,GAAT,EAAa;AAC7BA,gBAAIC,SAAJ,CAAcC,MAAd,CAAqB,QAArB;AACH,SAFD;AAGH,KALD;;AAOA,aAASC,WAAT,CAAqBC,OAArB,EAA8B;AAC1B,aAAKC,IAAL,GAAYD,OAAZ;;AAEA,aAAKhB,MAAL;AACA,aAAKkB,cAAL;AACA,aAAKC,aAAL,GAAqB,IAArB;;AAEAC,eAAOC,cAAP,CAAsB,IAAtB,EAA4B,OAA5B,EAAqC;AACjCC,iBAAM,eAAW;AACb,uBAAO,KAAKH,aAAZ;AACH,aAHgC;AAIjCI,iBAAM,aAASC,GAAT,EAAa;AACf,oBAAI,KAAKL,aAAL,KAAuBK,GAA3B,EAAgC;;AAEhC,qBAAKL,aAAL,GAAqBK,GAArB;;AAEAhB,iCAAiB,KAAKS,IAAtB;AACA;AACA,oBAAID,UAAU,KAAKC,IAAL,CAAUQ,aAAV,CAAwB,kBAAkBD,GAAlB,GAAwB,IAAhD,CAAd;AACAR,wBAAQH,SAAR,CAAkBa,GAAlB,CAAsB,QAAtB;AACH;AAbgC,SAArC;;AAgBAC,eAAOC,WAAP,GAAqB,IAArB;AACH;;AAED,QAAIC,QAAQd,YAAYe,SAAxB;;AAEAD,UAAM7B,MAAN,GAAe,YAAY;AACvB,YAAI+B,gBAAgB,KAChB,mCADgB,GAEhB,OAFJ;AAGA,aAAKd,IAAL,CAAUe,SAAV,GAAsBD,aAAtB;AACH,KALD;;AAOAF,UAAMzI,EAAN,GAAW,UAAU6I,SAAV,EAAqBC,QAArB,EAA+BC,QAA/B,EAAyC;AAChD,aAAKlB,IAAL,CAAUvH,gBAAV,CAA2BuI,SAA3B,EAAsC,UAAS3J,KAAT,EAAe;AACjD,gBAAI8J,SAAS9J,MAAM8J,MAAnB;AACA,gBAAI9B,MAAM+B,eAAN,CAAsBD,MAAtB,EAA8BF,QAA9B,CAAJ,EAA6CC,SAAS7J,KAAT;AAChD,SAHD;AAIH,KALD;;AAOAuJ,UAAMX,cAAN,GAAuB,YAAY;AAC/B,aAAK9H,EAAL,CAAQ,OAAR,EAAiB,oBAAjB,EAAuC,UAASd,KAAT,EAAe;AAClD,gBAAI8J,SAAS9J,MAAM8J,MAAnB;AACA,iBAAKE,KAAL,GAAaF,OAAOG,YAAP,CAAoB,YAApB,CAAb;;AAEA,iBAAKtB,IAAL,CAAUuB,aAAV,CAAwB,IAAIC,WAAJ,CAAgB,QAAhB,EAA0B;AAC9CC,yBAAS,IADqC;AAE9CC,wBAAQ;AACJC,4BAAQ;AADJ;AAFsC,aAA1B,CAAxB;AAMH,SAVsC,CAUrC7L,IAVqC,CAUhC,IAVgC,CAAvC;AAWH,KAZD;;AAcA8K,UAAMgB,UAAN,GAAmB,UAAUC,UAAV,EAAsB;AACrC,YAAIC,SAASD,UAAb;AACA,YAAIrE,QAAQsE,OAAO/K,GAAP,CAAW,UAASgL,KAAT,EAAe;AAClC,gBAAIC,WAAWD,MAAMV,KAAN,KAAgB,KAAKnB,aAApC;AACA,gBAAI+B,SAAS,KACT,MADS,GAEL,OAFK,GAGD,2BAHC,IAG8BD,WAAW,QAAX,GAAsB,EAHpD,IAG0D,IAH1D,GAID,2BAJC,GAI6BD,MAAMV,KAJnC,GAI2C,IAJ3C,GAKD,cALC,GAKgBU,MAAMV,KALtB,GAK8B,UAL9B,GAMT,OANJ;AAOA,mBAAOY,MAAP;AACH,SAVsB,CAUrBnM,IAVqB,CAUhB,IAVgB,CAAX,CAAZ;;AAYA,YAAIoM,KAAK,KAAKlC,IAAL,CAAUQ,aAAV,CAAwB,IAAxB,CAAT;AACA0B,WAAGnB,SAAH,GAAevD,MAAMtD,IAAN,CAAW,EAAX,CAAf;AACH,KAhBD;;AAkBAiF,cAAUW,WAAV,GAAwBA,WAAxB;AACH,CAzFD,I;;;;;;;;;;;;;;;;;;;;ACAA,CAAC,YAAU;;AAET,MAAIX,YAAYC,kBAAkB,qBAAlB,CAAhB;AACA,MAAI+C,gBAAgB/C,kBAAkB,0CAAlB,CAApB;AACA,MAAIgD,iBAAiBhD,kBAAkB,gDAAlB,CAArB;;AAEA,MAAIC,QAAQF,UAAUE,KAAtB;AAAA,MACEC,SAASD,MAAMC,MADjB;AAAA,MAEE+C,cAAchD,MAAMgD,WAFtB;AAAA,MAGEC,gBAAgBjD,MAAMiD,aAHxB;;AAKA,MAAIC,sBAAsBpD,UAAUoD,mBAApC;;AAEA,MAAIC,sBAAsB,SAAtBA,mBAAsB,CAAUnB,KAAV,EAAiB;AACzC,QAAIoB,SAASpB,KAAb;AACA;AACA,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,UAAIqB,kBAAkB,IAAIC,MAAJ,CAAWtB,KAAX,CAAtB;AACA,UAAIuB,WAAW,CAACC,MAAMH,eAAN,CAAhB;AACA,UAAIE,QAAJ,EAAc;AACZ;AACA;AACAH,iBAASC,gBAAgBI,OAAhB,EAAT;AACD,OAJD,MAIO;AACL;AACA,YAAIzB,UAAU,MAAV,IAAoBA,UAAU,OAAlC,EAA2C;AACzCoB,mBAAUpB,UAAU,MAApB;AACD;AACF;AACF;AACD,WAAOoB,MAAP;AACD,GAlBD;;AAoBA,WAASM,YAAT,CAAsBrN,MAAtB,EAA8BqG,WAA9B,EAA2C;;AAEzC,SAAKrG,MAAL,GAAcA,MAAd;AACA,SAAKqG,WAAL,GAAmBA,WAAnB;AACAnE,aAASC,OAAT,CAAiBmL,EAAjB,CAAoBC,YAApB,CAAiCC,IAAjC,CAAsC,IAAtC,EAA4CxN,OAAOyN,SAAnD,EAA8D,cAA9D,EAA8E,eAA9E,EAA+F,IAA/F;;AAEA;AACA;AACA,SAAKA,SAAL,CAAehJ,KAAf,CAAqBiJ,GAArB,GAA2B,MAA3B;AACA,SAAKD,SAAL,CAAehJ,KAAf,CAAqBkJ,IAArB,GAA4B,MAA5B;AACA,SAAKF,SAAL,CAAehJ,KAAf,CAAqBQ,KAArB,GAA6B,OAA7B;AACA,SAAKwI,SAAL,CAAehJ,KAAf,CAAqBF,MAArB,GAA8B,OAA9B;AACA;;AAEA,SAAK8E,MAAL;AACA,SAAKuE,iBAAL;AACA,SAAKrD,cAAL;AACA,SAAKsD,gBAAL;AACD;;AAEDR,eAAalC,SAAb,GAAyB,sBAAcjJ,SAASC,OAAT,CAAiBmL,EAAjB,CAAoBC,YAApB,CAAiCpC,SAA/C,CAAzB;AACAjJ,WAASC,OAAT,CAAiB2L,UAAjB,CAA4BC,gBAA5B,CAA6CP,IAA7C,CAAkDH,aAAalC,SAA/D;;AAEA,MAAID,QAAQmC,aAAalC,SAAzB;;AAEAD,QAAM8C,QAAN,GAAiB,YAAY;AAC3B,WAAO,CAAC,eAAD,CAAP;AACD,GAFD;;AAIA9C,QAAM+C,OAAN,GAAgB,YAAY;AAC1B,WAAO,KAAKD,QAAL,GAAgB,CAAhB,CAAP;AACD,GAFD;;AAIA9C,QAAM7B,MAAN,GAAe,YAAY;AACzB,QAAI+B,gBAAgB,KAClB,qCADkB,GAElB,0BAFkB,GAGlB,8CAHkB,GAIlB,8BAJkB,GAKlB,oFALkB,GAMlB,iFANkB,GAOlB,QAPkB,GAQlB,8CARkB,GASlB,8BATkB,GAUlB,qDAVkB,GAWlB,qDAXkB,GAYlB,yDAZkB,GAalB,QAbkB,yxBAkClB,QAlCkB,GAmClB,QAnCkB,GAoClB,QApCkB,GAqClB,QArCkB,GAsClB,iCAtCkB,GAuClB,OAvCkB,GAwClB,yBAxCkB,GAyClB,mEAzCkB,GA0ClB,QA1CkB,GA2ClB,6DA3CkB,GA4ClB,qEA5CkB,GA6ClB,QA7CkB,GA8ClB,QA9CkB,GA+ClB,OA/CkB,GAgDlB,uBAhDkB,GAiDlB,QAjDkB,GAkDlB,2DAlDkB,GAmDlB,mEAnDkB,GAoDlB,QApDkB,GAqDlB,QArDkB,GAsDlB,OAtDkB,GAuDlB,uBAvDkB,GAwDlB,gEAxDkB,GAyDlB,qEAzDkB,GA0DlB,sEA1DkB,GA2DlB,yFA3DkB,GA4DlB,QA5DkB,GA6DlB,kEA7DkB,GA8DlB,QA9DkB,GA+DlB,QA/DkB,GAgElB,6BAhEkB,GAiElB,kDAjEkB,GAkElB,mDAlEkB,GAmElB,QAnEkB,GAoElB,QApEF;AAqEA,SAAK8C,qBAAL,CAA2B,EAA3B;AACA,SAAKC,eAAL,CAAqB9C,SAArB,GAAiCD,aAAjC;AACA,SAAKgD,OAAL,GAAe,KAAKD,eAAL,CAAqBrD,aAArB,CAAmC,iCAAnC,CAAf;AACA,SAAKuD,OAAL,GAAe,KAAKF,eAAL,CAAqBrD,aAArB,CAAmC,iCAAnC,CAAf;AACA,SAAKwD,gBAAL,GAAwB,KAAKH,eAAL,CAAqBrD,aAArB,CAAmC,mCAAnC,CAAxB;;AAEA;AACA,SAAKyD,aAAL,GAAqB,EAArB;AACA,QAAIC,gBAAgB,KAAKL,eAAL,CAAqBnE,gBAArB,CAAsC,qBAAtC,CAApB;AACAJ,WAAO4E,aAAP,EAAsBnN,GAAtB,CAA0B,UAASgJ,OAAT,EAAiB;AACzC,UAAI5F,QAAQ4F,QAAQuB,YAAR,CAAqB,mBAArB,CAAZ;AACA,WAAK2C,aAAL,CAAmB9J,KAAnB,IAA4BoI,oBAAoB4B,MAApB,CAA2BpE,OAA3B,CAA5B;AACD,KAHyB,CAGxBjK,IAHwB,CAGnB,IAHmB,CAA1B;AAID,GAnFD;;AAqFA,MAAIyJ,mBAAmB,SAAnBA,gBAAmB,CAAU6E,gBAAV,EAA4B;AACjD,QAAIC,aAAa,EAAjB;AACA,QAAID,4BAA4BE,WAAhC,EACED,aAAa,CAACD,gBAAD,CAAb,CADF,KAGEC,aAAa/E,OAAO8E,gBAAP,CAAb;;AAEFC,eAAWtN,GAAX,CAAe,UAASwN,CAAT,EAAW;AACxB,UAAI9E,UAAU8E,EAAE7E,gBAAF,CAAmB,eAAnB,CAAd;AACAJ,aAAOG,OAAP,EAAgB1I,GAAhB,CAAoB,UAAS4I,GAAT,EAAa;AAC/BA,YAAIC,SAAJ,CAAcC,MAAd,CAAqB,QAArB;AACD,OAFD;AAGD,KALD;AAMD,GAbD;;AAeAe,QAAM4D,mBAAN,GAA4B,UAAUC,IAAV,EAAgB;AAC1C,QAAIxD,WAAW,4BAA4BwD,IAA5B,GAAmC,IAAlD;AACA,WAAO,KAAKtB,SAAL,CAAe3C,aAAf,CAA6BS,QAA7B,CAAP;AACD,GAHD;;AAKAL,QAAM8D,uBAAN,GAAgC,YAAY;AAC1C,QAAIC,MAAM,KAAKH,mBAAL,CAAyB,OAAzB,CAAV;AACA,SAAKI,cAAL,CAAoB,OAApB;AACA,SAAKC,sBAAL,CAA4BF,GAA5B;AACD,GAJD;;AAMA/D,QAAMkE,cAAN,GAAuB,UAASC,OAAT,EAAkB;AACvC,QAAIhJ,cAAc,KAAKA,WAAvB;AACA,QAAIgJ,OAAJ,EAAa;AACXhJ,kBAAYiJ,aAAZ;AACA,WAAKN,uBAAL;AACD,KAHD,MAGO;AACL3I,kBAAYkJ,aAAZ;AACD;AACF,GARD;;AAUArE,QAAM0C,iBAAN,GAA0B,YAAY;AACpC,SAAKlH,qBAAL,CAA2B,KAAK0I,cAAL,CAAoBhP,IAApB,CAAyB,IAAzB,CAA3B;AACD,GAFD;;AAIA8K,QAAMiE,sBAAN,GAA+B,UAAU9E,OAAV,EAAmBpK,OAAnB,EAA4B;AACzD,QAAIuP,iBAAiBnF,QAAQuB,YAAR,CAAqB,sBAArB,CAArB;AACA;AACA/B,qBAAiB,KAAK4D,SAAL,CAAezD,gBAAf,CAAgC,kCAAhC,CAAjB;AACAK,YAAQH,SAAR,CAAkBa,GAAlB,CAAsB,QAAtB;;AAEA0E,+BAA2BrP,IAA3B,CAAgC,IAAhC,EAAsCH,OAAtC;AACA,SAAKyP,eAAL;AACD,GARD;;AAUA,MAAIC,oBAAoB,SAApBA,iBAAoB,CAAUtF,OAAV,EAAmB;AACzC,QAAIV,MAAM+B,eAAN,CAAsBrB,QAAQuF,aAA9B,EAA6C,OAA7C,CAAJ,EAA2D;AACzDvF,cAAQuF,aAAR,CAAsBnL,KAAtB,CAA4BoL,OAA5B,GAAsC,cAAtC;AACD,KAFD,MAEO;AACLxF,cAAQ5F,KAAR,CAAcoL,OAAd,GAAwB,cAAxB;AACD;AACF,GAND;;AAQA,MAAIC,iBAAiB,SAAjBA,cAAiB,CAAUzF,OAAV,EAAmB;AACtC,QAAIV,MAAM+B,eAAN,CAAsBrB,QAAQuF,aAA9B,EAA6C,OAA7C,CAAJ,EAA2D;AACzD;AACA;AACAvF,cAAQuF,aAAR,CAAsBnL,KAAtB,CAA4BoL,OAA5B,GAAsC,MAAtC;AACD,KAJD,MAIO;AACLxF,cAAQ5F,KAAR,CAAcoL,OAAd,GAAwB,MAAxB;AACD;AACF,GARD;;AAUA3E,QAAM6E,cAAN,GAAuB,YAAY;AACjC;AACA,QAAIC,WAAW,KAAKvC,SAAL,CAAezD,gBAAf,CAAgC,qBAAhC,CAAf;AACA,WAAOJ,OAAOoG,QAAP,CAAP;AACD,GAJD;;AAMA9E,QAAM+E,eAAN,GAAwB,YAAY;AAClC,SAAKF,cAAL,GAAsB1O,GAAtB,CAA0ByO,cAA1B;AACD,GAFD;;AAKA,MAAIL,6BAA6B,SAA7BA,0BAA6B,GAAY;;AAE3C,QAAIpJ,cAAc,KAAKrG,MAAL,CAAYkQ,YAAZ,CAAyB,8BAAzB,CAAlB;;AAEA,QAAIC,gBAAgB,KAAK9J,WAAL,CAAiB+J,QAAjB,EAApB;AACA,QAAIC,gBAAgB3D,eAAe4D,qBAAf,CAAqCH,aAArC,EAAoD9J,WAApD,CAApB;AACA,SAAK4J,eAAL;;AAEA;AACA,SAAI,IAAIM,WAAR,IAAuBF,aAAvB,EAAqC;AACnC,UAAIG,gBAAgBH,cAAcE,WAAd,CAApB;AACA,UAAIE,eAAe,KAAKhD,SAAL,CAAe3C,aAAf,CAA6B,yBAAyByF,WAAzB,GAAuC,IAApE,CAAnB;AACA,UAAIG,YAAJ;;AAEA;AACA;AACA,UAAI,CAACD,YAAL,EAAmB;AACjB;AACD;;AAED;AACA;AACAC,qBAAe,KAAKnC,aAAL,CAAmBgC,WAAnB,CAAf;;AAGAC,oBAAcG,MAAd,GAAuBH,cAAcG,MAAd,CAAqBtP,GAArB,CAAyB,UAASuP,CAAT,EAAW;AACzD,eAAO;AACL/M,iBAAO+M,EAAE1K,IADJ;AAELyF,iBAAOiF,EAAEjF,KAFJ;AAGL;AACAkF,iBAAO;AACLlF,mBAAOiF,EAAEjF,KADJ;AAELlH,mBAAO,mBAAmBmM,EAAEjF,KAArB,GAA6B;AAF/B;AAJF,SAAP;AASD,OAVsB,CAAvB;;AAYA+E,mBAAaxE,UAAb,CAAwBsE,cAAcG,MAAtC;AACAhB,wBAAkBc,YAAlB;;AAEAC,mBAAa/E,KAAb,GAAqBwE,cAAcI,WAAd,KAA8BC,cAAcG,MAAd,CAAqBH,cAAc,SAAd,CAArB,EAA+C7E,KAAlG;AACD;;AAED;AACA;AACA/B,WAAO,KAAK6D,SAAL,CAAezD,gBAAf,CAAgC,0BAAhC,CAAP,EAAoE3I,GAApE,CAAwE,UAASyP,GAAT,EAAa;AACnF;AACAA,UAAIrM,KAAJ,CAAUoL,OAAV,GAAoB,MAApB;AACA;AACA;AACAjG,aAAOkH,IAAI9G,gBAAJ,CAAqB,eAArB,CAAP,EAA8C3I,GAA9C,CAAkD,UAAS0P,OAAT,EAAiB;AACjE;AACA,YAAIA,QAAQtM,KAAR,CAAcoL,OAAd,KAA0B,MAA9B,EAAsC;AACpC;AACAiB,cAAIrM,KAAJ,CAAUoL,OAAV,GAAoB,OAApB;AACD;AACF,OAND;AAOD,KAZD;AAaD,GA1DD;;AA4DA3E,QAAM8F,aAAN,GAAsB,UAASC,QAAT,EAAkB;AACtC,SAAKjR,MAAL,CAAYkR,uBAAZ,CAAoCD,QAApC;AACA,SAAK5K,WAAL,CAAiB8K,eAAjB,CAAiC,CAAC,CAACF,QAAnC;AACD,GAHD;;AAKA/F,QAAMgE,cAAN,GAAuB,UAAUH,IAAV,EAAgB;AACrC,QAAI1K,YAAY,aAAasI,YAAYoC,IAAZ,CAA7B;AACA,QAAIqC,WAAW,IAAIlP,SAASC,OAAT,CAAiB2L,UAAjB,CAA4BuD,OAA5B,CAAoCC,IAApC,CAAyCjN,SAAzC,CAAJ,CAAwD,KAAKgC,WAA7D,CAAf;AACA,SAAKA,WAAL,CAAiBkL,cAAjB,CAAgCH,QAAhC;AACD,GAJD;;AAMAlG,QAAMX,cAAN,GAAuB,YAAY;AACjC,QAAIiH,OAAO,IAAX;;AAEA,QAAIC,mBAAmB,SAAnBA,gBAAmB,CAAU9P,KAAV,EAAiB;AACtC;AACA,UAAI8J,SAAS9J,MAAM8J,MAAnB;AACA,UAAI+D,iBAAiB/D,OAAOG,YAAP,CAAoB,sBAApB,CAArB;;AAEA;AACA4F,WAAKR,aAAL,CAAmB,IAAnB;AACA;AACAQ,WAAKtC,cAAL,CAAoBM,cAApB;AACA;AACAgC,WAAKrC,sBAAL,CAA4B1D,MAA5B;AACD,KAXD;;AAaA,QAAIiG,kBAAkB,SAAlBA,eAAkB,CAAU/P,KAAV,EAAiB;AACrC,UAAI8J,SAAS9J,MAAM8J,MAAnB;AACA,UAAIkG,SAASlG,OAAOmE,aAApB;;AAEAnE,aAAOvB,SAAP,CAAiBvE,MAAjB,CAAwB,QAAxB;AACA8F,aAAOE,KAAP,GAAeF,OAAOvB,SAAP,CAAiB0H,QAAjB,CAA0B,QAA1B,CAAf;AACA;AACAnG,aAAOI,aAAP,CAAqB,IAAIgG,KAAJ,CAAU,QAAV,EAAoB,EAAE9F,SAAS,IAAX,EAApB,CAArB;AACD,KARD;;AAUA;AACA,QAAItJ,KAAK,SAALA,EAAK,CAAU6I,SAAV,EAAqBC,QAArB,EAA+BC,QAA/B,EAAyC;AAChDgG,WAAK/D,SAAL,CAAe1K,gBAAf,CAAgCuI,SAAhC,EAA2C,UAAS3J,KAAT,EAAe;AACxD,YAAI8J,SAAS9J,MAAM8J,MAAnB;AACA,YAAI9B,MAAM+B,eAAN,CAAsBD,MAAtB,EAA8BF,QAA9B,CAAJ,EAA6CC,SAAS7J,KAAT;AAC9C,OAHD;AAID,KALD;;AAOAc,OAAG,OAAH,EAAY,wBAAZ,EAAsCgP,gBAAtC;AACAhP,OAAG,OAAH,EAAY,2BAAZ,EAAyCiP,eAAzC;AACAjP,OAAG,OAAH,EAAY,8BAAZ,EAA4C,YAAU;AACpD;AACA+O,WAAKrJ,UAAL,CAAgB,KAAhB;AACD,KAHD;;AAKA1F,OAAG,OAAH,EAAY,oBAAZ,EAAkC,UAASd,KAAT,EAAe;AAC/C,UAAI8J,SAAS9J,MAAM8J,MAAnB;AACA;AACA5B,uBAAiB2H,KAAK/D,SAAL,CAAezD,gBAAf,CAAgC,kCAAhC,CAAjB;;AAEA;AACAyB,aAAOvB,SAAP,CAAiBvE,MAAjB,CAAwB,QAAxB;;AAEA;AACA,UAAImM,aAAarG,OAAOG,YAAP,CAAoB,kBAApB,CAAjB;AACA4F,WAAKR,aAAL,CAAmBc,UAAnB;AACD,KAXD;;AAaArP,OAAG,OAAH,EAAY,mCAAZ,EAAiD,UAASd,KAAT,EAAe;AAC9D,UAAIoQ,qBAAqBP,KAAKnL,WAAL,CAAiB2L,YAAjB,EAAzB;AACA,UAAID,kBAAJ,EACEP,KAAKnL,WAAL,CAAiB4L,YAAjB,CAA8BF,kBAA9B;AACH,KAJD;;AAMAtP,OAAG,OAAH,EAAY,6BAAZ,EAA2C,UAASd,KAAT,EAAe;AACxD6P,WAAKnL,WAAL,CAAiB6L,KAAjB;AACD,KAFD;;AAIA,SAAK9D,OAAL,CAAarL,gBAAb,CAA8B,OAA9B,EAAuC,UAASpB,KAAT,EAAe;AACpD,UAAI,KAAK0E,WAAL,CAAiB8L,gBAAjB,EAAJ,EAAyC;AACzC,WAAK9L,WAAL,CAAiB+L,IAAjB;AACD,KAHsC,CAGrChS,IAHqC,CAGhC,IAHgC,CAAvC;;AAKA,SAAKiO,OAAL,CAAatL,gBAAb,CAA8B,OAA9B,EAAuC,UAASpB,KAAT,EAAe;AACpD,UAAI,KAAK0E,WAAL,CAAiBgM,gBAAjB,EAAJ,EAAyC;AACzC,WAAKhM,WAAL,CAAiBiM,IAAjB;AACD,KAHsC,CAGrClS,IAHqC,CAGhC,IAHgC,CAAvC;;AAKA,QAAImS,0BAA0B,SAA1BA,uBAA0B,CAAS5Q,KAAT,EAAe;AAC3C,UAAI8J,SAAS9J,MAAM8J,MAAnB;AACA,UAAI+G,YAAY/G,OAAOxL,OAAP,CAAewL,OAAOgH,aAAtB,EAAqC9G,KAArD;AACAF,aAAOhH,KAAP,CAAaiO,UAAb,GAA0BF,SAA1B;AACD,KAJD;AAKA,SAAKlE,gBAAL,CAAsBvL,gBAAtB,CAAuC,QAAvC,EAAiDwP,uBAAjD;;AAEA,QAAII,2BAA2B,UAAShR,KAAT,EAAe;;AAE5C,UAAI8J,SAAS9J,MAAM8J,MAAnB;AACA,UAAIhH,QAAQgH,OAAOG,YAAP,CAAoB,mBAApB,CAAZ;AACA,UAAID,QAAShK,MAAMqK,MAAN,IAAgBrK,MAAMqK,MAAN,CAAaC,MAAb,CAAoBN,KAArC,IAA+CF,OAAOE,KAAlE;AACA,UAAIiH,eAAe,EAAnB;AACAA,mBAAanO,KAAb,IAAsBqI,oBAAoBnB,KAApB,CAAtB;AACA,WAAKtF,WAAL,CAAiBwM,QAAjB,CAA0BD,YAA1B;AACD,KAR8B,CAQ7BxS,IAR6B,CAQxB,IARwB,CAA/B;;AAUA;AACA;AACAqC,OAAG,QAAH,EAAa,qBAAb,EAAoCkQ,wBAApC;AAED,GA/FD;;AAiGAzH,QAAM4H,cAAN,GAAuB,SAASA,cAAT,GAA0B;AAC/C,WAAO;AACLvO,cAAQ,KAAKkJ,SAAL,CAAe3C,aAAf,CAA6B,wBAA7B,EAAuDiI,YAAvD,GAAsE,EADzE;AAEL9N,aAAO,KAAKwI,SAAL,CAAe3C,aAAf,CAA6B,wBAA7B,EAAuDkI;AAFzD,KAAP;AAID,GALD;;AAOA9H,QAAM2C,gBAAN,GAAyB,YAAY;AACnC,SAAKxH,WAAL,CAAiBtD,gBAAjB,CAAkC0J,cAAcwG,qBAAhD,EAAuE,YAAU;AAC/E,UAAIC,YAAY,KAAK7M,WAAL,CAAiB8L,gBAAjB,EAAhB;AACA,UAAIgB,YAAY,KAAK9M,WAAL,CAAiBgM,gBAAjB,EAAhB;AACA,WAAKjE,OAAL,CAAalE,SAAb,CAAuBgJ,YAAY,QAAZ,GAAuB,KAA9C,EAAqD,QAArD;AACA,WAAK7E,OAAL,CAAanE,SAAb,CAAuBiJ,YAAY,QAAZ,GAAuB,KAA9C,EAAqD,QAArD;AACD,KALsE,CAKrE/S,IALqE,CAKhE,IALgE,CAAvE;;AAQA,SAAKiG,WAAL,CAAiBtD,gBAAjB,CAAkC0J,cAAc2G,qBAAhD,EAAuE,UAASzR,KAAT,EAAe;AACpF,UAAI8J,SAAS9J,MAAM8J,MAAnB;AACA,UAAI4H,aAAazG,cAAcnB,MAAd,CAAjB;AACA,UAAI6H,eAAe,KAAKxE,mBAAL,CAAyBuE,UAAzB,CAAnB;AACA,WAAKlE,sBAAL,CAA4BmE,YAA5B;AACA,WAAK7F,SAAL,CAAe3C,aAAf,CAA6B,mCAA7B,EAAkEZ,SAAlE,CAA4Ea,GAA5E,CAAgF,QAAhF;AACD,KANsE,CAMrE3K,IANqE,CAMhE,IANgE,CAAvE;;AAQA,SAAKiG,WAAL,CAAiBtD,gBAAjB,CAAkC0J,cAAc8G,qBAAhD,EAAuE,UAAS5R,KAAT,EAAe;AACpF,WAAK8L,SAAL,CAAe3C,aAAf,CAA6B,mCAA7B,EAAkEZ,SAAlE,CAA4EC,MAA5E,CAAmF,QAAnF;AACD,KAFsE,CAErE/J,IAFqE,CAEhE,IAFgE,CAAvE;AAGD,GApBD;;AAsBAqJ,YAAU4D,YAAV,GAAyBA,YAAzB;AACD,CA5aD,I;;;;;;;;;;;;;;ACAA,CAAC,YAAU;;AAEP,QAAI5D,YAAYC,kBAAkB,qBAAlB,CAAhB;;AAEA,QAAIU,cAAcX,UAAUW,WAA5B;AAAA,QACIoJ,WAAc/J,UAAU+J,QAD5B;AAAA,QAEIC,eAAehK,UAAUgK,YAF7B;;AAIAhK,cAAUoD,mBAAV,GAAgC;AAC5B4B,gBAAQ,gBAASpE,OAAT,EAAiB;AACrB,gBAAI5F,QAAQ4F,QAAQuB,YAAR,CAAqB,mBAArB,CAAZ;AACA,gBAAI8E,YAAJ;AACA;AACA;AACA,gBAAIrG,mBAAmBqJ,cAAvB,EAAuC;AACnChD,+BAAe,IAAItG,WAAJ,CAAgBC,OAAhB,CAAf;AACH,aAFD,MAEO,IAAIA,mBAAmBsJ,iBAAvB,EAA0C;AAC7CjD,+BAAe,IAAI8C,QAAJ,CAAanJ,OAAb,CAAf;AACH,aAFM,MAEA,IAAIA,mBAAmBuJ,iBAAvB,EAA0C;AAC7ClD,+BAAe,IAAI+C,YAAJ,CAAiBpJ,OAAjB,CAAf;AACH;AACD,mBAAOqG,YAAP;AACH;AAd2B,KAAhC;AAgBH,CAxBD,I;;;;;;;;;;;;;;ACAA,CAAC,YAAU;;AAEP,QAAIjH,YAAYC,kBAAkB,qBAAlB,CAAhB;AACA,QAAI+C,gBAAgB/C,kBAAkB,uBAAlB,CAApB;AACA,QAAIgD,iBAAiBhD,kBAAkB,6BAAlB,CAArB;;AAEA,QAAIC,QAAQF,UAAUE,KAAtB;AAAA,QACIC,SAASD,MAAMC,MADnB;AAAA,QAEI+C,cAAchD,MAAMgD,WAFxB;AAAA,QAGIkH,wBAAwBlK,MAAMkK,qBAHlC;;AAKA,aAASL,QAAT,CAAkBnJ,OAAlB,EAA2B;AACvB,aAAKC,IAAL,GAAYD,OAAZ;AACAI,eAAOC,cAAP,CAAsB,IAAtB,EAA4B,OAA5B,EAAqC;AACjCC,iBAAM,eAAW;AACb,uBAAO,KAAKL,IAAL,CAAUqB,KAAjB;AACH,aAHgC;AAIjCf,iBAAM,aAASC,GAAT,EAAa;AACf,qBAAKP,IAAL,CAAUqB,KAAV,GAAkBd,GAAlB;AACH;AANgC,SAArC;AAQH;;AAED,QAAIK,QAAQsI,SAASrI,SAArB;;AAEAD,UAAMgB,UAAN,GAAmB,UAAUjM,OAAV,EAAmB;AAClC4T,8BAAsB,KAAKvJ,IAA3B,EAAiCrK,OAAjC;AACH,KAFD;;AAIAwJ,cAAU+J,QAAV,GAAqBA,QAArB;AACH,CA9BD,I;;;;;;;;;;;;;;ACAA,CAAC,YAAU;;AAEP,QAAI/J,YAAYC,kBAAkB,qBAAlB,CAAhB;;AAEA,aAAS+J,YAAT,CAAsBpJ,OAAtB,EAA+B;AAC3B,aAAKC,IAAL,GAAYD,OAAZ;AACAI,eAAOC,cAAP,CAAsB,IAAtB,EAA4B,OAA5B,EAAqC;AACjCC,iBAAM,eAAW;AACb,uBAAO,KAAKL,IAAL,CAAUqB,KAAjB;AACH,aAHgC;AAIjCf,iBAAM,aAASC,GAAT,EAAa;AACf,qBAAKP,IAAL,CAAUqB,KAAV,GAAkBd,GAAlB;AACH;AANgC,SAArC;AAQH;;AAED,QAAIK,QAAQuI,aAAatI,SAAzB;;AAEAD,UAAMgB,UAAN,GAAmB,UAAUjM,OAAV,EAAmB;AAClC;AACA;AACH,KAHD;;AAKAwJ,cAAUgK,YAAV,GAAyBA,YAAzB;AACH,CAxBD,I;;;;;;;;;;;;;;;;;;;;ACAA,CAAC,YAAU;;AAET,MAAIK,iBAAiB,oBAArB;AACA,MAAIrK,YAAYC,kBAAkB,qBAAlB,CAAhB;;AAEA,WAASqK,SAAT,CAAmB/T,MAAnB,EAA2BC,OAA3B,EAAoC;;AAElCiC,aAASC,OAAT,CAAiBqB,SAAjB,CAA2BgK,IAA3B,CAAgC,IAAhC,EAAsCxN,MAAtC,EAA8CC,OAA9C;;AAEA,SAAKoG,WAAL,GAAmBpG,QAAQoG,WAA3B;;AAEA,SAAKpG,OAAL,GAAeA,OAAf;;AAEA,SAAKD,MAAL,GAAcA,MAAd;AACD;;AAED+T,YAAU5I,SAAV,GAAsB,sBAAcjJ,SAASC,OAAT,CAAiBqB,SAAjB,CAA2B2H,SAAzC,CAAtB;AACA4I,YAAU5I,SAAV,CAAoB6I,WAApB,GAAkCD,SAAlC;AACA,MAAI7I,QAAQ6I,UAAU5I,SAAtB;;AAEA,MAAI8I,SAAS/R,SAASC,OAAT,CAAiBmL,EAAjB,CAAoB2G,MAAjC;AAAA,MACEC,SAASD,OAAOE,KAAP,CAAaD,MADxB;AAAA,MAEEE,WAAWH,OAAOE,KAAP,CAAaC,QAF1B;;AAIA,WAASC,kBAAT,GAA+B;AAC7B,QAAIpK,MAAM,IAAIgK,MAAJ,CAAY,oBAAZ,CAAV;AACAhK,QAAIqK,UAAJ,CAAe,QAAf;AACArK,QAAIsK,OAAJ,CAAY,kBAAZ;AACAtK,QAAIuK,OAAJ,GAAc,YAAY;AACxB,UAAIlP,QAAQ2E,IAAIpC,QAAJ,EAAZ;AACAoC,UAAIzE,QAAJ,CAAaF,UAAU8O,QAAV,GAAqBF,MAArB,GAA8BE,QAA3C;AACD,KAHD;AAIA,WAAOnK,GAAP;AACD;;AAEDiB,QAAMuJ,IAAN,GAAa,YAAY;AACvB;AACA;AACA,QAAI,CAAC,KAAKzU,MAAL,CAAY0U,cAAjB,EAAiC;AAC/B,aAAO,KAAP;AACD;;AAED,SAAKjO,KAAL,GAAa,IAAIvE,SAASmP,OAAT,CAAiBsD,EAAjB,CAAoBtH,YAAxB,CACX,KAAKrN,MADM,EACE,KAAKqG,WADP,CAAb;;AAGA,SAAKrG,MAAL,CAAY4U,QAAZ,CAAqB,KAAKnO,KAA1B;;AAEA,QAAI,KAAKxG,OAAL,CAAa4U,WAAjB,EAA6B;AAC3B,WAAKC,QAAL;AACD;;AAED,WAAO,IAAP;AACD,GAjBD;;AAmBA5J,QAAM6J,MAAN,GAAe,YAAW;AACxB,WAAO,IAAP;AACD,GAFD;;AAIA7J,QAAM4J,QAAN,GAAiB,YAAY;;AAE3B,QAAI9U,SAAS,KAAKA,MAAlB;;AAEA,SAAKgV,gBAAL,GAAwBX,oBAAxB;;AAEA,QAAIY,aAAajV,OACdkV,UADc,CACH,IADG,EAEdC,UAFc,CAEHjT,SAASC,OAAT,CAAiBiT,OAAjB,CAAyBC,YAFtB,CAAjB;;AAIA,SAAK5O,KAAL,CAAWC,qBAAX,CAAiC,UAASC,IAAT,EAAc;AAC7C,WAAKqO,gBAAL,CAAsBxP,QAAtB,CAA+BmB,OAAOuN,MAAP,GAAgBE,QAA/C;AACD,KAFgC,CAE/BhU,IAF+B,CAE1B,IAF0B,CAAjC;;AAIA,SAAKkV,yBAAL,GAAiC,UAASC,CAAT,EAAY;AAC3C,WAAK9O,KAAL,CAAW0B,UAAX,CAAsBoN,EAAEjQ,KAAF,KAAY4O,MAAlC;AACD,KAFD;;AAIA,SAAKc,gBAAL,CAAsBjS,gBAAtB,CACEkR,OAAOpC,KAAP,CAAa2D,aADf,EAEE,KAAKF,yBAFP;;AAIAL,eAAWQ,UAAX,CAAsB,KAAKT,gBAA3B,EAA6C,EAACU,OAAM,CAAP,EAA7C;AACD,GAvBD;;AAyBAxT,WAASC,OAAT,CAAiBoH,mBAAjB,CAAqCC,iBAArC,CACEsK,cADF,EACkBC,SADlB;;AAGAtK,YAAUsK,SAAV,GAAsBA,SAAtB;AACD,CAvFD,I;;;;;;;;;;;;;;ACAA,CAAC,YAAU;;AAEP,QAAItH,gBAAgB/C,kBAAkB,0CAAlB,CAApB;AACA,QAAID,YAAYC,kBAAkB,qBAAlB,CAAhB;;AAEA,QAAIC,QAAQ;AACRkK,+BAAuB,+BAASxJ,OAAT,EAAkBvC,KAAlB,EAAwB;AAC3C,gBAAI,EAAEuC,mBAAmBsJ,iBAArB,CAAJ,EAA6C;;AAE7C;AACAtJ,oBAAQgB,SAAR,GAAoB,EAApB;;AAEA,gBAAIsK,UAAUC,SAASC,sBAAT,EAAd;AACA/N,kBAAMzG,GAAN,CAAU,UAAS0G,IAAT,EAAc;AACpB,oBAAI+N,SAASF,SAASG,aAAT,CAAuB,QAAvB,CAAb;AACAD,uBAAOE,WAAP,GAAqBjO,KAAKlE,KAA1B;AACA,qBAAK,IAAIoS,IAAT,IAAiBlO,KAAK8I,KAAtB,EAA6B;AACzB,wBAAIlF,QAAQ5D,KAAK8I,KAAL,CAAWoF,IAAX,CAAZ;AACAH,2BAAOI,YAAP,CAAoBD,IAApB,EAA0BtK,KAA1B;AACH;AACDgK,wBAAQQ,WAAR,CAAoBL,MAApB;AACH,aARD;AASAzL,oBAAQ8L,WAAR,CAAoBR,OAApB;AACH,SAlBO;AAmBR/L,gBAAQ,gBAAUwM,iBAAV,EAA6B;AACjC,mBAAO,GAAGC,KAAH,CAASC,KAAT,CAAeF,iBAAf,CAAP;AACH,SArBO;AAsBRzJ,qBAAa,qBAAU4J,GAAV,EAAe;AACxB,mBAAOA,IAAIC,MAAJ,CAAW,CAAX,EAAcC,WAAd,KAA8BF,IAAIG,SAAJ,CAAc,CAAd,CAArC;AACH,SAxBO;AAyBR9J,uBAAe,uBAAS+J,UAAT,EAAoB;;AAE/B,oBAAOA,WAAW5H,IAAlB;AACI,qBAAKtC,cAAcmK,iBAAnB;AACI,2BAAO,OAAP;AACJ,qBAAKnK,cAAcoK,gBAAnB;AACI,2BAAO,MAAP;AACJ,qBAAKpK,cAAcqK,qBAAnB;AACI,2BAAO,WAAP;AACJ,qBAAKrK,cAAcsK,kBAAnB;AACI,2BAAO,QAAP;AACJ,qBAAKtK,cAAcuK,iBAAnB;AACI,2BAAO,OAAP;AACJ,qBAAKvK,cAAcwK,oBAAnB;AACI,2BAAO,UAAP;AAZR;AAcH,SAzCO;AA0CRvL,yBAAiB,yBAASwL,OAAT,EAAkB3L,QAAlB,EAA4B;AACzC,gBAAI2L,QAAQC,OAAZ,EAAqB,OAAOD,QAAQC,OAAR,CAAgB5L,QAAhB,CAAP,CADoB,CACc;AACvD,gBAAI2L,QAAQE,iBAAZ,EAA+B,OAAOF,QAAQE,iBAAR,CAA0B7L,QAA1B,CAAP,CAFU,CAEmC;AAC5E,gBAAI2L,QAAQG,kBAAZ,EAAgC,OAAOH,QAAQG,kBAAR,CAA2B9L,QAA3B,CAAP,CAHS,CAGoC;AAC7E,gBAAI2L,QAAQI,qBAAZ,EAAmC,OAAOJ,QAAQI,qBAAR,CAA8B/L,QAA9B,CAAP,CAJM,CAI0C;AACnF,mBAAO,KAAP;AACH;AAhDO,KAAZ;;AAmDA9B,cAAUE,KAAV,GAAkBA,KAAlB;AACH,CAzDD,I;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;AAEA,CAAC,UAAUqB,MAAV,EAAkBuM,CAAlB,EAAqBC,SAArB,EAAgC;AAC7B;;AAEA,QAAIC,cAAc;;AAEd;AACAC,oBAAYC,IAHE;AAIdC,cAAMD,IAJQ;AAKdE,gBAAQF,IALM;AAMdhR,cAAMgR,IANQ;AAOdvP,cAAMuP,IAPQ;;AASd;AACAtL,eAAO,KAVO;AAWdyL,cAAM,KAXQ;AAYdC,mBAAW,KAZG;AAadC,oBAAY,KAbE;AAcdC,qBAAa,IAdC;AAedC,6BAAqB,KAfP;AAgBdC,qBAAa,KAhBC;AAiBdC,qBAAa,KAjBC;AAkBdC,yBAAiB,KAlBH;AAmBdC,gCAAwB,KAnBV;AAoBdC,2BAAmB,KApBL;AAqBdC,8BAAsB,IArBR;AAsBdC,yBAAiB,KAtBH;AAuBdC,kBAAU,MAvBI;AAwBdC,0BAAkB,CAxBJ;AAyBdC,oBAAY,QAzBE;AA0BdC,oBAAY,QA1BE;AA2BdC,+BAAuB,MA3BT;AA4BdC,+BAAuB,MA5BT;AA6BdC,mBAAW,uBA7BG;AA8BdC,6BAAqB,mBA9BP;AA+BdC,yBAAiB,KA/BH;AAgCd7U,mBAAW,EAhCG,EAgCC;AACf8U,4BAAoB,EAjCN;AAkCdC,2BAAmB,EAlCL;AAmCdC,mBAAW,KAnCG;AAoCdC,eAAO,UApCO;AAqCdC,iBAAS,CAAC,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,SAAxD,EAAmE,SAAnE,EAA8E,SAA9E,EAAyF,SAAzF,CAAD,CArCK;AAsCdC,0BAAkB,EAtCJ;AAuCd/T,kBAAU;AAvCI,KAAlB;AAAA,QAyCAgU,YAAY,EAzCZ;AAAA,QA0CAC,KAAK,CAAC,CAAC,QAAQC,IAAR,CAAc3O,OAAO4O,SAAP,CAAiBC,SAA/B,CA1CP;AAAA,QA2CAC,cAAe,YAAW;AACtB,iBAASlI,QAAT,CAAmB2E,GAAnB,EAAwBwD,MAAxB,EAAiC;AAC7B,mBAAO,CAAC,CAAC,CAAC,CAAC,KAAKxD,GAAN,EAAWyD,OAAX,CAAmBD,MAAnB,CAAV;AACH;;AAED,YAAIE,OAAOrE,SAASG,aAAT,CAAuB,KAAvB,CAAX;AACA,YAAItR,QAAQwV,KAAKxV,KAAjB;AACAA,cAAMyV,OAAN,GAAgB,iCAAhB;AACA,eAAOtI,SAASnN,MAAM0V,eAAf,EAAgC,MAAhC,KAA2CvI,SAASnN,MAAM0V,eAAf,EAAgC,MAAhC,CAAlD;AACH,KATa,EA3Cd;AAAA,QAqDAC,wBAAyB,YAAW;AAChC,YAAIC,aAAa9C,EAAE,kCAAF,EAAsC,CAAtC,CAAjB;AACA,eAAO8C,WAAWtL,IAAX,KAAoB,OAApB,IAA+BsL,WAAW1O,KAAX,KAAqB,GAA3D;AACH,KAHuB,EArDxB;AAAA,QAyDA2O,eAAe,CACX,2BADW,EAEP,oEAFO,EAGP,kCAHO,EAIX,QAJW,EAKb9V,IALa,CAKR,EALQ,CAzDf;AAAA,QA+DA+H,SAAU,YAAY;;AAElB;AACA;AACA,YAAIgO,cAAc,EAAlB;AACA,YAAIb,EAAJ,EAAQ;AACJ,iBAAK,IAAIc,IAAI,CAAb,EAAgBA,KAAK,CAArB,EAAwBA,GAAxB,EAA6B;AACzBD,+BAAe,oBAAoBC,CAApB,GAAwB,UAAvC;AACH;AACJ;;AAED,eAAO,CACH,sCADG,EAEC,oCAFD,EAGK,+CAHL,EAIK,iDAJL,EAKS,2DALT,EAMK,QANL,EAOC,QAPD,EAQC,mCARD,EASK,4BATL,EAUS,6BAVT,EAWS,4BAXT,EAYa,wBAZb,EAaiB,sBAbjB,EAcqB,sBAdrB,EAeyB,gCAfzB,EAgBqB,QAhBrB,EAiBiB,QAjBjB,EAkBa,QAlBb,EAmBa,yCAnBb,EAoBa,QApBb,EAqBa,sBArBb,EAsBiB,+BAtBjB,EAuBiBD,WAvBjB,EAwBa,QAxBb,EAyBS,QAzBT,EA0BS,mGA1BT,EA2BK,QA3BL,EA4BK,wCA5BL,EA6BS,4DA7BT,EA8BK,QA9BL,EA+BK,+CA/BL,EAgCK,yCAhCL,EAiCS,oCAjCT,EAkCS,mDAlCT,EAmCK,QAnCL,EAoCC,QApCD,EAqCH,QArCG,EAsCL/V,IAtCK,CAsCA,EAtCA,CAAP;AAuCH,KAlDQ,EA/DT;;AAmHA,aAASiW,eAAT,CAA0BC,CAA1B,EAA6BrO,KAA7B,EAAoChI,SAApC,EAA+C+E,IAA/C,EAAqD;AACjD,YAAIuR,OAAO,EAAX;AACA,aAAK,IAAIH,IAAI,CAAb,EAAgBA,IAAIE,EAAEE,MAAtB,EAA8BJ,GAA9B,EAAmC;AAC/B,gBAAIK,UAAUH,EAAEF,CAAF,CAAd;AACA,gBAAGK,OAAH,EAAY;AACR,oBAAIC,OAAOC,UAAUF,OAAV,CAAX;AACA,oBAAIhM,IAAIiM,KAAKE,KAAL,GAAaC,CAAb,GAAiB,GAAjB,GAAuB,2BAAvB,GAAqD,4BAA7D;AACApM,qBAAMkM,UAAUG,MAAV,CAAiB7O,KAAjB,EAAwBwO,OAAxB,CAAD,GAAqC,kBAArC,GAA0D,EAA/D;AACA,oBAAIM,kBAAkBL,KAAKM,QAAL,CAAchS,KAAK8P,eAAL,IAAwB,KAAtC,CAAtB;AACA,oBAAImC,cAAcvB,cAAe,sBAAsBgB,KAAKQ,WAAL,EAArC,GAA2D,YAAYR,KAAKS,QAAL,EAAzF;AACAZ,qBAAKa,IAAL,CAAU,kBAAkBL,eAAlB,GAAoC,gBAApC,GAAuDL,KAAKQ,WAAL,EAAvD,GAA4E,WAA5E,GAA0FzM,CAA1F,GAA8F,wCAA9F,GAAyIwM,WAAzI,GAAuJ,cAAjK;AACH,aAPD,MAOO;AACH,oBAAII,MAAM,kBAAV;AACAd,qBAAKa,IAAL,CAAUjE,EAAE,SAAF,EACLmE,MADK,CACEnE,EAAE,sEAAsEkE,GAAtE,GAA4E,WAA9E,EACHxF,IADG,CACE,OADF,EACW7M,KAAK6P,mBADhB,CADF,EAIL0B,IAJK,EAAV;AAMH;AACJ;AACD,eAAO,uBAAuBtW,SAAvB,GAAmC,IAAnC,GAA0CsW,KAAKnW,IAAL,CAAU,EAAV,CAA1C,GAA0D,QAAjE;AACH;;AAED,aAASmX,OAAT,GAAmB;AACf,aAAK,IAAInB,IAAI,CAAb,EAAgBA,IAAIf,UAAUmB,MAA9B,EAAsCJ,GAAtC,EAA2C;AACvC,gBAAIf,UAAUe,CAAV,CAAJ,EAAkB;AACdf,0BAAUe,CAAV,EAAapS,IAAb;AACH;AACJ;AACJ;;AAED,aAASwT,eAAT,CAAyBC,CAAzB,EAA4BC,eAA5B,EAA6C;AACzC,YAAI1S,OAAOmO,EAAEwE,MAAF,CAAS,EAAT,EAAatE,WAAb,EAA0BoE,CAA1B,CAAX;AACAzS,aAAK4S,SAAL,GAAiB;AACb,oBAAQ5b,KAAKgJ,KAAKwO,IAAV,EAAgBkE,eAAhB,CADK;AAEb,sBAAU1b,KAAKgJ,KAAKyO,MAAV,EAAkBiE,eAAlB,CAFG;AAGb,oBAAQ1b,KAAKgJ,KAAKzC,IAAV,EAAgBmV,eAAhB,CAHK;AAIb,oBAAQ1b,KAAKgJ,KAAKhB,IAAV,EAAgB0T,eAAhB,CAJK;AAKb,0BAAc1b,KAAKgJ,KAAKsO,UAAV,EAAsBoE,eAAtB;AALD,SAAjB;;AAQA,eAAO1S,IAAP;AACH;;AAED,aAAS6S,QAAT,CAAkB5R,OAAlB,EAA2BwR,CAA3B,EAA8B;;AAE1B,YAAIzS,OAAOwS,gBAAgBC,CAAhB,EAAmBxR,OAAnB,CAAX;AAAA,YACIyN,OAAO1O,KAAK0O,IADhB;AAAA,YAEIU,uBAAuBpP,KAAKoP,oBAFhC;AAAA,YAGIC,kBAAkBrP,KAAKqP,eAH3B;AAAA,YAIIa,QAAQlQ,KAAKkQ,KAJjB;AAAA,YAKI0C,YAAY5S,KAAK4S,SALrB;AAAA,YAMIE,SAASC,SAASC,MAAT,EAAiB,EAAjB,CANb;AAAA,YAOIC,UAAU,KAPd;AAAA,YAQIC,YAAY,CARhB;AAAA,YASIC,aAAa,CATjB;AAAA,YAUIC,mBAAmB,CAVvB;AAAA,YAWIC,cAAc,CAXlB;AAAA,YAYIC,aAAa,CAZjB;AAAA,YAaIC,aAAa,CAbjB;AAAA,YAcIC,wBAAwB,CAd5B;AAAA,YAeIC,oBAAoB,CAfxB;AAAA,YAgBIC,aAAa,CAhBjB;AAAA,YAiBIC,oBAAoB,CAjBxB;AAAA,YAkBIC,eAAe,CAlBnB;AAAA,YAmBIC,eAAe,CAnBnB;AAAA,YAoBI1D,UAAU,EApBd;AAAA,YAqBI2D,eAAe,EArBnB;AAAA,YAsBIC,gBAAgB,EAtBpB;AAAA,YAuBI3D,mBAAmBpQ,KAAKoQ,gBAAL,CAAsBnD,KAAtB,CAA4B,CAA5B,CAvBvB;AAAA,YAwBIsC,mBAAmBvP,KAAKuP,gBAxB5B;AAAA,YAyBIyE,gBAAgB,aAzBpB;AAAA,YA0BIC,yBAAyB,IA1B7B;;AA4BA,YAAIC,MAAMjT,QAAQkT,aAAlB;AAAA,YACIC,OAAOF,IAAIE,IADf;AAAA,YAEIC,eAAelG,EAAElN,OAAF,CAFnB;AAAA,YAGI5E,WAAW,KAHf;AAAA,YAIIgI,YAAY8J,EAAEhL,MAAF,EAAU+Q,GAAV,EAAeI,QAAf,CAAwBpE,KAAxB,CAJhB;AAAA,YAKIqE,kBAAkBlQ,UAAUmQ,IAAV,CAAe,sBAAf,CALtB;AAAA,YAMIC,UAAUpQ,UAAUmQ,IAAV,CAAe,WAAf,CANd;AAAA,YAOIE,aAAarQ,UAAUmQ,IAAV,CAAe,aAAf,CAPjB;AAAA,YAQIG,SAAStQ,UAAUmQ,IAAV,CAAe,SAAf,CARb;AAAA,YASII,cAAcvQ,UAAUmQ,IAAV,CAAe,YAAf,CATlB;AAAA,YAUIK,mBAAmBxQ,UAAUmQ,IAAV,CAAe,iBAAf,CAVvB;AAAA,YAWIM,cAAczQ,UAAUmQ,IAAV,CAAe,WAAf,CAXlB;AAAA,YAYIO,mBAAmB1Q,UAAUmQ,IAAV,CAAe,kBAAf,CAZvB;AAAA,YAaIQ,YAAY3Q,UAAUmQ,IAAV,CAAe,WAAf,CAbhB;AAAA,YAcIS,mBAAmB5Q,UAAUmQ,IAAV,CAAe,aAAf,CAdvB;AAAA,YAeIU,wBAAwB7Q,UAAUmQ,IAAV,CAAe,aAAf,CAf5B;AAAA,YAgBIW,eAAe9Q,UAAUmQ,IAAV,CAAe,YAAf,CAhBnB;AAAA,YAiBIY,cAAc/Q,UAAUmQ,IAAV,CAAe,WAAf,CAjBlB;AAAA,YAkBIa,eAAehR,UAAUmQ,IAAV,CAAe,YAAf,CAlBnB;AAAA,YAmBIc,eAAejR,UAAUmQ,IAAV,CAAe,oBAAf,CAnBnB;AAAA,YAoBIe,UAAUlB,aAAamB,EAAb,CAAgB,OAAhB,CApBd;AAAA,YAqBIC,mBAAmBF,WAAWvE,qBAAX,IAAoCqD,aAAaxH,IAAb,CAAkB,MAAlB,MAA8B,OArBzF;AAAA,YAsBI6I,gBAAgBH,WAAW,CAAC7G,IAtBhC;AAAA,YAuBIiH,WAAYD,aAAD,GAAkBvH,EAAE+C,YAAF,EAAgBoD,QAAhB,CAAyBpE,KAAzB,EAAgCoE,QAAhC,CAAyCtU,KAAK/E,SAA9C,EAAyDqZ,QAAzD,CAAkEtU,KAAKgQ,iBAAvE,CAAlB,GAA8G7B,EAAE,EAAF,CAvB7H;AAAA,YAwBIyH,gBAAiBF,aAAD,GAAkBC,QAAlB,GAA6BtB,YAxBjD;AAAA,YAyBIwB,iBAAiBF,SAASnB,IAAT,CAAc,mBAAd,CAzBrB;AAAA,YA0BIsB,eAAe9V,KAAKiD,KAAL,IAAesS,WAAWlB,aAAa5S,GAAb,EA1B7C;AAAA,YA2BIsU,cAAc,KA3BlB;AAAA,YA4BIjG,kBAAkB9P,KAAK8P,eA5B3B;AAAA,YA6BIkG,yBAAyBlG,eA7B7B;AAAA,YA8BIhB,sBAAsB,CAAC9O,KAAK6O,WAAN,IAAqB7O,KAAK8O,mBA9BpD;AAAA,YA+BImH,UAAU,CAACH,YA/Bf;AAAA,YAgCIlH,aAAa5O,KAAK4O,UAAL,IAAmB,CAAC6G,gBAhCrC;;AAkCA,iBAASS,YAAT,GAAwB;;AAEpB,gBAAIlW,KAAKiP,eAAT,EAA0B;AACtBjP,qBAAKgP,WAAL,GAAmB,IAAnB;AACH;;AAEDsG,yBAAatZ,IAAb,CAAkBgE,KAAKiP,eAAL,GAAuBjP,KAAK0P,qBAA5B,GAAoD1P,KAAK2P,qBAA3E;;AAEA,gBAAI3P,KAAKmQ,OAAT,EAAkB;AACdA,0BAAUnQ,KAAKmQ,OAAL,CAAalD,KAAb,CAAmB,CAAnB,CAAV;AACA6G,+BAAe3F,EAAErU,OAAF,CAAUqW,QAAQ,CAAR,CAAV,IAAwBA,OAAxB,GAAkC,CAACA,OAAD,CAAjD;AACA4D,gCAAgB,EAAhB;AACA,qBAAK,IAAI3C,IAAI,CAAb,EAAgBA,IAAI0C,aAAatC,MAAjC,EAAyCJ,GAAzC,EAA8C;AAC1C,yBAAK,IAAI+E,IAAI,CAAb,EAAgBA,IAAIrC,aAAa1C,CAAb,EAAgBI,MAApC,EAA4C2E,GAA5C,EAAiD;AAC7C,4BAAIC,MAAMzE,UAAUmC,aAAa1C,CAAb,EAAgB+E,CAAhB,CAAV,EAA8BjE,WAA9B,EAAV;AACA6B,sCAAcqC,GAAd,IAAqB,IAArB;AACH;AACJ;AACJ;;AAED/R,sBAAUgS,WAAV,CAAsB,SAAtB,EAAiC3H,IAAjC;AACArK,sBAAUgS,WAAV,CAAsB,mBAAtB,EAA2C,CAACrW,KAAK2O,SAAjD;AACAtK,sBAAUgS,WAAV,CAAsB,kBAAtB,EAA0CrW,KAAKiQ,SAA/C;AACA5L,sBAAUgS,WAAV,CAAsB,kBAAtB,EAA0CzH,UAA1C;AACAvK,sBAAUgS,WAAV,CAAsB,qBAAtB,EAA6C,CAACrW,KAAK6O,WAAnD;AACAxK,sBAAUgS,WAAV,CAAsB,6BAAtB,EAAqD,CAACrW,KAAKmP,iBAA3D;AACA9K,sBAAUgS,WAAV,CAAsB,qBAAtB,EAA6C,CAACrW,KAAKgP,WAAnD;AACA3K,sBAAUgS,WAAV,CAAsB,iBAAtB,EAAyCrW,KAAKiP,eAA9C;AACA5K,sBAAUgS,WAAV,CAAsB,qBAAtB,EAA6C,CAACrW,KAAK+O,WAAnD;AACA1K,sBAAUiQ,QAAV,CAAmBtU,KAAK/E,SAAxB,EAAmCqZ,QAAnC,CAA4CtU,KAAK+P,kBAAjD;;AAEAiD;AACH;;AAED,iBAASsD,UAAT,GAAsB;;AAElB,gBAAIhG,EAAJ,EAAQ;AACJjM,0BAAUmQ,IAAV,CAAe,cAAf,EAA+B3H,IAA/B,CAAoC,cAApC,EAAoD,IAApD;AACH;;AAEDqJ;;AAEA,gBAAIR,aAAJ,EAAmB;AACfrB,6BAAakC,KAAb,CAAmBZ,QAAnB,EAA6B3W,IAA7B;AACH;;AAED,gBAAI,CAAC4P,UAAL,EAAiB;AACbwG,4BAAYpW,IAAZ;AACH;;AAED,gBAAI0P,IAAJ,EAAU;AACN2F,6BAAakC,KAAb,CAAmBlS,SAAnB,EAA8BrF,IAA9B;AACH,aAFD,MAGK;;AAED,oBAAIsQ,WAAWtP,KAAKsP,QAAL,KAAkB,QAAlB,GAA6B+E,aAAa9L,MAAb,EAA7B,GAAqD4F,EAAEnO,KAAKsP,QAAP,CAApE;AACA,oBAAIA,SAASkC,MAAT,KAAoB,CAAxB,EAA2B;AACvBlC,+BAAWnB,EAAE,MAAF,CAAX;AACH;;AAEDmB,yBAASgD,MAAT,CAAgBjO,SAAhB;AACH;;AAEDmS;;AAEAZ,0BAAc5e,IAAd,CAAmB,oCAAnB,EAAyD,UAAUmV,CAAV,EAAa;AAClE,oBAAI,CAAC9P,QAAL,EAAe;AACXE;AACH;;AAED4P,kBAAEsK,eAAF;;AAEA,oBAAI,CAACtI,EAAEhC,EAAE9J,MAAJ,EAAYmT,EAAZ,CAAe,OAAf,CAAL,EAA8B;AAC1BrJ,sBAAEuK,cAAF;AACH;AACJ,aAVD;;AAYA,gBAAGrC,aAAamB,EAAb,CAAgB,WAAhB,KAAiCxV,KAAK3D,QAAL,KAAkB,IAAtD,EAA6D;AACzDsa;AACH;;AAED;AACAtS,sBAAUuS,KAAV,CAAgBH,eAAhB;;AAEA;AACAzB,sBAAUvG,MAAV,CAAiBoI,gBAAjB;AACA7B,sBAAUhe,IAAV,CAAe,OAAf,EAAwB,YAAY;AAChC8f,2BAAWD,gBAAX,EAA6B,CAA7B;AACH,aAFD;AAGA7B,sBAAU+B,OAAV,CAAkB,UAAU5K,CAAV,EAAa;AAAE,oBAAIA,EAAE6K,OAAF,IAAa,EAAjB,EAAqB;AAAEH;AAAqB;AAAE,aAA/E;;AAEA1B,yBAAanZ,IAAb,CAAkBgE,KAAKwP,UAAvB;AACA2F,yBAAane,IAAb,CAAkB,gBAAlB,EAAoC,UAAUmV,CAAV,EAAa;AAC7CA,kBAAEsK,eAAF;AACAtK,kBAAEuK,cAAF;AACAO;AACAjY;AACH,aALD;;AAOAoW,wBAAYvI,IAAZ,CAAiB,OAAjB,EAA0B7M,KAAK4P,SAA/B;AACAwF,wBAAYpe,IAAZ,CAAiB,gBAAjB,EAAmC,UAAUmV,CAAV,EAAa;AAC5CA,kBAAEsK,eAAF;AACAtK,kBAAEuK,cAAF;AACAT,0BAAU,IAAV;AACAzH;;AAEA,oBAAGE,IAAH,EAAS;AACL;AACAwI,wCAAoB,IAApB;AACH;AACJ,aAVD;;AAYA7B,yBAAarZ,IAAb,CAAkBgE,KAAKyP,UAAvB;AACA4F,yBAAare,IAAb,CAAkB,gBAAlB,EAAoC,UAAUmV,CAAV,EAAa;AAC7CA,kBAAEsK,eAAF;AACAtK,kBAAEuK,cAAF;;AAEA,oBAAIS,SAAJ,EAAe;AACXD,wCAAoB,IAApB;AACAlY;AACH;AACJ,aARD;;AAUAsW,yBAAatZ,IAAb,CAAkBgE,KAAKiP,eAAL,GAAuBjP,KAAK0P,qBAA5B,GAAoD1P,KAAK2P,qBAA3E;AACA2F,yBAAate,IAAb,CAAkB,gBAAlB,EAAoC,UAAUmV,CAAV,EAAa;AAC7CA,kBAAEsK,eAAF;AACAtK,kBAAEuK,cAAF;;AAEA1W,qBAAKiP,eAAL,GAAuB,CAACjP,KAAKiP,eAA7B;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAI,CAACjP,KAAKiP,eAAN,IAAyB,CAACP,IAA9B,EAAoC;AAChCrK,8BAAU+S,GAAV,CAAc,MAAd,EAAsB,QAAQ7C,gBAAgB8C,UAAhB,CAA2B,IAA3B,IAAmC,CAA3C,CAAtB;AACH;AACDnB;AACH,aAfD;;AAiBAoB,sBAAUxC,WAAV,EAAuB,UAAUyC,KAAV,EAAiBC,KAAjB,EAAwBrL,CAAxB,EAA2B;AAC9C0H,+BAAgB0D,QAAQhE,UAAxB;AACA0C,0BAAU,KAAV;AACA,oBAAI9J,EAAEsL,QAAN,EAAgB;AACZ5D,mCAAe6D,KAAKC,KAAL,CAAW9D,eAAe,EAA1B,IAAgC,EAA/C;AACH;;AAEDrF;AACH,aARD,EAQGoJ,SARH,EAQcC,QARd;;AAUAP,sBAAU3C,MAAV,EAAkB,UAAU4C,KAAV,EAAiBC,KAAjB,EAAwB;AACtC9D,6BAAaoE,WAAWN,QAAQnE,WAAnB,CAAb;AACA4C,0BAAU,KAAV;AACA,oBAAI,CAACjW,KAAKiQ,SAAV,EAAqB;AACjB4D,mCAAe,CAAf;AACH;AACDrF;AACH,aAPD,EAOGoJ,SAPH,EAOcC,QAPd;;AASAP,sBAAU7C,OAAV,EAAmB,UAAU8C,KAAV,EAAiBC,KAAjB,EAAwBrL,CAAxB,EAA2B;;AAE1C;AACA,oBAAI,CAACA,EAAEsL,QAAP,EAAiB;AACbxD,6CAAyB,IAAzB;AACH,iBAFD,MAGK,IAAI,CAACA,sBAAL,EAA6B;AAC9B,wBAAI8D,WAAWpE,oBAAoBT,SAAnC;AACA,wBAAI8E,WAAW7E,aAAcS,eAAeT,UAA5C;AACA,wBAAI8E,eAAeP,KAAKQ,GAAL,CAASX,QAAQQ,QAAjB,IAA6BL,KAAKQ,GAAL,CAASV,QAAQQ,QAAjB,CAAhD;;AAEA/D,6CAAyBgE,eAAe,GAAf,GAAqB,GAA9C;AACH;;AAED,oBAAIE,gBAAgB,CAAClE,sBAAD,IAA2BA,2BAA2B,GAA1E;AACA,oBAAImE,WAAW,CAACnE,sBAAD,IAA2BA,2BAA2B,GAArE;;AAEA,oBAAIkE,aAAJ,EAAmB;AACfxE,wCAAoBmE,WAAWP,QAAQrE,SAAnB,CAApB;AACH;AACD,oBAAIkF,QAAJ,EAAc;AACVxE,mCAAekE,WAAW,CAAC3E,aAAaqE,KAAd,IAAuBrE,UAAlC,CAAf;AACH;;AAED8C,0BAAU,KAAV;AACA,oBAAI,CAACjW,KAAKiQ,SAAV,EAAqB;AACjB4D,mCAAe,CAAf;AACH;;AAEDrF;AAEH,aA/BD,EA+BGoJ,SA/BH,EA+BcC,QA/Bd;;AAiCA,gBAAI,CAAC,CAAC/B,YAAN,EAAoB;AAChBtU,qBAAIsU,YAAJ;;AAEA;AACA;AACAuC;AACArC,yCAAyBlG,mBAAmB6B,UAAUmE,YAAV,EAAwBwC,MAApE;;AAEAC,2CAA2BzC,YAA3B;AACH,aATD,MAUK;AACDuC;AACH;;AAED,gBAAI3J,IAAJ,EAAU;AACNnR;AACH;;AAED,qBAASib,mBAAT,CAA6BrM,CAA7B,EAAgC;AAC5B,oBAAIA,EAAE/M,IAAF,IAAU+M,EAAE/M,IAAF,CAAOqZ,MAArB,EAA6B;AACzBjX,yBAAI2M,EAAEhC,EAAE9J,MAAJ,EAAYqW,OAAZ,CAAoB,cAApB,EAAoCtZ,IAApC,CAAyC,OAAzC,CAAJ;AACAoP;AACH,iBAHD,MAIK;AACDhN,yBAAI2M,EAAEhC,EAAE9J,MAAJ,EAAYqW,OAAZ,CAAoB,cAApB,EAAoCtZ,IAApC,CAAyC,OAAzC,CAAJ;AACAoP;AACA0I,wCAAoB,IAApB;AACA,wBAAIlX,KAAKkP,sBAAT,EAAiC;AAC/BlQ;AACD;AACJ;;AAED,uBAAO,KAAP;AACH;;AAED,gBAAI2Z,eAAerI,KAAK,oBAAL,GAA4B,oCAA/C;AACA2E,6BAAiB2D,QAAjB,CAA0B,cAA1B,EAA0CD,YAA1C,EAAwDH,mBAAxD;AACAtD,kCAAsB0D,QAAtB,CAA+B,2BAA/B,EAA4DD,YAA5D,EAA0E,EAAEF,QAAQ,IAAV,EAA1E,EAA4FD,mBAA5F;AACH;;AAED,iBAAShC,iCAAT,GAA6C;;AAEzC,gBAAInH,mBAAmBzN,OAAOiX,YAA9B,EAA4C;;AAExC;AACA,oBAAI;AACA,wBAAIC,aAAalX,OAAOiX,YAAP,CAAoBxJ,eAApB,EAAqCnU,KAArC,CAA2C,IAA3C,CAAjB;AACA,wBAAI4d,WAAWtH,MAAX,GAAoB,CAAxB,EAA2B;AACvB,+BAAO5P,OAAOiX,YAAP,CAAoBxJ,eAApB,CAAP;AACAlB,0BAAE4K,IAAF,CAAOD,UAAP,EAAmB,UAAS1H,CAAT,EAAY3L,CAAZ,EAAe;AAC7B8S,uDAA2B9S,CAA3B;AACJ,yBAFD;AAGH;AACJ,iBARD,CASA,OAAM0G,CAAN,EAAS,CAAG;;AAEZ,oBAAI;AACAiE,uCAAmBxO,OAAOiX,YAAP,CAAoBxJ,eAApB,EAAqCnU,KAArC,CAA2C,GAA3C,CAAnB;AACH,iBAFD,CAGA,OAAOiR,CAAP,EAAU,CAAG;AAChB;AACJ;;AAED,iBAASoM,0BAAT,CAAoCtV,KAApC,EAA2C;AACvC,gBAAImM,oBAAJ,EAA0B;AACtB,oBAAIgH,MAAMzE,UAAU1O,KAAV,EAAiBiP,WAAjB,EAAV;AACA,oBAAI,CAAC6B,cAAcqC,GAAd,CAAD,IAAuBjI,EAAE6K,OAAF,CAAU5C,GAAV,EAAehG,gBAAf,MAAqC,CAAC,CAAjE,EAAoE;AAChEA,qCAAiBgC,IAAjB,CAAsBgE,GAAtB;AACA,2BAAMhG,iBAAiBoB,MAAjB,GAA0BjC,gBAAhC,EAAkD;AAC9Ca,yCAAiB6I,KAAjB;AACH;AACJ;;AAED,oBAAI5J,mBAAmBzN,OAAOiX,YAA9B,EAA4C;AACxC,wBAAI;AACAjX,+BAAOiX,YAAP,CAAoBxJ,eAApB,IAAuCe,iBAAiBhV,IAAjB,CAAsB,GAAtB,CAAvC;AACH,qBAFD,CAGA,OAAM+Q,CAAN,EAAS,CAAG;AACf;AACJ;AACJ;;AAED,iBAAS+M,yBAAT,GAAqC;AACjC,gBAAIC,SAAS,EAAb;AACA,gBAAInZ,KAAKgP,WAAT,EAAsB;AAClB,qBAAK,IAAIoC,IAAI,CAAb,EAAgBA,IAAIhB,iBAAiBoB,MAArC,EAA6CJ,GAA7C,EAAkD;AAC9C,wBAAIgF,MAAMzE,UAAUvB,iBAAiBgB,CAAjB,CAAV,EAA+Bc,WAA/B,EAAV;;AAEA,wBAAI,CAAC6B,cAAcqC,GAAd,CAAL,EAAyB;AACrB+C,+BAAO/G,IAAP,CAAYhC,iBAAiBgB,CAAjB,CAAZ;AACH;AACJ;AACJ;;AAED,mBAAO+H,OAAOC,OAAP,GAAiBnM,KAAjB,CAAuB,CAAvB,EAA0BjN,KAAKuP,gBAA/B,CAAP;AACH;;AAED,iBAAS8J,WAAT,GAAuB;;AAEnB,gBAAIC,eAAe/X,KAAnB;;AAEA,gBAAIgQ,OAAOpD,EAAElW,GAAF,CAAM6b,YAAN,EAAoB,UAAU3D,OAAV,EAAmBiB,CAAnB,EAAsB;AACjD,uBAAOC,gBAAgBlB,OAAhB,EAAyBmJ,YAAzB,EAAuC,mCAAmClI,CAA1E,EAA6EpR,IAA7E,CAAP;AACH,aAFU,CAAX;;AAIAwW;;AAEA,gBAAIpG,gBAAJ,EAAsB;AAClBmB,qBAAKa,IAAL,CAAUf,gBAAgB6H,2BAAhB,EAA6CI,YAA7C,EAA2D,yCAA3D,EAAsGtZ,IAAtG,CAAV;AACH;;AAEDiV,6BAAiB1D,IAAjB,CAAsBA,KAAKnW,IAAL,CAAU,EAAV,CAAtB;AACH;;AAED,iBAASme,WAAT,GAAuB;AACnB,gBAAIvZ,KAAK+O,WAAT,EAAsB;AAClB,oBAAIyK,UAAUzD,WAAd;AACA,oBAAItE,UAAUlQ,KAAd;AACA2T,sCAAsB3D,IAAtB,CAA2BF,gBAAgB,CAACmI,OAAD,EAAU/H,OAAV,CAAhB,EAAoCA,OAApC,EAA6C,wBAA7C,EAAuEzR,IAAvE,CAA3B;AACH;AACJ;;AAED,iBAAS4X,SAAT,GAAqB;AACjB,gBAAIzE,cAAc,CAAd,IAAmBD,aAAa,CAAhC,IAAqCG,eAAe,CAAxD,EAA2D;AACvDL;AACH;AACD3O,sBAAUiQ,QAAV,CAAmBN,aAAnB;AACAC,qCAAyB,IAAzB;AACAI,yBAAaoF,OAAb,CAAqB,oBAArB,EAA2C,CAAElY,KAAF,CAA3C;AACH;;AAED,iBAASsW,QAAT,GAAoB;AAChBxT,sBAAUqV,WAAV,CAAsB1F,aAAtB;AACAK,yBAAaoF,OAAb,CAAqB,mBAArB,EAA0C,CAAElY,KAAF,CAA1C;AACH;;AAED,iBAASsV,gBAAT,GAA4B;;AAExB,gBAAItU,QAAQyS,UAAUvT,GAAV,EAAZ;;AAEA,gBAAI,CAACc,UAAU,IAAV,IAAkBA,UAAU,EAA7B,KAAoCqM,UAAxC,EAAoD;AAChDpN,qBAAI,IAAJ;AACA0V,oCAAoB,IAApB;AACH,aAHD,MAIK;AACD,oBAAIxF,OAAOC,UAAUpP,KAAV,CAAX;AACA,oBAAImP,KAAKyF,OAAL,EAAJ,EAAoB;AAChB3V,yBAAIkQ,IAAJ;AACAwF,wCAAoB,IAApB;AACH,iBAHD,MAIK;AACDlC,8BAAUV,QAAV,CAAmB,qBAAnB;AACH;AACJ;AACJ;;AAED,iBAAS/X,MAAT,GAAkB;AACd,gBAAI0W,OAAJ,EAAa;AACTjU;AACH,aAFD,MAGK;AACDzB;AACH;AACJ;;AAED,iBAASA,IAAT,GAAgB;AACZ,gBAAIhF,QAAQ4V,EAAE1F,KAAF,CAAQ,qBAAR,CAAZ;;AAEA,gBAAIwK,OAAJ,EAAa;AACTD;AACA;AACH;;AAEDqB,yBAAaoF,OAAb,CAAqBlhB,KAArB,EAA4B,CAAEgJ,KAAF,CAA5B;;AAEA,gBAAIqR,UAAUtE,UAAV,CAAqB/M,KAArB,MAAgC,KAAhC,IAAyChJ,MAAMohB,kBAAN,EAA7C,EAAyE;AACrE;AACH;;AAEDpH;AACAU,sBAAU,IAAV;;AAEA9E,cAAE+F,GAAF,EAAOld,IAAP,CAAY,gBAAZ,EAA8B4iB,QAA9B;AACAzL,cAAEvM,MAAF,EAAU5K,IAAV,CAAe,iBAAf,EAAkC8b,MAAlC;AACA6C,qBAASrB,QAAT,CAAkB,WAAlB;AACAjQ,sBAAUqV,WAAV,CAAsB,WAAtB;;AAEA1G;AACAqF;;AAEAtC,0BAAcxU,KAAd;;AAEAgY;AACA3G,sBAAUrV,IAAV,CAAewY,WAAf;AACA1B,yBAAaoF,OAAb,CAAqB,eAArB,EAAsC,CAAE1D,WAAF,CAAtC;AACH;;AAED,iBAAS6D,QAAT,CAAkBzN,CAAlB,EAAqB;AACjB;AACA,gBAAIA,KAAKA,EAAExG,IAAF,IAAU,OAAf,IAA0BwG,EAAE0N,MAAF,IAAY,CAA1C,EAA6C;AAAE;AAAS;;AAExD,gBAAI/K,mBAAJ,EAAyB;AACrBoI,oCAAoB,IAApB;AACH,aAFD,MAGK;AACDD;AACH;AACDjY;AACH;;AAED,iBAASA,IAAT,GAAgB;AACZ;AACA,gBAAI,CAACiU,OAAD,IAAYvE,IAAhB,EAAsB;AAAE;AAAS;AACjCuE,sBAAU,KAAV;;AAEA9E,cAAE+F,GAAF,EAAO4F,MAAP,CAAc,gBAAd,EAAgCF,QAAhC;AACAzL,cAAEvM,MAAF,EAAUkY,MAAV,CAAiB,iBAAjB,EAAoChH,MAApC;;AAEA6C,qBAAS+D,WAAT,CAAqB,WAArB;AACArV,sBAAUiQ,QAAV,CAAmB,WAAnB;;AAEA1B,sBAAU5T,IAAV,CAAeuC,KAAf;AACA8S,yBAAaoF,OAAb,CAAqB,eAArB,EAAsC,CAAElY,KAAF,CAAtC;AACH;;AAED,iBAAS0V,MAAT,GAAkB;AACdzV,iBAAIuU,WAAJ,EAAiB,IAAjB;AACH;;AAED,iBAASvU,IAAT,CAAayB,KAAb,EAAoB8W,kBAApB,EAAwC;AACpC,gBAAIpI,UAAUG,MAAV,CAAiB7O,KAAjB,EAAwB1B,KAAxB,CAAJ,EAAoC;AAChC;AACA;AACA8W;AACA;AACH;;AAED,gBAAI2B,QAAJ,EAAcC,MAAd;AACA,gBAAI,CAAChX,KAAD,IAAU2L,UAAd,EAA0B;AACtBqH,0BAAU,IAAV;AACH,aAFD,MAEO;AACHA,0BAAU,KAAV;AACA+D,2BAAWrI,UAAU1O,KAAV,CAAX;AACAgX,yBAASD,SAASE,KAAT,EAAT;;AAEAxG,6BAAcuG,OAAOE,CAAP,GAAW,GAAZ,GAAmB,GAAhC;AACAxG,oCAAoBsG,OAAOG,CAA3B;AACAxG,+BAAeqG,OAAOzS,CAAtB;AACAqM,+BAAeoG,OAAOI,CAAtB;AACH;AACDhC;;AAEA,gBAAI2B,YAAYA,SAAS7C,OAAT,EAAZ,IAAkC,CAAC4C,kBAAvC,EAA2D;AACvD/D,yCAAyBlG,mBAAmBkK,SAASM,SAAT,EAA5C;AACH;AACJ;;AAED,iBAAS/Y,GAAT,CAAavB,IAAb,EAAmB;AACfA,mBAAOA,QAAQ,EAAf;;AAEA,gBAAI4O,cAAcqH,OAAlB,EAA2B;AACvB,uBAAO,IAAP;AACH;;AAED,mBAAOtE,UAAU4I,SAAV,CAAoB;AACvBJ,mBAAGzG,UADoB;AAEvB0G,mBAAGzG,iBAFoB;AAGvBnM,mBAAGoM,YAHoB;AAIvByG,mBAAG3C,KAAKC,KAAL,CAAW9D,eAAe,GAA1B,IAAiC;AAJb,aAApB,EAKJ,EAAEyE,QAAQtY,KAAKsY,MAAL,IAAetC,sBAAzB,EALI,CAAP;AAMH;;AAED,iBAASmB,OAAT,GAAmB;AACf,mBAAO,CAACnC,UAAUwF,QAAV,CAAmB,qBAAnB,CAAR;AACH;;AAED,iBAAShM,IAAT,GAAgB;AACZ6J;;AAEAzF,sBAAUpE,IAAV,CAAejN,KAAf;AACA8S,yBAAaoF,OAAb,CAAqB,eAArB,EAAsC,CAAElY,KAAF,CAAtC;AACH;;AAED,iBAAS8W,QAAT,GAAoB;;AAEhBrD,sBAAU0E,WAAV,CAAsB,qBAAtB;;AAEAe;;AAEA;AACA,gBAAIC,YAAY/I,UAAU4I,SAAV,CAAoB,EAAEJ,GAAGzG,UAAL,EAAiB0G,GAAG,CAApB,EAAuB5S,GAAG,CAA1B,EAApB,CAAhB;AACAiN,oBAAQ2C,GAAR,CAAY,kBAAZ,EAAgCsD,UAAUC,WAAV,EAAhC;;AAEA;AACA,gBAAIrC,SAAStC,sBAAb;AACA,gBAAInC,eAAe,CAAf,IAAoB,EAAEA,iBAAiB,CAAjB,IAAsByE,WAAW,MAAnC,CAAxB,EAAoE;AAChE,oBAAIA,WAAW,KAAX,IAAoBA,WAAW,MAA/B,IAAyCA,WAAW,MAApD,IAA8DA,WAAW,MAA7E,EAAqF;AACjFA,6BAAS,KAAT;AACH;AACJ;;AAED,gBAAIsC,YAAYrZ,IAAI,EAAE+W,QAAQA,MAAV,EAAJ,CAAhB;AAAA,gBACIuC,eAAe,EADnB;;AAGC;AACDhF,2BAAe6D,WAAf,CAA2B,kBAA3B;AACA7D,2BAAeuB,GAAf,CAAmB,kBAAnB,EAAuC,aAAvC;;AAEA,gBAAI,CAACwD,SAAD,IAAchM,UAAlB,EAA8B;AAC1B;AACAiH,+BAAevB,QAAf,CAAwB,kBAAxB;AACH,aAHD,MAIK;AACD,oBAAIwG,UAAUF,UAAUD,WAAV,EAAd;AAAA,oBACII,UAAUH,UAAU1I,WAAV,EADd;;AAGA;AACA,oBAAIxB,eAAekK,UAAUI,KAAV,KAAoB,CAAvC,EAA0C;AACtCnF,mCAAeuB,GAAf,CAAmB,kBAAnB,EAAuC2D,OAAvC;AACH,iBAFD,MAGK;AACDlF,mCAAeuB,GAAf,CAAmB,kBAAnB,EAAuC,aAAvC;AACAvB,mCAAeuB,GAAf,CAAmB,QAAnB,EAA6BwD,UAAUzI,QAAV,EAA7B;AACH;;AAED,oBAAInS,KAAKiQ,SAAT,EAAoB;AAChB,wBAAImG,MAAMwE,UAAUK,KAAV,EAAV;AACA7E,wBAAIiE,CAAJ,GAAQ,CAAR;AACA,wBAAIa,YAAYvJ,UAAUyE,GAAV,EAAelE,WAAf,EAAhB;AACA,wBAAIiJ,WAAW,2BAA2BD,SAA3B,GAAuC,IAAvC,GAA8CJ,OAA9C,GAAwD,GAAvE;;AAEA,wBAAIxK,EAAJ,EAAQ;AACJuE,yCAAiBuC,GAAjB,CAAqB,QAArB,EAA+BzF,UAAUuJ,SAAV,EAAqB/I,QAArB,CAA8B,EAAEiJ,cAAc,CAAhB,EAA9B,EAAmDN,OAAnD,CAA/B;AACH,qBAFD,MAGK;AACDjG,yCAAiBuC,GAAjB,CAAqB,YAArB,EAAmC,aAAa+D,QAAhD;AACAtG,yCAAiBuC,GAAjB,CAAqB,YAArB,EAAmC,UAAU+D,QAA7C;AACAtG,yCAAiBuC,GAAjB,CAAqB,YAArB,EAAmC,SAAS+D,QAA5C;AACA;AACAtG,yCAAiBuC,GAAjB,CAAqB,YAArB,EACI,+BAA+B8D,SAA/B,GAA2C,IAA3C,GAAkDJ,OAAlD,GAA4D,GADhE;AAEH;AACJ;;AAEDD,+BAAeD,UAAU5I,QAAV,CAAmBsG,MAAnB,CAAf;AACH;;AAED;AACA,gBAAItY,KAAK2O,SAAT,EAAoB;AAChBqG,0BAAUvT,GAAV,CAAcoZ,YAAd;AACH;;AAED,gBAAI7a,KAAKgP,WAAT,EAAsB;AAClBqK;AACH;;AAEDE;AACH;;AAED,iBAASkB,qBAAT,GAAiC;AAC7B,gBAAIL,IAAIzG,iBAAR;AACA,gBAAInM,IAAIoM,YAAR;;AAEA,gBAAGhF,cAAcqH,OAAjB,EAA0B;AACtB;AACAlB,iCAAiB/V,IAAjB;AACA4V,4BAAY5V,IAAZ;AACA0V,2BAAW1V,IAAX;AACH,aALD,MAMK;AACD;AACA+V,iCAAiBxX,IAAjB;AACAqX,4BAAYrX,IAAZ;AACAmX,2BAAWnX,IAAX;;AAEA;AACA,oBAAIga,QAAQ6C,IAAIlH,SAAhB;AACA,oBAAIsE,QAAQrE,aAAc3L,IAAI2L,UAA9B;AACAoE,wBAAQG,KAAK2D,GAAL,CACJ,CAACjI,gBADG,EAEJsE,KAAK4D,GAAL,CAASpI,YAAYE,gBAArB,EAAuCmE,QAAQnE,gBAA/C,CAFI,CAAR;AAIAoE,wBAAQE,KAAK2D,GAAL,CACJ,CAACjI,gBADG,EAEJsE,KAAK4D,GAAL,CAASnI,aAAaC,gBAAtB,EAAwCoE,QAAQpE,gBAAhD,CAFI,CAAR;AAIAsB,2BAAW0C,GAAX,CAAe;AACX,2BAAOI,QAAQ,IADJ;AAEX,4BAAQD,QAAQ;AAFL,iBAAf;;AAKA,oBAAIgE,SAAS1H,eAAeN,UAA5B;AACAwB,iCAAiBqC,GAAjB,CAAqB;AACjB,4BAASmE,SAAU/H,wBAAwB,CAAnC,GAAyC;AADhC,iBAArB;;AAIA;AACA,oBAAIgI,SAAU9H,UAAD,GAAeL,WAA5B;AACAuB,4BAAYwC,GAAZ,CAAgB;AACZ,2BAAQoE,SAAS/H,iBAAV,GAA+B;AAD1B,iBAAhB;AAGH;AACJ;;AAED,iBAASyD,mBAAT,CAA6BuE,YAA7B,EAA2C;AACvC,gBAAIxY,QAAQ1B,KAAZ;AAAA,gBACIsZ,eAAe,EADnB;AAAA,gBAEIa,aAAa,CAAC/J,UAAUG,MAAV,CAAiB7O,KAAjB,EAAwB8S,WAAxB,CAFlB;;AAIA,gBAAI9S,KAAJ,EAAW;AACP4X,+BAAe5X,MAAM+O,QAAN,CAAegE,sBAAf,CAAf;AACA;AACAuC,2CAA2BtV,KAA3B;AACH;;AAED,gBAAIsS,OAAJ,EAAa;AACTlB,6BAAa5S,GAAb,CAAiBoZ,YAAjB;AACH;;AAED,gBAAIY,gBAAgBC,UAApB,EAAgC;AAC5B9I,0BAAUnE,MAAV,CAAiBxL,KAAjB;AACAoR,6BAAaoF,OAAb,CAAqB,QAArB,EAA+B,CAAExW,KAAF,CAA/B;AACH;AACJ;;AAED,iBAAS+P,MAAT,GAAkB;AACdE,wBAAYuB,QAAQ5Y,KAAR,EAAZ;AACAsX,yBAAasB,QAAQtZ,MAAR,EAAb;AACAiY,+BAAmBsB,WAAWvZ,MAAX,EAAnB;AACAmY,yBAAaqB,OAAO9Y,KAAP,EAAb;AACAwX,0BAAcsB,OAAOxZ,MAAP,EAAd;AACAsY,gCAAoBmB,YAAYzZ,MAAZ,EAApB;AACAoY,yBAAauB,YAAYjZ,KAAZ,EAAb;AACA2X,oCAAwBuB,iBAAiBlZ,KAAjB,EAAxB;;AAEA,gBAAI,CAAC6S,IAAL,EAAW;AACPrK,0BAAU+S,GAAV,CAAc,UAAd,EAA0B,UAA1B;AACA/S,0BAAUsX,MAAV,CAAiBC,UAAUvX,SAAV,EAAqBuR,aAArB,CAAjB;AACH;;AAED6E;;AAEA,gBAAIza,KAAKgP,WAAT,EAAsB;AAClBqK;AACH;;AAEDhF,yBAAaoF,OAAb,CAAqB,iBAArB;AACH;;AAED,iBAASoC,OAAT,GAAmB;AACfxH,yBAAa9W,IAAb;AACAqY,0BAAckE,MAAd,CAAqB,oCAArB;AACAzV,sBAAUtD,MAAV;AACA4U,qBAAS5U,MAAT;AACAsP,sBAAUyL,MAAMrjB,EAAhB,IAAsB,IAAtB;AACH;;AAED,iBAASiU,MAAT,CAAgBqP,UAAhB,EAA4BC,WAA5B,EAAyC;AACrC,gBAAID,eAAe3N,SAAnB,EAA8B;AAC1B,uBAAOD,EAAEwE,MAAF,CAAS,EAAT,EAAa3S,IAAb,CAAP;AACH;AACD,gBAAIgc,gBAAgB5N,SAApB,EAA+B;AAC3B,uBAAOpO,KAAK+b,UAAL,CAAP;AACH;;AAED/b,iBAAK+b,UAAL,IAAmBC,WAAnB;AACA9F;AACH;;AAED,iBAAS+F,MAAT,GAAkB;AACd5f,uBAAW,KAAX;AACAgY,yBAAaxH,IAAb,CAAkB,UAAlB,EAA8B,KAA9B;AACA+I,0BAAc8D,WAAd,CAA0B,aAA1B;AACH;;AAED,iBAAS/C,OAAT,GAAmB;AACf3X;AACA3C,uBAAW,IAAX;AACAgY,yBAAaxH,IAAb,CAAkB,UAAlB,EAA8B,IAA9B;AACA+I,0BAActB,QAAd,CAAuB,aAAvB;AACH;;AAEDgC;;AAEA,YAAIwF,QAAQ;AACRve,kBAAMA,IADE;AAERyB,kBAAMA,IAFE;AAGRzC,oBAAQA,MAHA;AAIRyW,oBAAQA,MAJA;AAKRtG,oBAAQA,MALA;AAMRuP,oBAAQA,MANA;AAORtF,qBAASA,OAPD;AAQRnV,iBAAK,aAAUiE,CAAV,EAAa;AACdjE,qBAAIiE,CAAJ;AACAyR;AACH,aAXO;AAYR3V,iBAAKA,GAZG;AAaRsa,qBAASA,OAbD;AAcRxX,uBAAWA;AAdH,SAAZ;;AAiBAyX,cAAMrjB,EAAN,GAAW4X,UAAU+B,IAAV,CAAe0J,KAAf,IAAwB,CAAnC;;AAEA,eAAOA,KAAP;AACH;;AAED;;;;AAIA,aAASF,SAAT,CAAmBM,MAAnB,EAA2BC,KAA3B,EAAkC;AAC9B,YAAIC,SAAS,CAAb;AACA,YAAIC,UAAUH,OAAO7E,UAAP,EAAd;AACA,YAAIiF,WAAWJ,OAAOK,WAAP,EAAf;AACA,YAAIC,cAAcL,MAAMI,WAAN,EAAlB;AACA,YAAIrI,MAAMgI,OAAO,CAAP,EAAU/H,aAApB;AACA,YAAIsI,UAAUvI,IAAIwI,eAAlB;AACA,YAAIC,YAAYF,QAAQG,WAAR,GAAsBzO,EAAE+F,GAAF,EAAO2I,UAAP,EAAtC;AACA,YAAIC,aAAaL,QAAQM,YAAR,GAAuB5O,EAAE+F,GAAF,EAAO8I,SAAP,EAAxC;AACA,YAAIrB,SAASQ,MAAMR,MAAN,EAAb;AACAA,eAAOrX,GAAP,IAAckY,WAAd;;AAEAb,eAAOpX,IAAP,IACImT,KAAK4D,GAAL,CAASK,OAAOpX,IAAhB,EAAuBoX,OAAOpX,IAAP,GAAc8X,OAAd,GAAwBM,SAAxB,IAAqCA,YAAYN,OAAlD,GACtB3E,KAAKQ,GAAL,CAASyD,OAAOpX,IAAP,GAAc8X,OAAd,GAAwBM,SAAjC,CADsB,GACwB,CAD9C,CADJ;;AAIAhB,eAAOrX,GAAP,IACIoT,KAAK4D,GAAL,CAASK,OAAOrX,GAAhB,EAAuBqX,OAAOrX,GAAP,GAAagY,QAAb,GAAwBQ,UAAxB,IAAsCA,aAAaR,QAApD,GACtB5E,KAAKQ,GAAL,CAASoE,WAAWE,WAAX,GAAyBJ,MAAlC,CADsB,GACsBA,MAD5C,CADJ;;AAIA,eAAOT,MAAP;AACH;;AAED;;;AAGA,aAASpN,IAAT,GAAgB,CAEf;;AAED;;;AAGA,aAASkI,eAAT,CAAyBtK,CAAzB,EAA4B;AACxBA,UAAEsK,eAAF;AACH;;AAED;;;;AAIA,aAASzf,IAAT,CAAcimB,IAAd,EAAoBC,GAApB,EAAyB;AACrB,YAAIjQ,QAAQpT,MAAMkI,SAAN,CAAgBkL,KAA5B;AACA,YAAI9T,OAAO8T,MAAM7I,IAAN,CAAW+Y,SAAX,EAAsB,CAAtB,CAAX;AACA,eAAO,YAAY;AACf,mBAAOF,KAAK/P,KAAL,CAAWgQ,GAAX,EAAgB/jB,KAAKikB,MAAL,CAAYnQ,MAAM7I,IAAN,CAAW+Y,SAAX,CAAZ,CAAhB,CAAP;AACH,SAFD;AAGH;;AAED;;;;AAIA,aAAS7F,SAAT,CAAmBrW,OAAnB,EAA4Boc,MAA5B,EAAoCC,OAApC,EAA6CC,MAA7C,EAAqD;AACjDF,iBAASA,UAAU,YAAY,CAAG,CAAlC;AACAC,kBAAUA,WAAW,YAAY,CAAG,CAApC;AACAC,iBAASA,UAAU,YAAY,CAAG,CAAlC;AACA,YAAIrJ,MAAM1H,QAAV;AACA,YAAIgR,WAAW,KAAf;AACA,YAAI7B,SAAS,EAAb;AACA,YAAI8B,YAAY,CAAhB;AACA,YAAIC,WAAW,CAAf;AACA,YAAIC,WAAY,kBAAkB/b,MAAlC;;AAEA,YAAIgc,mBAAmB,EAAvB;AACAA,yBAAiB,aAAjB,IAAkCC,OAAlC;AACAD,yBAAiB,WAAjB,IAAgCC,OAAhC;AACAD,yBAAiB,qBAAjB,IAA0CpP,IAA1C;AACAoP,yBAAiB,kBAAjB,IAAuCE,IAAvC;;AAEA,iBAASD,OAAT,CAAiB1R,CAAjB,EAAoB;AAChB,gBAAIA,EAAEsK,eAAN,EAAuB;AACnBtK,kBAAEsK,eAAF;AACH;AACD,gBAAItK,EAAEuK,cAAN,EAAsB;AAClBvK,kBAAEuK,cAAF;AACH;AACDvK,cAAE4R,WAAF,GAAgB,KAAhB;AACH;;AAED,iBAASvP,IAAT,CAAcrC,CAAd,EAAiB;AACb,gBAAIqR,QAAJ,EAAc;AACV;AACA,oBAAIlN,MAAM4D,IAAI8J,YAAJ,GAAmB,CAAzB,IAA8B,CAAC7R,EAAE0N,MAArC,EAA6C;AACzC,2BAAOiE,MAAP;AACH;;AAED,oBAAIG,UAAU9R,EAAE+R,aAAF,CAAgBD,OAA9B;AACA,oBAAIE,QAAQF,UAAUA,QAAQ,CAAR,EAAWE,KAArB,GAA6BhS,EAAEgS,KAA3C;AACA,oBAAIC,QAAQH,UAAUA,QAAQ,CAAR,EAAWG,KAArB,GAA6BjS,EAAEiS,KAA3C;;AAEA,oBAAI7G,QAAQG,KAAK2D,GAAL,CAAS,CAAT,EAAY3D,KAAK4D,GAAL,CAAS6C,QAAQxC,OAAOpX,IAAxB,EAA8BmZ,QAA9B,CAAZ,CAAZ;AACA,oBAAIlG,QAAQE,KAAK2D,GAAL,CAAS,CAAT,EAAY3D,KAAK4D,GAAL,CAAS8C,QAAQzC,OAAOrX,GAAxB,EAA6BmZ,SAA7B,CAAZ,CAAZ;;AAEA,oBAAIE,QAAJ,EAAc;AACV;AACAE,4BAAQ1R,CAAR;AACH;;AAEDkR,uBAAOnQ,KAAP,CAAajM,OAAb,EAAsB,CAACsW,KAAD,EAAQC,KAAR,EAAerL,CAAf,CAAtB;AACH;AACJ;;AAED,iBAASkS,KAAT,CAAelS,CAAf,EAAkB;AACd,gBAAImS,aAAcnS,EAAEoS,KAAH,GAAapS,EAAEoS,KAAF,IAAW,CAAxB,GAA8BpS,EAAE0N,MAAF,IAAY,CAA3D;;AAEA,gBAAI,CAACyE,UAAD,IAAe,CAACd,QAApB,EAA8B;AAC1B,oBAAIF,QAAQpQ,KAAR,CAAcjM,OAAd,EAAuBkc,SAAvB,MAAsC,KAA1C,EAAiD;AAC7CK,+BAAW,IAAX;AACAC,gCAAYtP,EAAElN,OAAF,EAAW9F,MAAX,EAAZ;AACAuiB,+BAAWvP,EAAElN,OAAF,EAAWpF,KAAX,EAAX;AACA8f,6BAASxN,EAAElN,OAAF,EAAW0a,MAAX,EAAT;;AAEAxN,sBAAE+F,GAAF,EAAOld,IAAP,CAAY4mB,gBAAZ;AACAzP,sBAAE+F,IAAIE,IAAN,EAAYE,QAAZ,CAAqB,aAArB;;AAEA,wBAAI,CAACqJ,QAAL,EAAe;AACXnP,6BAAKrC,CAAL;AACH;;AAED0R,4BAAQ1R,CAAR;AACH;AACJ;AACJ;;AAED,iBAAS2R,IAAT,GAAgB;AACZ,gBAAIN,QAAJ,EAAc;AACVrP,kBAAE+F,GAAF,EAAO4F,MAAP,CAAc8D,gBAAd;AACAzP,kBAAE+F,IAAIE,IAAN,EAAYsF,WAAZ,CAAwB,aAAxB;AACA6D,uBAAOrQ,KAAP,CAAajM,OAAb,EAAsBkc,SAAtB;AACH;AACDK,uBAAW,KAAX;AACH;;AAEDrP,UAAElN,OAAF,EAAWjK,IAAX,CAAgB,sBAAhB,EAAwCqnB,KAAxC;AACH;;AAED,aAAStL,QAAT,CAAkBkK,IAAlB,EAAwBuB,IAAxB,EAA8BC,QAA9B,EAAwC;AACpC,YAAIC,OAAJ;AACA,eAAO,YAAY;AACf,gBAAIC,UAAU,IAAd;AAAA,gBAAoBxlB,OAAOgkB,SAA3B;AACA,gBAAIyB,YAAY,SAAZA,SAAY,GAAY;AACxBF,0BAAU,IAAV;AACAzB,qBAAK/P,KAAL,CAAWyR,OAAX,EAAoBxlB,IAApB;AACH,aAHD;AAIA,gBAAIslB,QAAJ,EAAcI,aAAaH,OAAb;AACd,gBAAID,YAAY,CAACC,OAAjB,EAA0BA,UAAU5H,WAAW8H,SAAX,EAAsBJ,IAAtB,CAAV;AAC7B,SARD;AASH;;AAED;;;AAGA,QAAIM,SAAS,aAAb;AACA3Q,MAAE4Q,EAAF,CAAKlM,QAAL,GAAgB,UAAU7S,IAAV,EAAgBgf,KAAhB,EAAuB;;AAEnC,YAAI,OAAOhf,IAAP,IAAe,QAAnB,EAA6B;;AAEzB,gBAAI+d,cAAc,IAAlB;AACA,gBAAI5kB,OAAOU,MAAMkI,SAAN,CAAgBkL,KAAhB,CAAsB7I,IAAtB,CAA4B+Y,SAA5B,EAAuC,CAAvC,CAAX;;AAEA,iBAAKpE,IAAL,CAAU,YAAY;AAClB,oBAAI+C,QAAQzL,UAAUlC,EAAE,IAAF,EAAQ/O,IAAR,CAAa0f,MAAb,CAAV,CAAZ;AACA,oBAAIhD,KAAJ,EAAW;AACP,wBAAImD,SAASnD,MAAM9b,IAAN,CAAb;AACA,wBAAI,CAACif,MAAL,EAAa;AACT,8BAAM,IAAIC,KAAJ,CAAW,gCAAgClf,IAAhC,GAAuC,GAAlD,CAAN;AACH;;AAED,wBAAIA,QAAQ,KAAZ,EAAmB;AACf+d,sCAAcjC,MAAMva,GAAN,EAAd;AACH,qBAFD,MAGK,IAAIvB,QAAQ,WAAZ,EAAyB;AAC1B+d,sCAAcjC,MAAMzX,SAApB;AACH,qBAFI,MAGA,IAAIrE,QAAQ,QAAZ,EAAsB;AACvB+d,sCAAcjC,MAAMpP,MAAN,CAAaQ,KAAb,CAAmB4O,KAAnB,EAA0B3iB,IAA1B,CAAd;AACH,qBAFI,MAGA,IAAI6G,QAAQ,SAAZ,EAAuB;AACxB8b,8BAAMD,OAAN;AACA1N,0BAAE,IAAF,EAAQgR,UAAR,CAAmBL,MAAnB;AACH,qBAHI,MAIA;AACDG,+BAAO/R,KAAP,CAAa4O,KAAb,EAAoB3iB,IAApB;AACH;AACJ;AACJ,aAzBD;;AA2BA,mBAAO4kB,WAAP;AACH;;AAED;AACA,eAAO,KAAKlL,QAAL,CAAc,SAAd,EAAyBkG,IAAzB,CAA8B,YAAY;AAC7C,gBAAIliB,UAAUsX,EAAEwE,MAAF,CAAS,EAAT,EAAa3S,IAAb,EAAmBmO,EAAE,IAAF,EAAQ/O,IAAR,EAAnB,CAAd;AACA,gBAAI0c,QAAQjJ,SAAS,IAAT,EAAehc,OAAf,CAAZ;AACAsX,cAAE,IAAF,EAAQ/O,IAAR,CAAa0f,MAAb,EAAqBhD,MAAMrjB,EAA3B;AACH,SAJM,CAAP;AAKH,KA3CD;;AA6CA0V,MAAE4Q,EAAF,CAAKlM,QAAL,CAAcxH,IAAd,GAAqB,IAArB;AACA8C,MAAE4Q,EAAF,CAAKlM,QAAL,CAAcuM,QAAd,GAAyB,EAAzB;AACAjR,MAAE4Q,EAAF,CAAKlM,QAAL,CAAcyE,SAAd,GAA0BA,SAA1B;AACAnJ,MAAE4Q,EAAF,CAAKlM,QAAL,CAAcwM,QAAd,GAAyBhR,WAAzB;;AAEAF,MAAE0E,QAAF,GAAa,EAAb;AACA1E,MAAE0E,QAAF,CAAWyM,YAAX,GAA0B,EAA1B;AACAnR,MAAE0E,QAAF,CAAW0M,QAAX,GAAsB,EAAtB;;AAEApR,MAAE4Q,EAAF,CAAKlM,QAAL,CAAc2M,wBAAd,GAAyC,YAAY;AACjD,YAAI,CAACxO,qBAAL,EAA4B;AACxB7C,cAAE,mBAAF,EAAuB0E,QAAvB,CAAgC;AAC5B/C,iCAAiB;AADW,aAAhC;AAGH;AACJ,KAND;;AAQA;AACA;AACA;;AAEA,KAAC,YAAW;;AAEZ,YAAI2P,WAAW,UAAf;AAAA,YACIC,YAAY,MADhB;AAAA,YAEIC,cAAc,CAFlB;AAAA,YAGIC,OAAOlI,IAHX;AAAA,YAIImI,YAAYD,KAAKjI,KAJrB;AAAA,YAKImI,UAAUF,KAAKtE,GALnB;AAAA,YAMIyE,UAAUH,KAAKvE,GANnB;AAAA,YAOI2E,aAAaJ,KAAKK,MAPtB;;AASA,YAAItO,YAAY,SAASA,SAAT,CAAoB1O,KAApB,EAA2BjD,IAA3B,EAAiC;;AAE7CiD,oBAASA,KAAD,GAAUA,KAAV,GAAkB,EAA1B;AACAjD,mBAAOA,QAAQ,EAAf;;AAEA;AACA,gBAAIiD,iBAAiB0O,SAArB,EAAgC;AAC7B,uBAAO1O,KAAP;AACF;AACD;AACA,gBAAI,EAAE,gBAAgB0O,SAAlB,CAAJ,EAAkC;AAC9B,uBAAO,IAAIA,SAAJ,CAAc1O,KAAd,EAAqBjD,IAArB,CAAP;AACH;;AAED,gBAAIoW,MAAM8J,WAAWjd,KAAX,CAAV;AACA,iBAAKkd,EAAL,GAAU/J,IAAIgK,CAAd,EACA,KAAKC,EAAL,GAAUjK,IAAIkK,CADd,EAEA,KAAKC,EAAL,GAAUnK,IAAIoK,CAFd,EAGA,KAAKC,EAAL,GAAUrK,IAAIiE,CAHd,EAIA,KAAKqG,OAAL,GAAeb,UAAU,MAAI,KAAKY,EAAnB,IAAyB,GAJxC,EAKA,KAAKE,OAAL,GAAe3gB,KAAKsY,MAAL,IAAelC,IAAIkC,MALlC;AAMA,iBAAKsI,aAAL,GAAqB5gB,KAAKob,YAA1B;;AAEA;AACA;AACA;AACA;AACA,gBAAI,KAAK+E,EAAL,GAAU,CAAd,EAAiB;AAAE,qBAAKA,EAAL,GAAUN,UAAU,KAAKM,EAAf,CAAV;AAA+B;AAClD,gBAAI,KAAKE,EAAL,GAAU,CAAd,EAAiB;AAAE,qBAAKA,EAAL,GAAUR,UAAU,KAAKQ,EAAf,CAAV;AAA+B;AAClD,gBAAI,KAAKE,EAAL,GAAU,CAAd,EAAiB;AAAE,qBAAKA,EAAL,GAAUV,UAAU,KAAKU,EAAf,CAAV;AAA+B;;AAElD,iBAAKM,GAAL,GAAWzK,IAAI0K,EAAf;AACA,iBAAKC,MAAL,GAAcpB,aAAd;AACH,SAjCD;;AAmCAhO,kBAAU5P,SAAV,GAAsB;AAClBif,oBAAQ,kBAAW;AACf,uBAAO,KAAKC,aAAL,KAAuB,GAA9B;AACH,aAHiB;AAIlBC,qBAAS,mBAAW;AAChB,uBAAO,CAAC,KAAKF,MAAL,EAAR;AACH,aANiB;AAOlB7J,qBAAS,mBAAW;AAChB,uBAAO,KAAK0J,GAAZ;AACH,aATiB;AAUlBvG,uBAAW,qBAAW;AAClB,uBAAO,KAAKqG,OAAZ;AACH,aAZiB;AAalBQ,sBAAU,oBAAW;AACjB,uBAAO,KAAKV,EAAZ;AACH,aAfiB;AAgBlBQ,2BAAe,yBAAW;AACtB,oBAAI7K,MAAM,KAAK6E,KAAL,EAAV;AACA,uBAAO,CAAC7E,IAAIgK,CAAJ,GAAQ,GAAR,GAAchK,IAAIkK,CAAJ,GAAQ,GAAtB,GAA4BlK,IAAIoK,CAAJ,GAAQ,GAArC,IAA4C,IAAnD;AACH,aAnBiB;AAoBlBY,sBAAU,kBAAS7e,KAAT,EAAgB;AACtB,qBAAKke,EAAL,GAAUY,WAAW9e,KAAX,CAAV;AACA,qBAAKme,OAAL,GAAeb,UAAU,MAAI,KAAKY,EAAnB,IAAyB,GAAxC;AACA,uBAAO,IAAP;AACH,aAxBiB;AAyBlBvG,mBAAO,iBAAW;AACd,oBAAIoH,MAAMC,SAAS,KAAKpB,EAAd,EAAkB,KAAKE,EAAvB,EAA2B,KAAKE,EAAhC,CAAV;AACA,uBAAO,EAAEpG,GAAGmH,IAAInH,CAAJ,GAAQ,GAAb,EAAkBC,GAAGkH,IAAIlH,CAAzB,EAA4B5S,GAAG8Z,IAAI9Z,CAAnC,EAAsC6S,GAAG,KAAKoG,EAA9C,EAAP;AACH,aA5BiB;AA6BlBe,yBAAa,uBAAW;AACpB,oBAAIF,MAAMC,SAAS,KAAKpB,EAAd,EAAkB,KAAKE,EAAvB,EAA2B,KAAKE,EAAhC,CAAV;AACA,oBAAIpG,IAAI0F,UAAUyB,IAAInH,CAAJ,GAAQ,GAAlB,CAAR;AAAA,oBAAgCC,IAAIyF,UAAUyB,IAAIlH,CAAJ,GAAQ,GAAlB,CAApC;AAAA,oBAA4D5S,IAAIqY,UAAUyB,IAAI9Z,CAAJ,GAAQ,GAAlB,CAAhE;AACA,uBAAQ,KAAKiZ,EAAL,IAAW,CAAZ,GACL,SAAUtG,CAAV,GAAc,IAAd,GAAqBC,CAArB,GAAyB,KAAzB,GAAiC5S,CAAjC,GAAqC,IADhC,GAEL,UAAU2S,CAAV,GAAc,IAAd,GAAqBC,CAArB,GAAyB,KAAzB,GAAiC5S,CAAjC,GAAqC,KAArC,GAA4C,KAAKkZ,OAAjD,GAA2D,GAF7D;AAGH,aAnCiB;AAoClB9O,mBAAO,iBAAW;AACd,oBAAI6P,MAAMC,SAAS,KAAKvB,EAAd,EAAkB,KAAKE,EAAvB,EAA2B,KAAKE,EAAhC,CAAV;AACA,uBAAO,EAAEpG,GAAGsH,IAAItH,CAAJ,GAAQ,GAAb,EAAkBC,GAAGqH,IAAIrH,CAAzB,EAA4BvI,GAAG4P,IAAI5P,CAAnC,EAAsCwI,GAAG,KAAKoG,EAA9C,EAAP;AACH,aAvCiB;AAwClBkB,yBAAa,uBAAW;AACpB,oBAAIF,MAAMC,SAAS,KAAKvB,EAAd,EAAkB,KAAKE,EAAvB,EAA2B,KAAKE,EAAhC,CAAV;AACA,oBAAIpG,IAAI0F,UAAU4B,IAAItH,CAAJ,GAAQ,GAAlB,CAAR;AAAA,oBAAgCC,IAAIyF,UAAU4B,IAAIrH,CAAJ,GAAQ,GAAlB,CAApC;AAAA,oBAA4DvI,IAAIgO,UAAU4B,IAAI5P,CAAJ,GAAQ,GAAlB,CAAhE;AACA,uBAAQ,KAAK4O,EAAL,IAAW,CAAZ,GACL,SAAUtG,CAAV,GAAc,IAAd,GAAqBC,CAArB,GAAyB,KAAzB,GAAiCvI,CAAjC,GAAqC,IADhC,GAEL,UAAUsI,CAAV,GAAc,IAAd,GAAqBC,CAArB,GAAyB,KAAzB,GAAiCvI,CAAjC,GAAqC,KAArC,GAA4C,KAAK6O,OAAjD,GAA2D,GAF7D;AAGH,aA9CiB;AA+ClBkB,mBAAO,eAASC,UAAT,EAAqB;AACxB,uBAAOC,SAAS,KAAK3B,EAAd,EAAkB,KAAKE,EAAvB,EAA2B,KAAKE,EAAhC,EAAoCsB,UAApC,CAAP;AACH,aAjDiB;AAkDlBlH,yBAAa,qBAASkH,UAAT,EAAqB;AAC9B,uBAAO,MAAM,KAAKD,KAAL,CAAWC,UAAX,CAAb;AACH,aApDiB;AAqDlBE,oBAAQ,kBAAW;AACf,uBAAOC,UAAU,KAAK7B,EAAf,EAAmB,KAAKE,EAAxB,EAA4B,KAAKE,EAAjC,EAAqC,KAAKE,EAA1C,CAAP;AACH,aAvDiB;AAwDlBwB,0BAAc,wBAAW;AACrB,uBAAO,MAAM,KAAKF,MAAL,EAAb;AACH,aA1DiB;AA2DlB9G,mBAAO,iBAAW;AACd,uBAAO,EAAEmF,GAAGP,UAAU,KAAKM,EAAf,CAAL,EAAyBG,GAAGT,UAAU,KAAKQ,EAAf,CAA5B,EAAgDG,GAAGX,UAAU,KAAKU,EAAf,CAAnD,EAAuElG,GAAG,KAAKoG,EAA/E,EAAP;AACH,aA7DiB;AA8DlBvO,yBAAa,uBAAW;AACpB,uBAAQ,KAAKuO,EAAL,IAAW,CAAZ,GACL,SAAUZ,UAAU,KAAKM,EAAf,CAAV,GAA+B,IAA/B,GAAsCN,UAAU,KAAKQ,EAAf,CAAtC,GAA2D,IAA3D,GAAkER,UAAU,KAAKU,EAAf,CAAlE,GAAuF,GADlF,GAEL,UAAUV,UAAU,KAAKM,EAAf,CAAV,GAA+B,IAA/B,GAAsCN,UAAU,KAAKQ,EAAf,CAAtC,GAA2D,IAA3D,GAAkER,UAAU,KAAKU,EAAf,CAAlE,GAAuF,IAAvF,GAA8F,KAAKG,OAAnG,GAA6G,GAF/G;AAGH,aAlEiB;AAmElBwB,6BAAiB,2BAAW;AACxB,uBAAO,EAAE9B,GAAGP,UAAUsC,QAAQ,KAAKhC,EAAb,EAAiB,GAAjB,IAAwB,GAAlC,IAAyC,GAA9C,EAAmDG,GAAGT,UAAUsC,QAAQ,KAAK9B,EAAb,EAAiB,GAAjB,IAAwB,GAAlC,IAAyC,GAA/F,EAAoGG,GAAGX,UAAUsC,QAAQ,KAAK5B,EAAb,EAAiB,GAAjB,IAAwB,GAAlC,IAAyC,GAAhJ,EAAqJlG,GAAG,KAAKoG,EAA7J,EAAP;AACH,aArEiB;AAsElB2B,mCAAuB,iCAAW;AAC9B,uBAAQ,KAAK3B,EAAL,IAAW,CAAZ,GACL,SAAUZ,UAAUsC,QAAQ,KAAKhC,EAAb,EAAiB,GAAjB,IAAwB,GAAlC,CAAV,GAAmD,KAAnD,GAA2DN,UAAUsC,QAAQ,KAAK9B,EAAb,EAAiB,GAAjB,IAAwB,GAAlC,CAA3D,GAAoG,KAApG,GAA4GR,UAAUsC,QAAQ,KAAK5B,EAAb,EAAiB,GAAjB,IAAwB,GAAlC,CAA5G,GAAqJ,IADhJ,GAEL,UAAUV,UAAUsC,QAAQ,KAAKhC,EAAb,EAAiB,GAAjB,IAAwB,GAAlC,CAAV,GAAmD,KAAnD,GAA2DN,UAAUsC,QAAQ,KAAK9B,EAAb,EAAiB,GAAjB,IAAwB,GAAlC,CAA3D,GAAoG,KAApG,GAA4GR,UAAUsC,QAAQ,KAAK5B,EAAb,EAAiB,GAAjB,IAAwB,GAAlC,CAA5G,GAAqJ,KAArJ,GAA6J,KAAKG,OAAlK,GAA4K,GAF9K;AAGH,aA1EiB;AA2ElB2B,oBAAQ,kBAAW;AACf,oBAAI,KAAK5B,EAAL,KAAY,CAAhB,EAAmB;AACf,2BAAO,aAAP;AACH;;AAED,oBAAI,KAAKA,EAAL,GAAU,CAAd,EAAiB;AACb,2BAAO,KAAP;AACH;;AAED,uBAAO6B,SAASR,SAAS,KAAK3B,EAAd,EAAkB,KAAKE,EAAvB,EAA2B,KAAKE,EAAhC,EAAoC,IAApC,CAAT,KAAuD,KAA9D;AACH,aArFiB;AAsFlBpO,sBAAU,kBAASoQ,WAAT,EAAsB;AAC5B,oBAAIC,aAAa,MAAMR,UAAU,KAAK7B,EAAf,EAAmB,KAAKE,EAAxB,EAA4B,KAAKE,EAAjC,EAAqC,KAAKE,EAA1C,CAAvB;AACA,oBAAIgC,mBAAmBD,UAAvB;AACA,oBAAIpH,eAAe,KAAKwF,aAAL,GAAqB,oBAArB,GAA4C,EAA/D;;AAEA,oBAAI2B,WAAJ,EAAiB;AACb,wBAAInI,IAAIzI,UAAU4Q,WAAV,CAAR;AACAE,uCAAmBrI,EAAE6H,YAAF,EAAnB;AACH;;AAED,uBAAO,gDAA8C7G,YAA9C,GAA2D,gBAA3D,GAA4EoH,UAA5E,GAAuF,eAAvF,GAAuGC,gBAAvG,GAAwH,GAA/H;AACH,aAjGiB;AAkGlBzQ,sBAAU,kBAASsG,MAAT,EAAiB;AACvB,oBAAIoK,YAAY,CAAC,CAACpK,MAAlB;AACAA,yBAASA,UAAU,KAAKqI,OAAxB;;AAEA,oBAAI5O,kBAAkB,KAAtB;AACA,oBAAI4Q,WAAW,KAAKlC,EAAL,GAAU,CAAV,IAAe,KAAKA,EAAL,IAAW,CAAzC;AACA,oBAAImC,mBAAmB,CAACF,SAAD,IAAcC,QAAd,KAA2BrK,WAAW,KAAX,IAAoBA,WAAW,MAA/B,IAAyCA,WAAW,MAApD,IAA8DA,WAAW,MAApG,CAAvB;;AAEA,oBAAIsK,gBAAJ,EAAsB;AAClB;AACA;AACA,wBAAItK,WAAW,MAAX,IAAqB,KAAKmI,EAAL,KAAY,CAArC,EAAwC;AACpC,+BAAO,KAAK4B,MAAL,EAAP;AACH;AACD,2BAAO,KAAKnQ,WAAL,EAAP;AACH;AACD,oBAAIoG,WAAW,KAAf,EAAsB;AAClBvG,sCAAkB,KAAKG,WAAL,EAAlB;AACH;AACD,oBAAIoG,WAAW,MAAf,EAAuB;AACnBvG,sCAAkB,KAAKqQ,qBAAL,EAAlB;AACH;AACD,oBAAI9J,WAAW,KAAX,IAAoBA,WAAW,MAAnC,EAA2C;AACvCvG,sCAAkB,KAAK4I,WAAL,EAAlB;AACH;AACD,oBAAIrC,WAAW,MAAf,EAAuB;AACnBvG,sCAAkB,KAAK4I,WAAL,CAAiB,IAAjB,CAAlB;AACH;AACD,oBAAIrC,WAAW,MAAf,EAAuB;AACnBvG,sCAAkB,KAAKkQ,YAAL,EAAlB;AACH;AACD,oBAAI3J,WAAW,MAAf,EAAuB;AACnBvG,sCAAkB,KAAKsQ,MAAL,EAAlB;AACH;AACD,oBAAI/J,WAAW,KAAf,EAAsB;AAClBvG,sCAAkB,KAAK4P,WAAL,EAAlB;AACH;AACD,oBAAIrJ,WAAW,KAAf,EAAsB;AAClBvG,sCAAkB,KAAKyP,WAAL,EAAlB;AACH;;AAED,uBAAOzP,mBAAmB,KAAK4I,WAAL,EAA1B;AACH,aA5IiB;;AA8IlBkI,gCAAoB,4BAAS9D,EAAT,EAAa5lB,IAAb,EAAmB;AACnC,oBAAI8J,QAAQ8b,GAAG7R,KAAH,CAAS,IAAT,EAAe,CAAC,IAAD,EAAOkQ,MAAP,CAAc,GAAGnQ,KAAH,CAAS7I,IAAT,CAAcjL,IAAd,CAAd,CAAf,CAAZ;AACA,qBAAKgnB,EAAL,GAAUld,MAAMkd,EAAhB;AACA,qBAAKE,EAAL,GAAUpd,MAAMod,EAAhB;AACA,qBAAKE,EAAL,GAAUtd,MAAMsd,EAAhB;AACA,qBAAKa,QAAL,CAAcne,MAAMwd,EAApB;AACA,uBAAO,IAAP;AACH,aArJiB;AAsJlBqC,qBAAS,mBAAW;AAChB,uBAAO,KAAKD,kBAAL,CAAwBC,QAAxB,EAAiC3F,SAAjC,CAAP;AACH,aAxJiB;AAyJlB4F,sBAAU,oBAAW;AACjB,uBAAO,KAAKF,kBAAL,CAAwBE,SAAxB,EAAkC5F,SAAlC,CAAP;AACH,aA3JiB;AA4JlB6F,oBAAQ,kBAAW;AACf,uBAAO,KAAKH,kBAAL,CAAwBG,OAAxB,EAAgC7F,SAAhC,CAAP;AACH,aA9JiB;AA+JlB8F,wBAAY,sBAAW;AACnB,uBAAO,KAAKJ,kBAAL,CAAwBI,WAAxB,EAAoC9F,SAApC,CAAP;AACH,aAjKiB;AAkKlB+F,sBAAU,oBAAW;AACjB,uBAAO,KAAKL,kBAAL,CAAwBK,SAAxB,EAAkC/F,SAAlC,CAAP;AACH,aApKiB;AAqKlBgG,uBAAW,qBAAW;AAClB,uBAAO,KAAKN,kBAAL,CAAwBM,UAAxB,EAAmChG,SAAnC,CAAP;AACH,aAvKiB;AAwKlBiG,kBAAM,gBAAW;AACb,uBAAO,KAAKP,kBAAL,CAAwBO,KAAxB,EAA8BjG,SAA9B,CAAP;AACH,aA1KiB;;AA4KlBkG,+BAAmB,2BAAStE,EAAT,EAAa5lB,IAAb,EAAmB;AAClC,uBAAO4lB,GAAG7R,KAAH,CAAS,IAAT,EAAe,CAAC,IAAD,EAAOkQ,MAAP,CAAc,GAAGnQ,KAAH,CAAS7I,IAAT,CAAcjL,IAAd,CAAd,CAAf,CAAP;AACH,aA9KiB;AA+KlBmqB,uBAAW,qBAAW;AAClB,uBAAO,KAAKD,iBAAL,CAAuBC,UAAvB,EAAkCnG,SAAlC,CAAP;AACH,aAjLiB;AAkLlBoG,wBAAY,sBAAW;AACnB,uBAAO,KAAKF,iBAAL,CAAuBE,WAAvB,EAAmCpG,SAAnC,CAAP;AACH,aApLiB;AAqLlBqG,2BAAe,yBAAW;AACtB,uBAAO,KAAKH,iBAAL,CAAuBG,cAAvB,EAAsCrG,SAAtC,CAAP;AACH,aAvLiB;AAwLlBsG,6BAAiB,2BAAW;AACxB,uBAAO,KAAKJ,iBAAL,CAAuBI,gBAAvB,EAAwCtG,SAAxC,CAAP;AACH,aA1LiB;AA2LlBuG,mBAAO,iBAAW;AACd,uBAAO,KAAKL,iBAAL,CAAuBK,MAAvB,EAA8BvG,SAA9B,CAAP;AACH,aA7LiB;AA8LlBwG,oBAAQ,kBAAW;AACf,uBAAO,KAAKN,iBAAL,CAAuBM,OAAvB,EAA+BxG,SAA/B,CAAP;AACH;AAhMiB,SAAtB;;AAmMA;AACA;AACAxL,kBAAU4I,SAAV,GAAsB,UAAStX,KAAT,EAAgBjD,IAAhB,EAAsB;AACxC,gBAAI,QAAOiD,KAAP,uDAAOA,KAAP,MAAgB,QAApB,EAA8B;AAC1B,oBAAI+W,WAAW,EAAf;AACA,qBAAK,IAAI5I,CAAT,IAAcnO,KAAd,EAAqB;AACjB,wBAAIA,MAAM2gB,cAAN,CAAqBxS,CAArB,CAAJ,EAA6B;AACzB,4BAAIA,MAAM,GAAV,EAAe;AACX4I,qCAAS5I,CAAT,IAAcnO,MAAMmO,CAAN,CAAd;AACH,yBAFD,MAGK;AACD4I,qCAAS5I,CAAT,IAAcyS,oBAAoB5gB,MAAMmO,CAAN,CAApB,CAAd;AACH;AACJ;AACJ;AACDnO,wBAAQ+W,QAAR;AACH;;AAED,mBAAOrI,UAAU1O,KAAV,EAAiBjD,IAAjB,CAAP;AACH,SAjBD;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAASkgB,UAAT,CAAoBjd,KAApB,EAA2B;;AAEvB,gBAAImT,MAAM,EAAEgK,GAAG,CAAL,EAAQE,GAAG,CAAX,EAAcE,GAAG,CAAjB,EAAV;AACA,gBAAInG,IAAI,CAAR;AACA,gBAAIyG,KAAK,KAAT;AACA,gBAAIxI,SAAS,KAAb;;AAEA,gBAAI,OAAOrV,KAAP,IAAgB,QAApB,EAA8B;AAC1BA,wBAAQ6gB,oBAAoB7gB,KAApB,CAAR;AACH;;AAED,gBAAI,QAAOA,KAAP,uDAAOA,KAAP,MAAgB,QAApB,EAA8B;AAC1B,oBAAIA,MAAM2gB,cAAN,CAAqB,GAArB,KAA6B3gB,MAAM2gB,cAAN,CAAqB,GAArB,CAA7B,IAA0D3gB,MAAM2gB,cAAN,CAAqB,GAArB,CAA9D,EAAyF;AACrFxN,0BAAM2N,SAAS9gB,MAAMmd,CAAf,EAAkBnd,MAAMqd,CAAxB,EAA2Brd,MAAMud,CAAjC,CAAN;AACAM,yBAAK,IAAL;AACAxI,6BAAS0L,OAAO/gB,MAAMmd,CAAb,EAAgBzP,MAAhB,CAAuB,CAAC,CAAxB,MAA+B,GAA/B,GAAqC,MAArC,GAA8C,KAAvD;AACH,iBAJD,MAKK,IAAI1N,MAAM2gB,cAAN,CAAqB,GAArB,KAA6B3gB,MAAM2gB,cAAN,CAAqB,GAArB,CAA7B,IAA0D3gB,MAAM2gB,cAAN,CAAqB,GAArB,CAA9D,EAAyF;AAC1F3gB,0BAAMmX,CAAN,GAAUyJ,oBAAoB5gB,MAAMmX,CAA1B,CAAV;AACAnX,0BAAMuE,CAAN,GAAUqc,oBAAoB5gB,MAAMuE,CAA1B,CAAV;AACA4O,0BAAM6N,SAAShhB,MAAMkX,CAAf,EAAkBlX,MAAMmX,CAAxB,EAA2BnX,MAAMuE,CAAjC,CAAN;AACAsZ,yBAAK,IAAL;AACAxI,6BAAS,KAAT;AACH,iBANI,MAOA,IAAIrV,MAAM2gB,cAAN,CAAqB,GAArB,KAA6B3gB,MAAM2gB,cAAN,CAAqB,GAArB,CAA7B,IAA0D3gB,MAAM2gB,cAAN,CAAqB,GAArB,CAA9D,EAAyF;AAC1F3gB,0BAAMmX,CAAN,GAAUyJ,oBAAoB5gB,MAAMmX,CAA1B,CAAV;AACAnX,0BAAM4O,CAAN,GAAUgS,oBAAoB5gB,MAAM4O,CAA1B,CAAV;AACAuE,0BAAM8N,SAASjhB,MAAMkX,CAAf,EAAkBlX,MAAMmX,CAAxB,EAA2BnX,MAAM4O,CAAjC,CAAN;AACAiP,yBAAK,IAAL;AACAxI,6BAAS,KAAT;AACH;;AAED,oBAAIrV,MAAM2gB,cAAN,CAAqB,GAArB,CAAJ,EAA+B;AAC3BvJ,wBAAIpX,MAAMoX,CAAV;AACH;AACJ;;AAEDA,gBAAIgH,WAAWhH,CAAX,CAAJ;;AAEA,mBAAO;AACHyG,oBAAIA,EADD;AAEHxI,wBAAQrV,MAAMqV,MAAN,IAAgBA,MAFrB;AAGH8H,mBAAGN,QAAQ,GAAR,EAAaC,QAAQ3J,IAAIgK,CAAZ,EAAe,CAAf,CAAb,CAHA;AAIHE,mBAAGR,QAAQ,GAAR,EAAaC,QAAQ3J,IAAIkK,CAAZ,EAAe,CAAf,CAAb,CAJA;AAKHE,mBAAGV,QAAQ,GAAR,EAAaC,QAAQ3J,IAAIoK,CAAZ,EAAe,CAAf,CAAb,CALA;AAMHnG,mBAAGA;AANA,aAAP;AAQH;;AAGD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAS0J,QAAT,CAAkB3D,CAAlB,EAAqBE,CAArB,EAAwBE,CAAxB,EAA0B;AACtB,mBAAO;AACHJ,mBAAG+B,QAAQ/B,CAAR,EAAW,GAAX,IAAkB,GADlB;AAEHE,mBAAG6B,QAAQ7B,CAAR,EAAW,GAAX,IAAkB,GAFlB;AAGHE,mBAAG2B,QAAQ3B,CAAR,EAAW,GAAX,IAAkB;AAHlB,aAAP;AAKH;;AAED;AACA;AACA;AACA;AACA,iBAASkB,QAAT,CAAkBtB,CAAlB,EAAqBE,CAArB,EAAwBE,CAAxB,EAA2B;;AAEvBJ,gBAAI+B,QAAQ/B,CAAR,EAAW,GAAX,CAAJ;AACAE,gBAAI6B,QAAQ7B,CAAR,EAAW,GAAX,CAAJ;AACAE,gBAAI2B,QAAQ3B,CAAR,EAAW,GAAX,CAAJ;;AAEA,gBAAInF,MAAM0E,QAAQK,CAAR,EAAWE,CAAX,EAAcE,CAAd,CAAV;AAAA,gBAA4BlF,MAAMwE,QAAQM,CAAR,EAAWE,CAAX,EAAcE,CAAd,CAAlC;AACA,gBAAIrG,CAAJ;AAAA,gBAAOC,CAAP;AAAA,gBAAUvI,IAAI,CAACwJ,MAAMC,GAAP,IAAc,CAA5B;;AAEA,gBAAGD,OAAOC,GAAV,EAAe;AACXnB,oBAAIC,IAAI,CAAR,CADW,CACA;AACd,aAFD,MAGK;AACD,oBAAI+J,IAAI9I,MAAMC,GAAd;AACAlB,oBAAIvI,IAAI,GAAJ,GAAUsS,KAAK,IAAI9I,GAAJ,GAAUC,GAAf,CAAV,GAAgC6I,KAAK9I,MAAMC,GAAX,CAApC;AACA,wBAAOD,GAAP;AACI,yBAAK+E,CAAL;AAAQjG,4BAAI,CAACmG,IAAIE,CAAL,IAAU2D,CAAV,IAAe7D,IAAIE,CAAJ,GAAQ,CAAR,GAAY,CAA3B,CAAJ,CAAmC;AAC3C,yBAAKF,CAAL;AAAQnG,4BAAI,CAACqG,IAAIJ,CAAL,IAAU+D,CAAV,GAAc,CAAlB,CAAqB;AAC7B,yBAAK3D,CAAL;AAAQrG,4BAAI,CAACiG,IAAIE,CAAL,IAAU6D,CAAV,GAAc,CAAlB,CAAqB;AAHjC;;AAMAhK,qBAAK,CAAL;AACH;;AAED,mBAAO,EAAEA,GAAGA,CAAL,EAAQC,GAAGA,CAAX,EAAcvI,GAAGA,CAAjB,EAAP;AACH;;AAED;AACA;AACA;AACA;AACA,iBAASqS,QAAT,CAAkB/J,CAAlB,EAAqBC,CAArB,EAAwBvI,CAAxB,EAA2B;AACvB,gBAAIuO,CAAJ,EAAOE,CAAP,EAAUE,CAAV;;AAEArG,gBAAIgI,QAAQhI,CAAR,EAAW,GAAX,CAAJ;AACAC,gBAAI+H,QAAQ/H,CAAR,EAAW,GAAX,CAAJ;AACAvI,gBAAIsQ,QAAQtQ,CAAR,EAAW,GAAX,CAAJ;;AAEA,qBAASuS,OAAT,CAAiB9S,CAAjB,EAAoB+S,CAApB,EAAuBC,CAAvB,EAA0B;AACtB,oBAAGA,IAAI,CAAP,EAAUA,KAAK,CAAL;AACV,oBAAGA,IAAI,CAAP,EAAUA,KAAK,CAAL;AACV,oBAAGA,IAAI,IAAE,CAAT,EAAY,OAAOhT,IAAI,CAAC+S,IAAI/S,CAAL,IAAU,CAAV,GAAcgT,CAAzB;AACZ,oBAAGA,IAAI,IAAE,CAAT,EAAY,OAAOD,CAAP;AACZ,oBAAGC,IAAI,IAAE,CAAT,EAAY,OAAOhT,IAAI,CAAC+S,IAAI/S,CAAL,KAAW,IAAE,CAAF,GAAMgT,CAAjB,IAAsB,CAAjC;AACZ,uBAAOhT,CAAP;AACH;;AAED,gBAAG8I,MAAM,CAAT,EAAY;AACRgG,oBAAIE,IAAIE,IAAI3O,CAAZ,CADQ,CACO;AAClB,aAFD,MAGK;AACD,oBAAIwS,IAAIxS,IAAI,GAAJ,GAAUA,KAAK,IAAIuI,CAAT,CAAV,GAAwBvI,IAAIuI,CAAJ,GAAQvI,IAAIuI,CAA5C;AACA,oBAAI9I,IAAI,IAAIO,CAAJ,GAAQwS,CAAhB;AACAjE,oBAAIgE,QAAQ9S,CAAR,EAAW+S,CAAX,EAAclK,IAAI,IAAE,CAApB,CAAJ;AACAmG,oBAAI8D,QAAQ9S,CAAR,EAAW+S,CAAX,EAAclK,CAAd,CAAJ;AACAqG,oBAAI4D,QAAQ9S,CAAR,EAAW+S,CAAX,EAAclK,IAAI,IAAE,CAApB,CAAJ;AACH;;AAED,mBAAO,EAAEiG,GAAGA,IAAI,GAAT,EAAcE,GAAGA,IAAI,GAArB,EAA0BE,GAAGA,IAAI,GAAjC,EAAP;AACH;;AAED;AACA;AACA;AACA;AACA,iBAASe,QAAT,CAAkBnB,CAAlB,EAAqBE,CAArB,EAAwBE,CAAxB,EAA2B;;AAEvBJ,gBAAI+B,QAAQ/B,CAAR,EAAW,GAAX,CAAJ;AACAE,gBAAI6B,QAAQ7B,CAAR,EAAW,GAAX,CAAJ;AACAE,gBAAI2B,QAAQ3B,CAAR,EAAW,GAAX,CAAJ;;AAEA,gBAAInF,MAAM0E,QAAQK,CAAR,EAAWE,CAAX,EAAcE,CAAd,CAAV;AAAA,gBAA4BlF,MAAMwE,QAAQM,CAAR,EAAWE,CAAX,EAAcE,CAAd,CAAlC;AACA,gBAAIrG,CAAJ;AAAA,gBAAOC,CAAP;AAAA,gBAAU5S,IAAI6T,GAAd;;AAEA,gBAAI8I,IAAI9I,MAAMC,GAAd;AACAlB,gBAAIiB,QAAQ,CAAR,GAAY,CAAZ,GAAgB8I,IAAI9I,GAAxB;;AAEA,gBAAGA,OAAOC,GAAV,EAAe;AACXnB,oBAAI,CAAJ,CADW,CACJ;AACV,aAFD,MAGK;AACD,wBAAOkB,GAAP;AACI,yBAAK+E,CAAL;AAAQjG,4BAAI,CAACmG,IAAIE,CAAL,IAAU2D,CAAV,IAAe7D,IAAIE,CAAJ,GAAQ,CAAR,GAAY,CAA3B,CAAJ,CAAmC;AAC3C,yBAAKF,CAAL;AAAQnG,4BAAI,CAACqG,IAAIJ,CAAL,IAAU+D,CAAV,GAAc,CAAlB,CAAqB;AAC7B,yBAAK3D,CAAL;AAAQrG,4BAAI,CAACiG,IAAIE,CAAL,IAAU6D,CAAV,GAAc,CAAlB,CAAqB;AAHjC;AAKAhK,qBAAK,CAAL;AACH;AACD,mBAAO,EAAEA,GAAGA,CAAL,EAAQC,GAAGA,CAAX,EAAc5S,GAAGA,CAAjB,EAAP;AACH;;AAED;AACA;AACA;AACA;AACC,iBAASyc,QAAT,CAAkB9J,CAAlB,EAAqBC,CAArB,EAAwB5S,CAAxB,EAA2B;;AAExB2S,gBAAIgI,QAAQhI,CAAR,EAAW,GAAX,IAAkB,CAAtB;AACAC,gBAAI+H,QAAQ/H,CAAR,EAAW,GAAX,CAAJ;AACA5S,gBAAI2a,QAAQ3a,CAAR,EAAW,GAAX,CAAJ;;AAEA,gBAAI4J,IAAIwO,KAAK2E,KAAL,CAAWpK,CAAX,CAAR;AAAA,gBACIqK,IAAIrK,IAAI/I,CADZ;AAAA,gBAEIE,IAAI9J,KAAK,IAAI4S,CAAT,CAFR;AAAA,gBAGIiK,IAAI7c,KAAK,IAAIgd,IAAIpK,CAAb,CAHR;AAAA,gBAIIkK,IAAI9c,KAAK,IAAI,CAAC,IAAIgd,CAAL,IAAUpK,CAAnB,CAJR;AAAA,gBAKIqK,MAAMrT,IAAI,CALd;AAAA,gBAMIgP,IAAI,CAAC5Y,CAAD,EAAI6c,CAAJ,EAAO/S,CAAP,EAAUA,CAAV,EAAagT,CAAb,EAAgB9c,CAAhB,EAAmBid,GAAnB,CANR;AAAA,gBAOInE,IAAI,CAACgE,CAAD,EAAI9c,CAAJ,EAAOA,CAAP,EAAU6c,CAAV,EAAa/S,CAAb,EAAgBA,CAAhB,EAAmBmT,GAAnB,CAPR;AAAA,gBAQIjE,IAAI,CAAClP,CAAD,EAAIA,CAAJ,EAAOgT,CAAP,EAAU9c,CAAV,EAAaA,CAAb,EAAgB6c,CAAhB,EAAmBI,GAAnB,CARR;;AAUA,mBAAO,EAAErE,GAAGA,IAAI,GAAT,EAAcE,GAAGA,IAAI,GAArB,EAA0BE,GAAGA,IAAI,GAAjC,EAAP;AACH;;AAED;AACA;AACA;AACA;AACA,iBAASsB,QAAT,CAAkB1B,CAAlB,EAAqBE,CAArB,EAAwBE,CAAxB,EAA2BqB,UAA3B,EAAuC;;AAEnC,gBAAI6C,MAAM,CACNC,KAAK9E,UAAUO,CAAV,EAAapO,QAAb,CAAsB,EAAtB,CAAL,CADM,EAEN2S,KAAK9E,UAAUS,CAAV,EAAatO,QAAb,CAAsB,EAAtB,CAAL,CAFM,EAGN2S,KAAK9E,UAAUW,CAAV,EAAaxO,QAAb,CAAsB,EAAtB,CAAL,CAHM,CAAV;;AAMA;AACA,gBAAI6P,cAAc6C,IAAI,CAAJ,EAAOtX,MAAP,CAAc,CAAd,KAAoBsX,IAAI,CAAJ,EAAOtX,MAAP,CAAc,CAAd,CAAlC,IAAsDsX,IAAI,CAAJ,EAAOtX,MAAP,CAAc,CAAd,KAAoBsX,IAAI,CAAJ,EAAOtX,MAAP,CAAc,CAAd,CAA1E,IAA8FsX,IAAI,CAAJ,EAAOtX,MAAP,CAAc,CAAd,KAAoBsX,IAAI,CAAJ,EAAOtX,MAAP,CAAc,CAAd,CAAtH,EAAwI;AACpI,uBAAOsX,IAAI,CAAJ,EAAOtX,MAAP,CAAc,CAAd,IAAmBsX,IAAI,CAAJ,EAAOtX,MAAP,CAAc,CAAd,CAAnB,GAAsCsX,IAAI,CAAJ,EAAOtX,MAAP,CAAc,CAAd,CAA7C;AACH;;AAED,mBAAOsX,IAAItpB,IAAJ,CAAS,EAAT,CAAP;AACH;AACG;AACA;AACA;AACA;AACA,iBAAS4mB,SAAT,CAAmB5B,CAAnB,EAAsBE,CAAtB,EAAyBE,CAAzB,EAA4BnG,CAA5B,EAA+B;;AAE3B,gBAAIqK,MAAM,CACNC,KAAKC,oBAAoBvK,CAApB,CAAL,CADM,EAENsK,KAAK9E,UAAUO,CAAV,EAAapO,QAAb,CAAsB,EAAtB,CAAL,CAFM,EAGN2S,KAAK9E,UAAUS,CAAV,EAAatO,QAAb,CAAsB,EAAtB,CAAL,CAHM,EAIN2S,KAAK9E,UAAUW,CAAV,EAAaxO,QAAb,CAAsB,EAAtB,CAAL,CAJM,CAAV;;AAOA,mBAAO0S,IAAItpB,IAAJ,CAAS,EAAT,CAAP;AACH;;AAEL;AACA;AACAuW,kBAAUG,MAAV,GAAmB,UAAU+S,MAAV,EAAkBC,MAAlB,EAA0B;AACzC,gBAAI,CAACD,MAAD,IAAW,CAACC,MAAhB,EAAwB;AAAE,uBAAO,KAAP;AAAe;AACzC,mBAAOnT,UAAUkT,MAAV,EAAkB3S,WAAlB,MAAmCP,UAAUmT,MAAV,EAAkB5S,WAAlB,EAA1C;AACH,SAHD;AAIAP,kBAAUsO,MAAV,GAAmB,YAAW;AAC1B,mBAAOtO,UAAU4I,SAAV,CAAoB;AACvB6F,mBAAGJ,YADoB;AAEvBM,mBAAGN,YAFoB;AAGvBQ,mBAAGR;AAHoB,aAApB,CAAP;AAKH,SAND;;AASA;AACA;AACA;AACA;;AAEA,iBAASiD,WAAT,CAAoBhgB,KAApB,EAA2B8hB,MAA3B,EAAmC;AAC/BA,qBAAUA,WAAW,CAAZ,GAAiB,CAAjB,GAAsBA,UAAU,EAAzC;AACA,gBAAItD,MAAM9P,UAAU1O,KAAV,EAAiB2O,KAAjB,EAAV;AACA6P,gBAAIrH,CAAJ,IAAS2K,SAAS,GAAlB;AACAtD,gBAAIrH,CAAJ,GAAQ4K,QAAQvD,IAAIrH,CAAZ,CAAR;AACA,mBAAOzI,UAAU8P,GAAV,CAAP;AACH;;AAED,iBAASyB,SAAT,CAAkBjgB,KAAlB,EAAyB8hB,MAAzB,EAAiC;AAC7BA,qBAAUA,WAAW,CAAZ,GAAiB,CAAjB,GAAsBA,UAAU,EAAzC;AACA,gBAAItD,MAAM9P,UAAU1O,KAAV,EAAiB2O,KAAjB,EAAV;AACA6P,gBAAIrH,CAAJ,IAAS2K,SAAS,GAAlB;AACAtD,gBAAIrH,CAAJ,GAAQ4K,QAAQvD,IAAIrH,CAAZ,CAAR;AACA,mBAAOzI,UAAU8P,GAAV,CAAP;AACH;;AAED,iBAAS0B,UAAT,CAAmBlgB,KAAnB,EAA0B;AACtB,mBAAO0O,UAAU1O,KAAV,EAAiBggB,UAAjB,CAA4B,GAA5B,CAAP;AACH;;AAED,iBAASH,QAAT,CAAkB7f,KAAlB,EAAyB8hB,MAAzB,EAAiC;AAC7BA,qBAAUA,WAAW,CAAZ,GAAiB,CAAjB,GAAsBA,UAAU,EAAzC;AACA,gBAAItD,MAAM9P,UAAU1O,KAAV,EAAiB2O,KAAjB,EAAV;AACA6P,gBAAI5P,CAAJ,IAASkT,SAAS,GAAlB;AACAtD,gBAAI5P,CAAJ,GAAQmT,QAAQvD,IAAI5P,CAAZ,CAAR;AACA,mBAAOF,UAAU8P,GAAV,CAAP;AACH;;AAED,iBAASsB,SAAT,CAAkB9f,KAAlB,EAAyB8hB,MAAzB,EAAiC;AAC7BA,qBAAUA,WAAW,CAAZ,GAAiB,CAAjB,GAAsBA,UAAU,EAAzC;AACA,gBAAI3O,MAAMzE,UAAU1O,KAAV,EAAiBgY,KAAjB,EAAV;AACA7E,gBAAIgK,CAAJ,GAAQL,QAAQ,CAAR,EAAWD,QAAQ,GAAR,EAAa1J,IAAIgK,CAAJ,GAAQP,UAAU,MAAM,EAAGkF,SAAS,GAAZ,CAAhB,CAArB,CAAX,CAAR;AACA3O,gBAAIkK,CAAJ,GAAQP,QAAQ,CAAR,EAAWD,QAAQ,GAAR,EAAa1J,IAAIkK,CAAJ,GAAQT,UAAU,MAAM,EAAGkF,SAAS,GAAZ,CAAhB,CAArB,CAAX,CAAR;AACA3O,gBAAIoK,CAAJ,GAAQT,QAAQ,CAAR,EAAWD,QAAQ,GAAR,EAAa1J,IAAIoK,CAAJ,GAAQX,UAAU,MAAM,EAAGkF,SAAS,GAAZ,CAAhB,CAArB,CAAX,CAAR;AACA,mBAAOpT,UAAUyE,GAAV,CAAP;AACH;;AAED,iBAAS4M,OAAT,CAAiB/f,KAAjB,EAAwB8hB,MAAxB,EAAgC;AAC5BA,qBAAUA,WAAW,CAAZ,GAAiB,CAAjB,GAAsBA,UAAU,EAAzC;AACA,gBAAItD,MAAM9P,UAAU1O,KAAV,EAAiB2O,KAAjB,EAAV;AACA6P,gBAAI5P,CAAJ,IAASkT,SAAS,GAAlB;AACAtD,gBAAI5P,CAAJ,GAAQmT,QAAQvD,IAAI5P,CAAZ,CAAR;AACA,mBAAOF,UAAU8P,GAAV,CAAP;AACH;;AAED;AACA;AACA,iBAAS2B,KAAT,CAAcngB,KAAd,EAAqB8hB,MAArB,EAA6B;AACzB,gBAAItD,MAAM9P,UAAU1O,KAAV,EAAiB2O,KAAjB,EAAV;AACA,gBAAIqT,MAAM,CAACpF,UAAU4B,IAAItH,CAAd,IAAmB4K,MAApB,IAA8B,GAAxC;AACAtD,gBAAItH,CAAJ,GAAQ8K,MAAM,CAAN,GAAU,MAAMA,GAAhB,GAAsBA,GAA9B;AACA,mBAAOtT,UAAU8P,GAAV,CAAP;AACH;;AAED;AACA;AACA;AACA;;AAEA,iBAAS8B,WAAT,CAAoBtgB,KAApB,EAA2B;AACvB,gBAAIwe,MAAM9P,UAAU1O,KAAV,EAAiB2O,KAAjB,EAAV;AACA6P,gBAAItH,CAAJ,GAAQ,CAACsH,IAAItH,CAAJ,GAAQ,GAAT,IAAgB,GAAxB;AACA,mBAAOxI,UAAU8P,GAAV,CAAP;AACH;;AAED,iBAASiC,MAAT,CAAezgB,KAAf,EAAsB;AAClB,gBAAIwe,MAAM9P,UAAU1O,KAAV,EAAiB2O,KAAjB,EAAV;AACA,gBAAIuI,IAAIsH,IAAItH,CAAZ;AACA,mBAAO,CACHxI,UAAU1O,KAAV,CADG,EAEH0O,UAAU,EAAEwI,GAAG,CAACA,IAAI,GAAL,IAAY,GAAjB,EAAsBC,GAAGqH,IAAIrH,CAA7B,EAAgCvI,GAAG4P,IAAI5P,CAAvC,EAAV,CAFG,EAGHF,UAAU,EAAEwI,GAAG,CAACA,IAAI,GAAL,IAAY,GAAjB,EAAsBC,GAAGqH,IAAIrH,CAA7B,EAAgCvI,GAAG4P,IAAI5P,CAAvC,EAAV,CAHG,CAAP;AAKH;;AAED,iBAAS8R,OAAT,CAAgB1gB,KAAhB,EAAuB;AACnB,gBAAIwe,MAAM9P,UAAU1O,KAAV,EAAiB2O,KAAjB,EAAV;AACA,gBAAIuI,IAAIsH,IAAItH,CAAZ;AACA,mBAAO,CACHxI,UAAU1O,KAAV,CADG,EAEH0O,UAAU,EAAEwI,GAAG,CAACA,IAAI,EAAL,IAAW,GAAhB,EAAqBC,GAAGqH,IAAIrH,CAA5B,EAA+BvI,GAAG4P,IAAI5P,CAAtC,EAAV,CAFG,EAGHF,UAAU,EAAEwI,GAAG,CAACA,IAAI,GAAL,IAAY,GAAjB,EAAsBC,GAAGqH,IAAIrH,CAA7B,EAAgCvI,GAAG4P,IAAI5P,CAAvC,EAAV,CAHG,EAIHF,UAAU,EAAEwI,GAAG,CAACA,IAAI,GAAL,IAAY,GAAjB,EAAsBC,GAAGqH,IAAIrH,CAA7B,EAAgCvI,GAAG4P,IAAI5P,CAAvC,EAAV,CAJG,CAAP;AAMH;;AAED,iBAAS4R,gBAAT,CAAyBxgB,KAAzB,EAAgC;AAC5B,gBAAIwe,MAAM9P,UAAU1O,KAAV,EAAiB2O,KAAjB,EAAV;AACA,gBAAIuI,IAAIsH,IAAItH,CAAZ;AACA,mBAAO,CACHxI,UAAU1O,KAAV,CADG,EAEH0O,UAAU,EAAEwI,GAAG,CAACA,IAAI,EAAL,IAAW,GAAhB,EAAqBC,GAAGqH,IAAIrH,CAA5B,EAA+BvI,GAAG4P,IAAI5P,CAAtC,EAAV,CAFG,EAGHF,UAAU,EAAEwI,GAAG,CAACA,IAAI,GAAL,IAAY,GAAjB,EAAsBC,GAAGqH,IAAIrH,CAA7B,EAAgCvI,GAAG4P,IAAI5P,CAAvC,EAAV,CAHG,CAAP;AAKH;;AAED,iBAASyR,UAAT,CAAmBrgB,KAAnB,EAA0BiiB,OAA1B,EAAmCC,MAAnC,EAA2C;AACvCD,sBAAUA,WAAW,CAArB;AACAC,qBAASA,UAAU,EAAnB;;AAEA,gBAAI1D,MAAM9P,UAAU1O,KAAV,EAAiB2O,KAAjB,EAAV;AACA,gBAAIwT,OAAO,MAAMD,MAAjB;AACA,gBAAIE,MAAM,CAAC1T,UAAU1O,KAAV,CAAD,CAAV;;AAEA,iBAAKwe,IAAItH,CAAJ,GAAQ,CAAEsH,IAAItH,CAAJ,IAASiL,OAAOF,OAAP,IAAkB,CAA3B,CAAD,GAAkC,GAAnC,IAA0C,GAAvD,EAA4D,EAAEA,OAA9D,GAAyE;AACrEzD,oBAAItH,CAAJ,GAAQ,CAACsH,IAAItH,CAAJ,GAAQiL,IAAT,IAAiB,GAAzB;AACAC,oBAAIjT,IAAJ,CAAST,UAAU8P,GAAV,CAAT;AACH;AACD,mBAAO4D,GAAP;AACH;;AAED,iBAAS7B,cAAT,CAAuBvgB,KAAvB,EAA8BiiB,OAA9B,EAAuC;AACnCA,sBAAUA,WAAW,CAArB;AACA,gBAAI5D,MAAM3P,UAAU1O,KAAV,EAAiBiX,KAAjB,EAAV;AACA,gBAAIC,IAAImH,IAAInH,CAAZ;AAAA,gBAAeC,IAAIkH,IAAIlH,CAAvB;AAAA,gBAA0B5S,IAAI8Z,IAAI9Z,CAAlC;AACA,gBAAI6d,MAAM,EAAV;AACA,gBAAIC,eAAe,IAAIJ,OAAvB;;AAEA,mBAAOA,SAAP,EAAkB;AACdG,oBAAIjT,IAAJ,CAAST,UAAU,EAAEwI,GAAGA,CAAL,EAAQC,GAAGA,CAAX,EAAc5S,GAAGA,CAAjB,EAAV,CAAT;AACAA,oBAAI,CAACA,IAAI8d,YAAL,IAAqB,CAAzB;AACH;;AAED,mBAAOD,GAAP;AACH;;AAED;AACA;;AAEA1T,kBAAU4T,GAAV,GAAgB,UAASV,MAAT,EAAiBC,MAAjB,EAAyBC,MAAzB,EAAiC;AAC7CA,qBAAUA,WAAW,CAAZ,GAAiB,CAAjB,GAAsBA,UAAU,EAAzC;;AAEA,gBAAIS,OAAO7T,UAAUkT,MAAV,EAAkB5J,KAAlB,EAAX;AACA,gBAAIwK,OAAO9T,UAAUmT,MAAV,EAAkB7J,KAAlB,EAAX;;AAEA,gBAAI3J,IAAIyT,SAAS,GAAjB;AACA,gBAAIW,IAAIpU,IAAI,CAAJ,GAAQ,CAAhB;AACA,gBAAI+I,IAAIoL,KAAKpL,CAAL,GAASmL,KAAKnL,CAAtB;;AAEA,gBAAIsL,EAAJ;;AAEA,gBAAID,IAAIrL,CAAJ,IAAS,CAAC,CAAd,EAAiB;AACbsL,qBAAKD,CAAL;AACH,aAFD,MAEO;AACHC,qBAAK,CAACD,IAAIrL,CAAL,KAAW,IAAIqL,IAAIrL,CAAnB,CAAL;AACH;;AAEDsL,iBAAK,CAACA,KAAK,CAAN,IAAW,CAAhB;;AAEA,gBAAIC,KAAK,IAAID,EAAb;;AAEA,gBAAIE,OAAO;AACPzF,mBAAGqF,KAAKrF,CAAL,GAASuF,EAAT,GAAcH,KAAKpF,CAAL,GAASwF,EADnB;AAEPtF,mBAAGmF,KAAKnF,CAAL,GAASqF,EAAT,GAAcH,KAAKlF,CAAL,GAASsF,EAFnB;AAGPpF,mBAAGiF,KAAKjF,CAAL,GAASmF,EAAT,GAAcH,KAAKhF,CAAL,GAASoF,EAHnB;AAIPvL,mBAAGoL,KAAKpL,CAAL,GAAS/I,CAAT,GAAckU,KAAKnL,CAAL,IAAU,IAAI/I,CAAd;AAJV,aAAX;;AAOA,mBAAOK,UAAUkU,IAAV,CAAP;AACH,SA9BD;;AAiCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACAlU,kBAAUmU,WAAV,GAAwB,UAASjB,MAAT,EAAiBC,MAAjB,EAAyB;AAC7C,gBAAIiB,KAAKpU,UAAUkT,MAAV,CAAT;AACA,gBAAImB,KAAKrU,UAAUmT,MAAV,CAAT;AACA,gBAAIU,OAAOO,GAAG9K,KAAH,EAAX;AACA,gBAAIwK,OAAOO,GAAG/K,KAAH,EAAX;AACA,gBAAIgL,cAAcF,GAAG9E,aAAH,EAAlB;AACA,gBAAIiF,cAAcF,GAAG/E,aAAH,EAAlB;AACA,gBAAIkF,YACAzO,KAAK2D,GAAL,CAASmK,KAAKpF,CAAd,EAAiBqF,KAAKrF,CAAtB,IAA2B1I,KAAK4D,GAAL,CAASkK,KAAKpF,CAAd,EAAiBqF,KAAKrF,CAAtB,CAA3B,GACA1I,KAAK2D,GAAL,CAASmK,KAAKlF,CAAd,EAAiBmF,KAAKnF,CAAtB,CADA,GAC2B5I,KAAK4D,GAAL,CAASkK,KAAKlF,CAAd,EAAiBmF,KAAKnF,CAAtB,CAD3B,GAEA5I,KAAK2D,GAAL,CAASmK,KAAKhF,CAAd,EAAiBiF,KAAKjF,CAAtB,CAFA,GAE2B9I,KAAK4D,GAAL,CAASkK,KAAKhF,CAAd,EAAiBiF,KAAKjF,CAAtB,CAH/B;;AAMA,mBAAO;AACH4F,4BAAY1O,KAAKQ,GAAL,CAAS+N,cAAcC,WAAvB,CADT;AAEHjjB,uBAAOkjB;AAFJ,aAAP;AAIH,SAjBD;;AAmBA;AACA;AACA;AACA;AACA;AACAxU,kBAAU0U,UAAV,GAAuB,UAASxB,MAAT,EAAiBC,MAAjB,EAAyB;AAC5C,gBAAIgB,cAAcnU,UAAUmU,WAAV,CAAsBjB,MAAtB,EAA8BC,MAA9B,CAAlB;AACA,mBAAOgB,YAAYM,UAAZ,GAAyB,GAAzB,IAAgCN,YAAY7iB,KAAZ,GAAoB,GAA3D;AACH,SAHD;;AAKA;AACA;AACA;AACA;AACA;AACA0O,kBAAU2U,YAAV,GAAyB,UAASC,SAAT,EAAoBC,SAApB,EAA+B;AACpD,gBAAIC,YAAY,IAAhB;AACA,gBAAIC,YAAY,CAAhB;AACA,gBAAIC,iBAAiB,KAArB;AACA,iBAAK,IAAIvV,IAAE,CAAX,EAAcA,IAAIoV,UAAUhV,MAA5B,EAAoCJ,GAApC,EAAyC;;AAErC;AACA;;AAEA,oBAAI0U,cAAcnU,UAAUmU,WAAV,CAAsBS,SAAtB,EAAiCC,UAAUpV,CAAV,CAAjC,CAAlB;AACA,oBAAIwV,WAAWd,YAAYM,UAAZ,GAAyB,GAAzB,IAAgCN,YAAY7iB,KAAZ,GAAoB,GAAnE;AACA,oBAAI4jB,QAAQ,KAAKf,YAAYM,UAAZ,GAAyB,GAA9B,IAAsCN,YAAY7iB,KAAZ,GAAoB,GAAtE;;AAEA,oBAAK2jB,YAAY,CAAED,cAAf,IACCC,YAAYD,cAAZ,IAA8BE,QAAQH,SADvC,IAEE,CAAEE,QAAH,IAAiB,CAAED,cAAnB,IAAsCE,QAAQH,SAFnD,EAE+D;AAC3DC,qCAAiBC,QAAjB;AACAF,gCAAYG,KAAZ;AACAJ,gCAAY9U,UAAU6U,UAAUpV,CAAV,CAAV,CAAZ;AACH;AACJ;AACD,mBAAOqV,SAAP;AACH,SAtBD;;AAyBA;AACA;AACA;AACA,YAAIK,QAAQnV,UAAUmV,KAAV,GAAkB;AAC1BC,uBAAW,QADe;AAE1BC,0BAAc,QAFY;AAG1BC,kBAAM,KAHoB;AAI1BC,wBAAY,QAJc;AAK1BC,mBAAO,QALmB;AAM1BC,mBAAO,QANmB;AAO1BC,oBAAQ,QAPkB;AAQ1BC,mBAAO,KARmB;AAS1BC,4BAAgB,QATU;AAU1BC,kBAAM,KAVoB;AAW1BC,wBAAY,QAXc;AAY1BC,mBAAO,QAZmB;AAa1BC,uBAAW,QAbe;AAc1BC,yBAAa,QAda;AAe1BC,uBAAW,QAfe;AAgB1BC,wBAAY,QAhBc;AAiB1BC,uBAAW,QAjBe;AAkB1BC,mBAAO,QAlBmB;AAmB1BC,4BAAgB,QAnBU;AAoB1BC,sBAAU,QApBgB;AAqB1BC,qBAAS,QArBiB;AAsB1BC,kBAAM,KAtBoB;AAuB1BC,sBAAU,QAvBgB;AAwB1BC,sBAAU,QAxBgB;AAyB1BC,2BAAe,QAzBW;AA0B1BC,sBAAU,QA1BgB;AA2B1BC,uBAAW,QA3Be;AA4B1BC,sBAAU,QA5BgB;AA6B1BC,uBAAW,QA7Be;AA8B1BC,yBAAa,QA9Ba;AA+B1BC,4BAAgB,QA/BU;AAgC1BC,wBAAY,QAhCc;AAiC1BC,wBAAY,QAjCc;AAkC1BC,qBAAS,QAlCiB;AAmC1BC,wBAAY,QAnCc;AAoC1BC,0BAAc,QApCY;AAqC1BC,2BAAe,QArCW;AAsC1BC,2BAAe,QAtCW;AAuC1BC,2BAAe,QAvCW;AAwC1BC,2BAAe,QAxCW;AAyC1BC,wBAAY,QAzCc;AA0C1BC,sBAAU,QA1CgB;AA2C1BC,yBAAa,QA3Ca;AA4C1BC,qBAAS,QA5CiB;AA6C1BC,qBAAS,QA7CiB;AA8C1BC,wBAAY,QA9Cc;AA+C1BC,uBAAW,QA/Ce;AAgD1BC,yBAAa,QAhDa;AAiD1BC,yBAAa,QAjDa;AAkD1BC,qBAAS,KAlDiB;AAmD1BC,uBAAW,QAnDe;AAoD1BC,wBAAY,QApDc;AAqD1BC,kBAAM,QArDoB;AAsD1BC,uBAAW,QAtDe;AAuD1BC,kBAAM,QAvDoB;AAwD1BC,mBAAO,QAxDmB;AAyD1BC,yBAAa,QAzDa;AA0D1BC,kBAAM,QA1DoB;AA2D1BC,sBAAU,QA3DgB;AA4D1BC,qBAAS,QA5DiB;AA6D1BC,uBAAW,QA7De;AA8D1BC,oBAAQ,QA9DkB;AA+D1BC,mBAAO,QA/DmB;AAgE1BC,mBAAO,QAhEmB;AAiE1BC,sBAAU,QAjEgB;AAkE1BC,2BAAe,QAlEW;AAmE1BC,uBAAW,QAnEe;AAoE1BC,0BAAc,QApEY;AAqE1BC,uBAAW,QArEe;AAsE1BC,wBAAY,QAtEc;AAuE1BC,uBAAW,QAvEe;AAwE1BC,kCAAsB,QAxEI;AAyE1BC,uBAAW,QAzEe;AA0E1BC,wBAAY,QA1Ec;AA2E1BC,uBAAW,QA3Ee;AA4E1BC,uBAAW,QA5Ee;AA6E1BC,yBAAa,QA7Ea;AA8E1BC,2BAAe,QA9EW;AA+E1BC,0BAAc,QA/EY;AAgF1BC,4BAAgB,KAhFU;AAiF1BC,4BAAgB,KAjFU;AAkF1BC,4BAAgB,QAlFU;AAmF1BC,yBAAa,QAnFa;AAoF1BC,kBAAM,KApFoB;AAqF1BC,uBAAW,QArFe;AAsF1BC,mBAAO,QAtFmB;AAuF1BC,qBAAS,KAvFiB;AAwF1BC,oBAAQ,QAxFkB;AAyF1BC,8BAAkB,QAzFQ;AA0F1BC,wBAAY,QA1Fc;AA2F1BC,0BAAc,QA3FY;AA4F1BC,0BAAc,QA5FY;AA6F1BC,4BAAgB,QA7FU;AA8F1BC,6BAAiB,QA9FS;AA+F1BC,+BAAmB,QA/FO;AAgG1BC,6BAAiB,QAhGS;AAiG1BC,6BAAiB,QAjGS;AAkG1BC,0BAAc,QAlGY;AAmG1BC,uBAAW,QAnGe;AAoG1BC,uBAAW,QApGe;AAqG1BC,sBAAU,QArGgB;AAsG1BC,yBAAa,QAtGa;AAuG1BC,kBAAM,QAvGoB;AAwG1BC,qBAAS,QAxGiB;AAyG1BC,mBAAO,QAzGmB;AA0G1BC,uBAAW,QA1Ge;AA2G1BC,oBAAQ,QA3GkB;AA4G1BC,uBAAW,QA5Ge;AA6G1BC,oBAAQ,QA7GkB;AA8G1BC,2BAAe,QA9GW;AA+G1BC,uBAAW,QA/Ge;AAgH1BC,2BAAe,QAhHW;AAiH1BC,2BAAe,QAjHW;AAkH1BC,wBAAY,QAlHc;AAmH1BC,uBAAW,QAnHe;AAoH1BC,kBAAM,QApHoB;AAqH1BC,kBAAM,QArHoB;AAsH1BC,kBAAM,QAtHoB;AAuH1BC,wBAAY,QAvHc;AAwH1BC,oBAAQ,QAxHkB;AAyH1BC,iBAAK,KAzHqB;AA0H1BC,uBAAW,QA1He;AA2H1BC,uBAAW,QA3He;AA4H1BC,yBAAa,QA5Ha;AA6H1BC,oBAAQ,QA7HkB;AA8H1BC,wBAAY,QA9Hc;AA+H1BC,sBAAU,QA/HgB;AAgI1BC,sBAAU,QAhIgB;AAiI1BC,oBAAQ,QAjIkB;AAkI1BC,oBAAQ,QAlIkB;AAmI1BC,qBAAS,QAnIiB;AAoI1BC,uBAAW,QApIe;AAqI1BC,uBAAW,QArIe;AAsI1BC,uBAAW,QAtIe;AAuI1BC,kBAAM,QAvIoB;AAwI1BC,yBAAa,QAxIa;AAyI1BC,uBAAW,QAzIe;AA0I1BC,iBAAK,QA1IqB;AA2I1BC,kBAAM,QA3IoB;AA4I1BC,qBAAS,QA5IiB;AA6I1BC,oBAAQ,QA7IkB;AA8I1BC,uBAAW,QA9Ie;AA+I1BC,oBAAQ,QA/IkB;AAgJ1BC,mBAAO,QAhJmB;AAiJ1BC,mBAAO,KAjJmB;AAkJ1BC,wBAAY,QAlJc;AAmJ1BC,oBAAQ,KAnJkB;AAoJ1BC,yBAAa;AApJa,SAA9B;;AAuJA;AACA,YAAI5N,WAAW3Q,UAAU2Q,QAAV,GAAqB6N,KAAKrJ,KAAL,CAApC;;AAGA;AACA;;AAEA;AACA,iBAASqJ,IAAT,CAAc1d,CAAd,EAAiB;AACb,gBAAI2d,UAAU,EAAd;AACA,iBAAK,IAAIhf,CAAT,IAAcqB,CAAd,EAAiB;AACb,oBAAIA,EAAEmR,cAAF,CAAiBxS,CAAjB,CAAJ,EAAyB;AACrBgf,4BAAQ3d,EAAErB,CAAF,CAAR,IAAgBA,CAAhB;AACH;AACJ;AACD,mBAAOgf,OAAP;AACH;;AAED;AACA,iBAAS/O,UAAT,CAAoBhH,CAApB,EAAuB;AACnBA,gBAAIvC,WAAWuC,CAAX,CAAJ;;AAEA,gBAAItW,MAAMsW,CAAN,KAAYA,IAAI,CAAhB,IAAqBA,IAAI,CAA7B,EAAgC;AAC5BA,oBAAI,CAAJ;AACH;;AAED,mBAAOA,CAAP;AACH;;AAED;AACA,iBAAS8H,OAAT,CAAiBkO,CAAjB,EAAoBhV,GAApB,EAAyB;AACrB,gBAAIiV,eAAeD,CAAf,CAAJ,EAAuB;AAAEA,oBAAI,MAAJ;AAAa;;AAEtC,gBAAIE,iBAAiBC,aAAaH,CAAb,CAArB;AACAA,gBAAIvQ,QAAQzE,GAAR,EAAa0E,QAAQ,CAAR,EAAWjI,WAAWuY,CAAX,CAAX,CAAb,CAAJ;;AAEA;AACA,gBAAIE,cAAJ,EAAoB;AAChBF,oBAAII,SAASJ,IAAIhV,GAAb,EAAkB,EAAlB,IAAwB,GAA5B;AACH;;AAED;AACA,gBAAKuE,KAAK1H,GAAL,CAASmY,IAAIhV,GAAb,IAAoB,QAAzB,EAAoC;AAChC,uBAAO,CAAP;AACH;;AAED;AACA,mBAAQgV,IAAIhV,GAAL,GAAYvD,WAAWuD,GAAX,CAAnB;AACH;;AAED;AACA,iBAAS2J,OAAT,CAAiBvjB,GAAjB,EAAsB;AAClB,mBAAOqe,QAAQ,CAAR,EAAWC,QAAQ,CAAR,EAAWte,GAAX,CAAX,CAAP;AACH;;AAED;AACA,iBAASivB,eAAT,CAAyBjvB,GAAzB,EAA8B;AAC1B,mBAAOgvB,SAAShvB,GAAT,EAAc,EAAd,CAAP;AACH;;AAED;AACA;AACA,iBAAS6uB,cAAT,CAAwBD,CAAxB,EAA2B;AACvB,mBAAO,OAAOA,CAAP,IAAY,QAAZ,IAAwBA,EAAEzf,OAAF,CAAU,GAAV,KAAkB,CAAC,CAA3C,IAAgDkH,WAAWuY,CAAX,MAAkB,CAAzE;AACH;;AAED;AACA,iBAASG,YAAT,CAAsBH,CAAtB,EAAyB;AACrB,mBAAO,OAAOA,CAAP,KAAa,QAAb,IAAyBA,EAAEzf,OAAF,CAAU,GAAV,KAAkB,CAAC,CAAnD;AACH;;AAED;AACA,iBAAS+T,IAAT,CAAclf,CAAd,EAAiB;AACb,mBAAOA,EAAE+L,MAAF,IAAY,CAAZ,GAAgB,MAAM/L,CAAtB,GAA0B,KAAKA,CAAtC;AACH;;AAED;AACA,iBAASoe,mBAAT,CAA6BwM,CAA7B,EAAgC;AAC5B,gBAAIA,KAAK,CAAT,EAAY;AACRA,oBAAKA,IAAI,GAAL,GAAY,GAAhB;AACH;;AAED,mBAAOA,CAAP;AACH;;AAED;AACA,iBAASzL,mBAAT,CAA6BT,CAA7B,EAAgC;AAC5B,mBAAOzM,KAAKC,KAAL,CAAWG,WAAWqM,CAAX,IAAgB,GAA3B,EAAgCnS,QAAhC,CAAyC,EAAzC,CAAP;AACH;AACD;AACA,iBAAS2e,mBAAT,CAA6BxW,CAA7B,EAAgC;AAC5B,mBAAQuW,gBAAgBvW,CAAhB,IAAqB,GAA7B;AACH;;AAED,YAAIyW,WAAY,YAAW;;AAEvB;AACA,gBAAIC,cAAc,eAAlB;;AAEA;AACA,gBAAIC,aAAa,sBAAjB;;AAEA;AACA,gBAAIC,WAAW,QAAQD,UAAR,GAAqB,OAArB,GAA+BD,WAA/B,GAA6C,GAA5D;;AAEA;AACA;AACA;AACA,gBAAIG,oBAAoB,gBAAgBD,QAAhB,GAA2B,YAA3B,GAA0CA,QAA1C,GAAqD,YAArD,GAAoEA,QAApE,GAA+E,WAAvG;AACA,gBAAIE,oBAAoB,gBAAgBF,QAAhB,GAA2B,YAA3B,GAA0CA,QAA1C,GAAqD,YAArD,GAAoEA,QAApE,GAA+E,YAA/E,GAA8FA,QAA9F,GAAyG,WAAjI;;AAEA,mBAAO;AACH3a,qBAAK,IAAI8a,MAAJ,CAAW,QAAQF,iBAAnB,CADF;AAEHnL,sBAAM,IAAIqL,MAAJ,CAAW,SAASD,iBAApB,CAFH;AAGHxP,qBAAK,IAAIyP,MAAJ,CAAW,QAAQF,iBAAnB,CAHF;AAIHG,sBAAM,IAAID,MAAJ,CAAW,SAASD,iBAApB,CAJH;AAKH3P,qBAAK,IAAI4P,MAAJ,CAAW,QAAQF,iBAAnB,CALF;AAMHI,sBAAM,oDANH;AAOHC,sBAAM,oDAPH;AAQHC,sBAAM;AARH,aAAP;AAUH,SA3Bc,EAAf;;AA6BA;AACA;AACA;AACA,iBAASxN,mBAAT,CAA6B7gB,KAA7B,EAAoC;;AAEhCA,oBAAQA,MAAMsuB,OAAN,CAAc9R,QAAd,EAAuB,EAAvB,EAA2B8R,OAA3B,CAAmC7R,SAAnC,EAA8C,EAA9C,EAAkD8R,WAAlD,EAAR;AACA,gBAAIC,QAAQ,KAAZ;AACA,gBAAI3K,MAAM7jB,KAAN,CAAJ,EAAkB;AACdA,wBAAQ6jB,MAAM7jB,KAAN,CAAR;AACAwuB,wBAAQ,IAAR;AACH,aAHD,MAIK,IAAIxuB,SAAS,aAAb,EAA4B;AAC7B,uBAAO,EAAEmd,GAAG,CAAL,EAAQE,GAAG,CAAX,EAAcE,GAAG,CAAjB,EAAoBnG,GAAG,CAAvB,EAA0B/B,QAAQ,MAAlC,EAAP;AACH;;AAED;AACA;AACA;AACA;AACA,gBAAIoZ,KAAJ;AACA,gBAAKA,QAAQd,SAASxa,GAAT,CAAa7F,IAAb,CAAkBtN,KAAlB,CAAb,EAAwC;AACpC,uBAAO,EAAEmd,GAAGsR,MAAM,CAAN,CAAL,EAAepR,GAAGoR,MAAM,CAAN,CAAlB,EAA4BlR,GAAGkR,MAAM,CAAN,CAA/B,EAAP;AACH;AACD,gBAAKA,QAAQd,SAAS/K,IAAT,CAActV,IAAd,CAAmBtN,KAAnB,CAAb,EAAyC;AACrC,uBAAO,EAAEmd,GAAGsR,MAAM,CAAN,CAAL,EAAepR,GAAGoR,MAAM,CAAN,CAAlB,EAA4BlR,GAAGkR,MAAM,CAAN,CAA/B,EAAyCrX,GAAGqX,MAAM,CAAN,CAA5C,EAAP;AACH;AACD,gBAAKA,QAAQd,SAASnP,GAAT,CAAalR,IAAb,CAAkBtN,KAAlB,CAAb,EAAwC;AACpC,uBAAO,EAAEkX,GAAGuX,MAAM,CAAN,CAAL,EAAetX,GAAGsX,MAAM,CAAN,CAAlB,EAA4B7f,GAAG6f,MAAM,CAAN,CAA/B,EAAP;AACH;AACD,gBAAKA,QAAQd,SAASO,IAAT,CAAc5gB,IAAd,CAAmBtN,KAAnB,CAAb,EAAyC;AACrC,uBAAO,EAAEkX,GAAGuX,MAAM,CAAN,CAAL,EAAetX,GAAGsX,MAAM,CAAN,CAAlB,EAA4B7f,GAAG6f,MAAM,CAAN,CAA/B,EAAyCrX,GAAGqX,MAAM,CAAN,CAA5C,EAAP;AACH;AACD,gBAAKA,QAAQd,SAAStP,GAAT,CAAa/Q,IAAb,CAAkBtN,KAAlB,CAAb,EAAwC;AACpC,uBAAO,EAAEkX,GAAGuX,MAAM,CAAN,CAAL,EAAetX,GAAGsX,MAAM,CAAN,CAAlB,EAA4BlqB,GAAGkqB,MAAM,CAAN,CAA/B,EAAP;AACH;AACD,gBAAKA,QAAQd,SAASU,IAAT,CAAc/gB,IAAd,CAAmBtN,KAAnB,CAAb,EAAyC;AACrC,uBAAO;AACHoX,uBAAGsW,oBAAoBe,MAAM,CAAN,CAApB,CADA;AAEHtR,uBAAGsQ,gBAAgBgB,MAAM,CAAN,CAAhB,CAFA;AAGHpR,uBAAGoQ,gBAAgBgB,MAAM,CAAN,CAAhB,CAHA;AAIHlR,uBAAGkQ,gBAAgBgB,MAAM,CAAN,CAAhB,CAJA;AAKHpZ,4BAAQmZ,QAAQ,MAAR,GAAiB;AALtB,iBAAP;AAOH;AACD,gBAAKC,QAAQd,SAASS,IAAT,CAAc9gB,IAAd,CAAmBtN,KAAnB,CAAb,EAAyC;AACrC,uBAAO;AACHmd,uBAAGsQ,gBAAgBgB,MAAM,CAAN,CAAhB,CADA;AAEHpR,uBAAGoQ,gBAAgBgB,MAAM,CAAN,CAAhB,CAFA;AAGHlR,uBAAGkQ,gBAAgBgB,MAAM,CAAN,CAAhB,CAHA;AAIHpZ,4BAAQmZ,QAAQ,MAAR,GAAiB;AAJtB,iBAAP;AAMH;AACD,gBAAKC,QAAQd,SAASQ,IAAT,CAAc7gB,IAAd,CAAmBtN,KAAnB,CAAb,EAAyC;AACrC,uBAAO;AACHmd,uBAAGsQ,gBAAgBgB,MAAM,CAAN,IAAW,EAAX,GAAgBA,MAAM,CAAN,CAAhC,CADA;AAEHpR,uBAAGoQ,gBAAgBgB,MAAM,CAAN,IAAW,EAAX,GAAgBA,MAAM,CAAN,CAAhC,CAFA;AAGHlR,uBAAGkQ,gBAAgBgB,MAAM,CAAN,IAAW,EAAX,GAAgBA,MAAM,CAAN,CAAhC,CAHA;AAIHpZ,4BAAQmZ,QAAQ,MAAR,GAAiB;AAJtB,iBAAP;AAMH;;AAED,mBAAO,KAAP;AACH;;AAED7vB,eAAO+P,SAAP,GAAmBA,SAAnB;AACC,KAlkCD;;AAqkCAxD,MAAE,YAAY;AACV,YAAIA,EAAE4Q,EAAF,CAAKlM,QAAL,CAAcxH,IAAlB,EAAwB;AACpB8C,cAAE4Q,EAAF,CAAKlM,QAAL,CAAc2M,wBAAd;AACH;AACJ,KAJD;AAMH,CAzsED,EAysEG5d,MAzsEH,EAysEW+vB,MAzsEX,E;;;;;;;;;;ACLA;;AAEA;AACA;AACA;AACA;AACA,gDAA6F;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA,gDAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA,gDAA6F;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C","file":"31.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  background-color: white;\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/WidgetContainer/WidgetContainer.scss\n// module id = 1020\n// module chunks = 0 10 11 12 13 14 15 16 19 21 24 25 26 28 29 31 32 33 35 36 37 39 40","\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/get.js\n// module id = 1022\n// module chunks = 0 10 11 12 13 14 15 16 20 21 22 23 24 25 26 27 28 29 30 31 32 33 35 36 37 42 45 46 47 50 51 54","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".label-container {\\n  position: relative;\\n  overflow: hidden;\\n  font-size: 100%;\\n  color: #343434;\\n  height: 100%;\\n  float: left; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/Label/Label.scss\n// module id = 1023\n// module chunks = 1 10 11 14 15 16 17 18 19 24 25 28 29 31 32 38 39 41","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\r\n\r\nexport default MultiModelExtensionBase\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/index.js","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".switch-container {\\n  position: relative; }\\n\\n.switch-container *:hover {\\n  cursor: pointer; }\\n\\n.switch-container.disabled *:hover {\\n  cursor: not-allowed; }\\n\\ninput[type=\\\"checkbox\\\"].switch {\\n  pointer-events: none;\\n  position: absolute;\\n  cursor: pointer;\\n  opacity: 0; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  vertical-align: middle;\\n  width: 40px;\\n  height: 20px;\\n  border-radius: 999px;\\n  background-color: #9d9d9d;\\n  transition-duration: .4s;\\n  transition-property: background-color, box-shadow;\\n  cursor: pointer; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span {\\n  position: absolute;\\n  font-size: 1.6rem;\\n  color: #f5f5f5;\\n  margin-top: 12px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(1) {\\n  margin-left: 15px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(2) {\\n  margin-left: 55px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div {\\n  width: 60px;\\n  background-position: 0 0;\\n  background-color: #57BB00; }\\n\\n.switch-container.disabled input[type=\\\"checkbox\\\"].switch + div {\\n  background-color: rgba(157, 157, 157, 0.5); }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  width: 60px;\\n  height: 26px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div > div {\\n  float: left;\\n  width: 24px;\\n  height: 24px;\\n  border-radius: inherit;\\n  background: #f5f5f5;\\n  transition-timing-function: cubic-bezier(1, 0, 0, 1);\\n  transition-duration: 0.4s;\\n  transition-property: background-color, -webkit-transform;\\n  transition-property: transform, background-color;\\n  transition-property: transform, background-color, -webkit-transform;\\n  pointer-events: none;\\n  margin-top: 1px;\\n  margin-left: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(20px, 0, 0);\\n  transform: translate3d(20px, 0, 0);\\n  background-color: #f5f5f5; }\\n\\ninput[type=\\\"checkbox\\\"].bigswitch.switch + div > div {\\n  width: 44px;\\n  height: 44px;\\n  margin-top: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(34px, 0, 0);\\n  transform: translate3d(34px, 0, 0); }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/components/Switch/Switch.scss\n// module id = 1026\n// module chunks = 11 13 14 15 19 21 24 28 31 32 36 38","import WidgetContainer from './WidgetContainer'\r\n\r\nexport default WidgetContainer\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/WidgetContainer/index.js","import EventsEmitter from 'EventsEmitter'\r\n\r\nexport default class MultiModelExtensionBase extends\r\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (viewer, options = {}, defaultOptions = {}) {\r\n\r\n    super (viewer)\r\n\r\n    // bindings\r\n\r\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\r\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\r\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\r\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\r\n    this.onModelActivated     = this.onModelActivated.bind(this)\r\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\r\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\r\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\r\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\r\n    this.onSelection          = this.onSelection.bind(this)\r\n\r\n    this.__onModelActivated   = this.__onModelActivated.bind(this)\r\n    this.__onModelUnloaded    = this.__onModelUnloaded.bind(this)\r\n    this.__onModelLoaded      = this.__onModelLoaded.bind(this)\r\n\r\n    this.defaultOptions = defaultOptions\r\n\r\n    this.options = Object.assign({},\r\n      defaultOptions,\r\n      options)\r\n\r\n    this.viewer = viewer\r\n\r\n    // read the modelQueue to detect currently loaded models\r\n    // when the extension gets loaded\r\n    const models = viewer.impl.modelQueue().getModels()\r\n\r\n    this.models = models.map((model) => {\r\n\r\n      model.guid = model.guid || this.guid()\r\n\r\n      return model\r\n    })\r\n\r\n    this.initializeEvents ()\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static get ExtensionId() {\r\n\r\n    return 'Viewing.Extension.MultiModelExtensionBase'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  load () {\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  unload () {\r\n\r\n    this.viewerEvents.forEach((event) => {\r\n\r\n      this.viewer.removeEventListener(\r\n        event.id, this[event.handler])\r\n    })\r\n\r\n    if (this.eventSink) {\r\n\r\n      this.eventSink.off('model.activated',\r\n        this.__onModelActivated)\r\n\r\n      this.eventSink.off('model.unloaded',\r\n        this.__onModelUnloaded)\r\n\r\n      this.eventSink.off('model.loaded',\r\n        this.__onModelLoaded)\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Reload callback, in case the extension is re-loaded\r\n  // more than once\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  reload (options = {}) {\r\n\r\n    this.options = Object.assign({},\r\n      this.defaultOptions,\r\n      this.options,\r\n      options)\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when extension gets loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onExtensionLoaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when the model starts to load\r\n  // The geometry and instanceTree may not be available\r\n  // at this time\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelBeginLoad (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Triggered by ModelLoader extension when a model is\r\n  // selected in a multi-model environment\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelActivated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelActivated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when model root node has been loaded\r\n  // Extensions that do not require access to full\r\n  // model geometry or component tree may use that\r\n  // event to know a new model has been loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelRootLoaded (event) {\r\n\r\n    this.viewerEvent([\r\n\r\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\r\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\r\n\r\n    ]).then((args) => {\r\n\r\n      this.onModelCompletedLoad (args[0])\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when object tree is fully loaded.\r\n  // Extensions that are interested in using the\r\n  // instanceTree need to use that event to make sure\r\n  // it is available\r\n  //\r\n  ////////////////////////////////////////////////////////\r\n  onObjectTreeCreated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when geometry is fully loaded\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onGeometryLoaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\r\n  // have both been fired\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelCompletedLoad (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked once the viewer toolbar has been created\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onToolbarCreated (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Triggered by ModelLoader extension when a model has\r\n  // been unloaded as per user request\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelUnloaded (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Invoked when a model is being selected\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onSelection (event) {\r\n\r\n    //console.log('MultiModelExtensionBase.onSelection')\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //Sink Events\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  __onModelLoaded (event) {\r\n\r\n    this.models = [...this.models, event.model]\r\n\r\n    this.onModelBeginLoad (event)\r\n  }\r\n\r\n  __onModelActivated (event) {\r\n\r\n    this.onModelActivated (event)\r\n  }\r\n\r\n  __onModelUnloaded (event) {\r\n\r\n    this.models = this.models.filter((model) => {\r\n\r\n      return model.guid !== event.model.guid\r\n    })\r\n\r\n    this.onModelUnloaded(event)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Initialize all events for the extension\r\n  // Each event will invoke a predefined handler\r\n  // implemented or not by the derived extension\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  initializeEvents () {\r\n\r\n    if (this.options.eventSink) {\r\n\r\n      // event object passed in options\r\n      this.eventSink = this.options.eventSink\r\n\r\n      this.eventSink.on('model.loaded',\r\n        this.__onModelLoaded)\r\n\r\n      this.eventSink.on('model.activated',\r\n        this.__onModelActivated)\r\n\r\n      this.eventSink.on('model.unloaded',\r\n        this.__onModelUnloaded)\r\n    }\r\n\r\n    this.viewerEvents = [\r\n      {\r\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\r\n        handler: 'onExtensionLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\r\n        handler: 'onObjectTreeCreated'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\r\n        handler: 'onModelRootLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\r\n        handler: 'onGeometryLoaded'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\r\n        handler: 'onToolbarCreated'\r\n      },\r\n      {\r\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\r\n        handler: 'onSelection'\r\n      }\r\n    ]\r\n\r\n    this.viewerEvents.forEach((event) => {\r\n\r\n      this.viewerEvent(event.id, this[event.handler])\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Async viewer event\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  viewerEvent (eventId, handler) {\r\n\r\n    if (handler) {\r\n\r\n      this.viewer.addEventListener (eventId, handler)\r\n      return\r\n    }\r\n\r\n    const eventIdArray = Array.isArray(eventId)\r\n      ? eventId : [eventId]\r\n\r\n    const eventTasks = eventIdArray.map((id) => {\r\n      return new Promise ((resolve) => {\r\n        const __handler = (args) => {\r\n          this.viewer.removeEventListener (id, __handler)\r\n          resolve (args)\r\n        }\r\n        this.viewer.addEventListener (id, __handler)\r\n      })\r\n    })\r\n\r\n    return Promise.all (eventTasks)\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","import PropTypes from 'prop-types'\r\nimport ReactDOM from 'react-dom'\r\nimport './WidgetContainer.scss'\r\nimport React from 'react'\r\n\r\nclass WidgetContainer extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    showTitle: PropTypes.bool\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    showTitle: true,\r\n    className: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderTitle () {\r\n\r\n    if (!this.props.showTitle) {\r\n\r\n      return <div/>\r\n    }\r\n\r\n    if (this.props.renderTitle) {\r\n\r\n      return this.props.renderTitle()\r\n    }\r\n\r\n    return (\r\n      <div className=\"title\">\r\n        <label>\r\n          { this.props.title }\r\n        </label>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  renderChildren() {\r\n\r\n    if (this.props.dimensions) {\r\n\r\n      return React.Children.map(this.props.children, (child) => {\r\n\r\n        const newProps = Object.assign({},\r\n          child.props, {\r\n            dimensions: this.props.dimensions\r\n          })\r\n\r\n        return React.cloneElement(child, newProps)\r\n      })\r\n    }\r\n\r\n    return this.props.children\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  ///////////////////////////////////////////////////////////////////\r\n  render() {\r\n\r\n    const classNames = [\r\n      'widget-container',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    const height = this.props.showTitle\r\n      ? 'calc(100% - 40px)'\r\n      : '100%'\r\n\r\n    return (\r\n      <div className={classNames.join(' ')} style={this.props.style}>\r\n         { this.renderTitle() }\r\n        <div className=\"content\" style={{height}}>\r\n          {this.renderChildren()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WidgetContainer\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/WidgetContainer/WidgetContainer.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./WidgetContainer.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/WidgetContainer/WidgetContainer.scss\n// module id = 1031\n// module chunks = 0 10 11 12 13 14 15 16 19 21 24 25 26 28 29 31 32 33 35 36 37 39 40",";(function(factory) {\n    'use strict';\n    /* global window: false, define: false, module: false */\n    var root = typeof window === 'undefined' ? null : window;\n\n    if (typeof define === 'function' && define.amd) {\n        define(function(){ return factory(root); });\n    } else if (typeof module !== 'undefined') {\n        module.exports = factory(root);\n    } else {\n        root.DOMPurify = factory(root);\n    }\n}(function factory(window) {\n    'use strict';\n\n    var DOMPurify = function(window) {\n        return factory(window);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '0.8.9';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n        // not running in a browser, provide a factory function\n        // so that you can pass your own Window\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n    }\n\n    var document = window.document;\n    var originalDocument = document;\n    var DocumentFragment = window.DocumentFragment;\n    var HTMLTemplateElement = window.HTMLTemplateElement;\n    var Node = window.Node;\n    var NodeFilter = window.NodeFilter;\n    var NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap;\n    var Text = window.Text;\n    var Comment = window.Comment;\n    var DOMParser = window.DOMParser;\n    var useDOMParser = false; // See comment below\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n            document = template.content.ownerDocument;\n        }\n    }\n    var implementation = document.implementation;\n    var createNodeIterator = document.createNodeIterator;\n    var getElementsByTagName = document.getElementsByTagName;\n    var createDocumentFragment = document.createDocumentFragment;\n    var importNode = originalDocument.importNode;\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported =\n        typeof implementation.createHTMLDocument !== 'undefined' &&\n        document.documentMode !== 9;\n\n    /* Add properties to a lookup table */\n    var _addToSet = function(set, array) {\n        var l = array.length;\n        while (l--) {\n            if (typeof array[l] === 'string') {\n                array[l] = array[l].toLowerCase();\n            }\n            set[array[l]] = true;\n        }\n        return set;\n    };\n\n    /* Shallow clone an object */\n    var _cloneObj = function(object) {\n        var newObject = {};\n        var property;\n        for (property in object) {\n            if (object.hasOwnProperty(property)) {\n                newObject[property] = object[property];\n            }\n        }\n        return newObject;\n    };\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = _addToSet({}, [\n\n        // HTML\n        'a','abbr','acronym','address','area','article','aside','audio','b',\n        'bdi','bdo','big','blink','blockquote','body','br','button','canvas',\n        'caption','center','cite','code','col','colgroup','content','data',\n        'datalist','dd','decorator','del','details','dfn','dir','div','dl','dt',\n        'element','em','fieldset','figcaption','figure','font','footer','form',\n        'h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i',\n        'img','input','ins','kbd','label','legend','li','main','map','mark',\n        'marquee','menu','menuitem','meter','nav','nobr','ol','optgroup',\n        'option','output','p','pre','progress','q','rp','rt','ruby','s','samp',\n        'section','select','shadow','small','source','spacer','span','strike',\n        'strong','style','sub','summary','sup','table','tbody','td','template',\n        'textarea','tfoot','th','thead','time','tr','track','tt','u','ul','var',\n        'video','wbr',\n\n        // SVG\n        'svg','altglyph','altglyphdef','altglyphitem','animatecolor',\n        'animatemotion','animatetransform','circle','clippath','defs','desc',\n        'ellipse','filter','font','g','glyph','glyphref','hkern','image','line',\n        'lineargradient','marker','mask','metadata','mpath','path','pattern',\n        'polygon','polyline','radialgradient','rect','stop','switch','symbol',\n        'text','textpath','title','tref','tspan','view','vkern',\n\n        // SVG Filters\n        'feBlend','feColorMatrix','feComponentTransfer','feComposite',\n        'feConvolveMatrix','feDiffuseLighting','feDisplacementMap',\n        'feFlood','feFuncA','feFuncB','feFuncG','feFuncR','feGaussianBlur',\n        'feMerge','feMergeNode','feMorphology','feOffset',\n        'feSpecularLighting','feTile','feTurbulence',\n\n        //MathML\n        'math','menclose','merror','mfenced','mfrac','mglyph','mi','mlabeledtr',\n        'mmuliscripts','mn','mo','mover','mpadded','mphantom','mroot','mrow',\n        'ms','mpspace','msqrt','mystyle','msub','msup','msubsup','mtable','mtd',\n        'mtext','mtr','munder','munderover',\n\n        //Text\n        '#text'\n    ]);\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = _addToSet({}, [\n\n        // HTML\n        'accept','action','align','alt','autocomplete','background','bgcolor',\n        'border','cellpadding','cellspacing','checked','cite','class','clear','color',\n        'cols','colspan','coords','datetime','default','dir','disabled',\n        'download','enctype','face','for','headers','height','hidden','high','href',\n        'hreflang','id','ismap','label','lang','list','loop', 'low','max',\n        'maxlength','media','method','min','multiple','name','noshade','novalidate',\n        'nowrap','open','optimum','pattern','placeholder','poster','preload','pubdate',\n        'radiogroup','readonly','rel','required','rev','reversed','role','rows',\n        'rowspan','spellcheck','scope','selected','shape','size','span',\n        'srclang','start','src','step','style','summary','tabindex','title',\n        'type','usemap','valign','value','width','xmlns',\n\n        // SVG\n        'accent-height','accumulate','additivive','alignment-baseline',\n        'ascent','attributename','attributetype','azimuth','basefrequency',\n        'baseline-shift','begin','bias','by','clip','clip-path','clip-rule',\n        'color','color-interpolation','color-interpolation-filters','color-profile',\n        'color-rendering','cx','cy','d','dx','dy','diffuseconstant','direction',\n        'display','divisor','dur','edgemode','elevation','end','fill','fill-opacity',\n        'fill-rule','filter','flood-color','flood-opacity','font-family','font-size',\n        'font-size-adjust','font-stretch','font-style','font-variant','font-weight',\n        'fx', 'fy','g1','g2','glyph-name','glyphref','gradientunits','gradienttransform',\n        'image-rendering','in','in2','k','k1','k2','k3','k4','kerning','keypoints',\n        'keysplines','keytimes','lengthadjust','letter-spacing','kernelmatrix',\n        'kernelunitlength','lighting-color','local','marker-end','marker-mid',\n        'marker-start','markerheight','markerunits','markerwidth','maskcontentunits',\n        'maskunits','max','mask','mode','min','numoctaves','offset','operator',\n        'opacity','order','orient','orientation','origin','overflow','paint-order',\n        'path','pathlength','patterncontentunits','patterntransform','patternunits',\n        'points','preservealpha','r','rx','ry','radius','refx','refy','repeatcount',\n        'repeatdur','restart','result','rotate','scale','seed','shape-rendering',\n        'specularconstant','specularexponent','spreadmethod','stddeviation','stitchtiles',\n        'stop-color','stop-opacity','stroke-dasharray','stroke-dashoffset','stroke-linecap',\n        'stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke','stroke-width',\n        'surfacescale','targetx','targety','transform','text-anchor','text-decoration',\n        'text-rendering','textlength','u1','u2','unicode','values','viewbox',\n        'visibility','vert-adv-y','vert-origin-x','vert-origin-y','word-spacing',\n        'wrap','writing-mode','xchannelselector','ychannelselector','x','x1','x2',\n        'y','y1','y2','z','zoomandpan',\n\n        // MathML\n        'accent','accentunder','bevelled','close','columnsalign','columnlines',\n        'columnspan','denomalign','depth','display','displaystyle','fence',\n        'frame','largeop','length','linethickness','lspace','lquote',\n        'mathbackground','mathcolor','mathsize','mathvariant','maxsize',\n        'minsize','movablelimits','notation','numalign','open','rowalign',\n        'rowlines','rowspacing','rowspan','rspace','rquote','scriptlevel',\n        'scriptminsize','scriptsizemultiplier','selection','separator',\n        'separators','stretchy','subscriptshift','supscriptshift','symmetric',\n        'voffset',\n\n        // XML\n        'xlink:href','xml:id','xlink:title','xml:space','xmlns:xlink'\n    ]);\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    var ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Output should be safe for jQuery's $() factory? */\n    var SAFE_FOR_JQUERY = false;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Specify template detection regex for SAFE_FOR_TEMPLATES mode */\n    var MUSTACHE_EXPR = /\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm;\n    var ERB_EXPR = /<%[\\s\\S]*|[\\s\\S]*%>/gm;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    var FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html string.\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html string */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n     * `Node` is imported into the current `Document`. If this flag is not enabled the\n     * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n     * DOMPurify. */\n    var RETURN_DOM_IMPORT = false;\n\n    /* Output should be free from DOM clobbering attacks? */\n    var SANITIZE_DOM = true;\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = _addToSet({}, [\n        'audio', 'head', 'math', 'script', 'style', 'template', 'svg', 'video'\n    ]);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = _addToSet({}, [\n        'audio', 'video', 'img', 'source', 'image'\n    ]);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = _addToSet({}, [\n        'alt','class','for','id','label','name','pattern','placeholder',\n        'summary','title','value','style','xmlns'\n    ]);\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    /**\n     * _parseConfig\n     *\n     * @param  optional config literal\n     */\n    var _parseConfig = function(cfg) {\n        /* Shield configuration object from tampering */\n        if (typeof cfg !== 'object') {\n            cfg = {};\n        }\n\n        /* Set configuration parameters */\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ?\n            _addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ?\n            _addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ?\n            _addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ?\n            _addToSet({}, cfg.FORBID_ATTR) : {};\n        ALLOW_ARIA_ATTR     = cfg.ALLOW_ARIA_ATTR     !== false; // Default true\n        ALLOW_DATA_ATTR     = cfg.ALLOW_DATA_ATTR     !== false; // Default true\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n        SAFE_FOR_JQUERY     = cfg.SAFE_FOR_JQUERY     ||  false; // Default false\n        SAFE_FOR_TEMPLATES  = cfg.SAFE_FOR_TEMPLATES  ||  false; // Default false\n        WHOLE_DOCUMENT      = cfg.WHOLE_DOCUMENT      ||  false; // Default false\n        RETURN_DOM          = cfg.RETURN_DOM          ||  false; // Default false\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT ||  false; // Default false\n        RETURN_DOM_IMPORT   = cfg.RETURN_DOM_IMPORT   ||  false; // Default false\n        FORCE_BODY          = cfg.FORCE_BODY          ||  false; // Default false\n        SANITIZE_DOM        = cfg.SANITIZE_DOM        !== false; // Default true\n        KEEP_CONTENT        = cfg.KEEP_CONTENT        !== false; // Default true\n\n        if (SAFE_FOR_TEMPLATES) {\n            ALLOW_DATA_ATTR = false;\n        }\n\n        if (RETURN_DOM_FRAGMENT) {\n            RETURN_DOM = true;\n        }\n\n        /* Merge configuration parameters */\n        if (cfg.ADD_TAGS) {\n            if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n                ALLOWED_TAGS = _cloneObj(ALLOWED_TAGS);\n            }\n            _addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n            if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n                ALLOWED_ATTR = _cloneObj(ALLOWED_ATTR);\n            }\n            _addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n            _addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n\n        /* Add #text in case KEEP_CONTENT is set to true */\n        if (KEEP_CONTENT) { ALLOWED_TAGS['#text'] = true; }\n\n        // Prevent further manipulation of configuration.\n        // Not available in IE8, Safari 5, etc.\n        if (Object && 'freeze' in Object) { Object.freeze(cfg); }\n\n        CONFIG = cfg;\n    };\n\n   /**\n     * _forceRemove\n     *\n     * @param  a DOM node\n     */\n    var _forceRemove = function(node) {\n        DOMPurify.removed.push({element: node});\n        try {\n            node.parentNode.removeChild(node);\n        } catch (e) {\n            node.outerHTML = '';\n        }\n    };\n\n   /**\n     * _removeAttribute\n     *\n     * @param  an Attribute name\n     * @param  a DOM node\n     */\n    var _removeAttribute = function(name, node) {\n        DOMPurify.removed.push({\n            attribute: node.getAttributeNode(name),\n            from: node\n        });\n        node.removeAttribute(name);\n    };\n\n   /**\n     * _initDocument\n     *\n     * @param  a string of dirty markup\n     * @return a DOM, filled with the dirty markup\n     */\n    var _initDocument = function(dirty) {\n        /* Create a HTML document */\n        var doc, body;\n\n        /* Fill body with bogus element */\n        if (FORCE_BODY) {\n            dirty = '<remove></remove>' + dirty;\n        }\n\n        /* Use DOMParser to workaround Firefox bug (see comment below) */\n        if (useDOMParser) {\n            try {\n                doc = new DOMParser().parseFromString(dirty, 'text/html');\n            } catch (e) {}\n        }\n\n        /* Otherwise use createHTMLDocument, because DOMParser is unsafe in\n           Safari (see comment below) */\n        if (!doc || !doc.documentElement) {\n            doc = implementation.createHTMLDocument('');\n            body = doc.body;\n            body.parentNode.removeChild(body.parentNode.firstElementChild);\n            body.outerHTML = dirty;\n        }\n\n        /* Work on whole document or just its body */\n        return getElementsByTagName.call(doc,\n            WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    };\n\n    // Safari 10.1+ (unfixed as of time of writing) has a catastrophic bug in\n    // its implementation of DOMParser such that the following executes the\n    // JavaScript:\n    //\n    // new DOMParser()\n    //   .parseFromString('<svg onload=alert(document.domain)>', 'text/html');\n    //\n    // However, Firefox uses a different parser for innerHTML rather than\n    // DOMParser (see https://bugzilla.mozilla.org/show_bug.cgi?id=1205631)\n    // which means that you *must* use DOMParser, otherwise the output may\n    // not be safe if used in a document.write context later.\n    //\n    // So we feature detect the Firefox bug and use the DOMParser if necessary.\n    if (DOMPurify.isSupported) {\n        (function () {\n            var doc = _initDocument('<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">');\n            if (doc.querySelector('svg img')) {\n                useDOMParser = true;\n            }\n        }());\n    }\n\n    /**\n     * _createIterator\n     *\n     * @param  document/fragment to create iterator for\n     * @return iterator instance\n     */\n    var _createIterator = function(root) {\n        return createNodeIterator.call(root.ownerDocument || root,\n            root,\n            NodeFilter.SHOW_ELEMENT\n            | NodeFilter.SHOW_COMMENT\n            | NodeFilter.SHOW_TEXT,\n            function() { return NodeFilter.FILTER_ACCEPT; },\n            false\n        );\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  element to check for clobbering attacks\n     * @return true if clobbered, false if safe\n     */\n    var _isClobbered = function(elm) {\n        if (elm instanceof Text || elm instanceof Comment) {\n            return false;\n        }\n        if (  typeof elm.nodeName !== 'string'\n           || typeof elm.textContent !== 'string'\n           || typeof elm.removeChild !== 'function'\n           || !(elm.attributes instanceof NamedNodeMap)\n           || typeof elm.removeAttribute !== 'function'\n           || typeof elm.setAttribute !== 'function'\n        ) {\n            return true;\n        }\n        return false;\n    };\n\n    /**\n     * _isNode\n     *\n     * @param object to check whether it's a DOM node\n     * @return true is object is a DOM node\n     */\n    var _isNode = function(obj) {\n        return (\n            typeof Node === \"object\" ? obj instanceof Node : obj\n                && typeof obj === \"object\" && typeof obj.nodeType === \"number\"\n                && typeof obj.nodeName===\"string\"\n        );\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   node to check for permission to exist\n     * @return  true if node was killed, false if left alive\n     */\n    var _sanitizeElements = function(currentNode) {\n        var tagName, content;\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeElements', currentNode, null);\n\n        /* Check if element is clobbered or can clobber */\n        if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Now let's check the element's type and name */\n        tagName = currentNode.nodeName.toLowerCase();\n\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeElement', currentNode, {\n            tagName: tagName,\n            allowedTags: ALLOWED_TAGS\n        });\n\n        /* Remove element if anything forbids its presence */\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            /* Keep content except for black-listed elements */\n            if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]\n                    && typeof currentNode.insertAdjacentHTML === 'function') {\n                try {\n                    currentNode.insertAdjacentHTML('AfterEnd', currentNode.innerHTML);\n                } catch (e) {}\n            }\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Convert markup to cover jQuery behavior */\n        if (SAFE_FOR_JQUERY && !currentNode.firstElementChild &&\n                (!currentNode.content || !currentNode.content.firstElementChild) &&\n                /</g.test(currentNode.textContent)) {\n            DOMPurify.removed.push({element: currentNode.cloneNode()});\n            currentNode.innerHTML = currentNode.textContent.replace(/</g, '&lt;');\n        }\n\n        /* Sanitize element content to be template-safe */\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n            /* Get the element's text content */\n            content = currentNode.textContent;\n            content = content.replace(MUSTACHE_EXPR, ' ');\n            content = content.replace(ERB_EXPR, ' ');\n            if (currentNode.textContent !== content) {\n                DOMPurify.removed.push({element: currentNode.cloneNode()});\n                currentNode.textContent = content;\n            }\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeElements', currentNode, null);\n\n        return false;\n    };\n\n    var DATA_ATTR = /^data-[\\-\\w.\\u00B7-\\uFFFF]/;\n    var ARIA_ATTR = /^aria-[\\-\\w]+$/;\n    var IS_ALLOWED_URI = /^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i;\n    var IS_SCRIPT_OR_DATA = /^(?:\\w+script|data):/i;\n    /* This needs to be extensive thanks to Webkit/Blink's behavior */\n    var ATTR_WHITESPACE = /[\\x00-\\x20\\xA0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g;\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param   node to sanitize\n     * @return  void\n     */\n    var _sanitizeAttributes = function(currentNode) {\n        var attr, name, value, lcName, idAttr, attributes, hookEvent, l;\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n        attributes = currentNode.attributes;\n\n        /* Check if we have attributes; if not we might have a text node */\n        if (!attributes) { return; }\n\n        hookEvent = {\n            attrName: '',\n            attrValue: '',\n            keepAttr: true,\n            allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n\n        /* Go backwards over all attributes; safely remove bad ones */\n        while (l--) {\n            attr = attributes[l];\n            name = attr.name;\n            value = attr.value.trim();\n            lcName = name.toLowerCase();\n\n            /* Execute a hook if present */\n            hookEvent.attrName = lcName;\n            hookEvent.attrValue = value;\n            hookEvent.keepAttr = true;\n            _executeHook('uponSanitizeAttribute', currentNode, hookEvent );\n            value = hookEvent.attrValue;\n\n            /* Remove attribute */\n            // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n            // remove a \"name\" attribute from an <img> tag that has an \"id\"\n            // attribute at the time.\n            if (lcName === 'name'  &&\n                    currentNode.nodeName === 'IMG' && attributes.id) {\n                idAttr = attributes.id;\n                attributes = Array.prototype.slice.apply(attributes);\n                _removeAttribute('id', currentNode);\n                _removeAttribute(name, currentNode);\n                if (attributes.indexOf(idAttr) > l) {\n                    currentNode.setAttribute('id', idAttr.value);\n                }\n            } else if (\n                  // This works around a bug in Safari, where input[type=file]\n                  // cannot be dynamically set after type has been removed\n                  currentNode.nodeName === 'INPUT' && lcName === 'type' &&\n                  value === 'file' && (ALLOWED_ATTR[lcName] || !FORBID_ATTR[lcName])) {\n                  continue;\n            } else {\n                // This avoids a crash in Safari v9.0 with double-ids.\n                // The trick is to first set the id to be empty and then to\n                // remove the attribute\n                if (name === 'id') {\n                    currentNode.setAttribute(name, '');\n                }\n                _removeAttribute(name, currentNode);\n            }\n\n            /* Did the hooks approve of the attribute? */\n            if (!hookEvent.keepAttr) {\n                continue;\n            }\n\n            /* Make sure attribute cannot clobber */\n            if (SANITIZE_DOM &&\n                    (lcName === 'id' || lcName === 'name') &&\n                    (value in window || value in document || value in formElement)) {\n                continue;\n            }\n\n            /* Sanitize attribute content to be template-safe */\n            if (SAFE_FOR_TEMPLATES) {\n                value = value.replace(MUSTACHE_EXPR, ' ');\n                value = value.replace(ERB_EXPR, ' ');\n            }\n\n            /* Allow valid data-* attributes: At least one character after \"-\"\n               (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n               XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n               We don't need to check the value; it's always URI safe. */\n            if (ALLOW_DATA_ATTR && DATA_ATTR.test(lcName)) {\n                // This attribute is safe\n            }\n            else if (ALLOW_ARIA_ATTR && ARIA_ATTR.test(lcName)) {\n                // This attribute is safe\n            }\n            /* Otherwise, check the name is permitted */\n            else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n                continue;\n            }\n            /* Check value is safe. First, is attr inert? If so, is safe */\n            else if (URI_SAFE_ATTRIBUTES[lcName]) {\n                // This attribute is safe\n            }\n            /* Check no script, data or unknown possibly unsafe URI\n               unless we know URI values are safe for that attribute */\n            else if (IS_ALLOWED_URI.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Keep image data URIs alive if src/xlink:href is allowed */\n            else if (\n                (lcName === 'src' || lcName === 'xlink:href') &&\n                value.indexOf('data:') === 0 &&\n                DATA_URI_TAGS[currentNode.nodeName.toLowerCase()]) {\n                // This attribute is safe\n            }\n            /* Allow unknown protocols: This provides support for links that\n               are handled by protocol handlers which may be unknown ahead of\n               time, e.g. fb:, spotify: */\n            else if (\n                ALLOW_UNKNOWN_PROTOCOLS &&\n                !IS_SCRIPT_OR_DATA.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Check for binary attributes */\n            else if (!value) {\n                // binary attributes are safe at this point\n            }\n            /* Anything else, presume unsafe, do not add it back */\n            else {\n                continue;\n            }\n\n            /* Handle invalid data-* attribute set by try-catching it */\n            try {\n                currentNode.setAttribute(name, value);\n                DOMPurify.removed.pop();\n            } catch (e) {}\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  fragment to iterate over recursively\n     * @return void\n     */\n    var _sanitizeShadowDOM = function(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n        while ( (shadowNode = shadowIterator.nextNode()) ) {\n            /* Execute a hook if present */\n            _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(shadowNode)) {\n                continue;\n            }\n\n            /* Deep shadow DOM detected */\n            if (shadowNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(shadowNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(shadowNode);\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode\n     */\n    var _executeHook = function(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) { return; }\n\n        hooks[entryPoint].forEach(function(hook) {\n            hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n    };\n\n    /**\n     * sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    DOMPurify.sanitize = function(dirty, cfg) {\n        var body, importedNode, currentNode, oldNode, nodeIterator, returnNode;\n        /* Make sure we have a string to sanitize.\n           DO NOT return early, as this will return the wrong type if\n           the user has requested a DOM object rather than a string */\n        if (!dirty) {\n            dirty = '<!-->';\n        }\n\n        /* Stringify, in case dirty is an object */\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n            if (typeof dirty.toString !== 'function') {\n                throw new TypeError('toString is not a function');\n            } else {\n                dirty = dirty.toString();\n            }\n        }\n\n        /* Check we can run. Otherwise fall back or ignore */\n        if (!DOMPurify.isSupported) {\n            if (typeof window.toStaticHTML === 'object'\n                || typeof window.toStaticHTML === 'function') {\n                if (typeof dirty === 'string') {\n                    return window.toStaticHTML(dirty);\n                } else if (_isNode(dirty)) {\n                    return window.toStaticHTML(dirty.outerHTML);\n                }\n            }\n            return dirty;\n        }\n\n        /* Assign config vars */\n        _parseConfig(cfg);\n\n        /* Clean up removed elements */\n        DOMPurify.removed = [];\n\n        if (dirty instanceof Node) {\n            /* If dirty is a DOM element, append to an empty document to avoid\n               elements being stripped by the parser */\n            body = _initDocument('<!-->');\n            importedNode = body.ownerDocument.importNode(dirty, true);\n            if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n                /* Node is already a body, use as is */\n                body = importedNode;\n            } else {\n                body.appendChild(importedNode);\n            }\n        } else {\n            /* Exit directly if we have nothing to do */\n            if (!RETURN_DOM && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n                return dirty;\n            }\n\n            /* Initialize the document to work on */\n            body = _initDocument(dirty);\n\n            /* Check we have a DOM node from the data */\n            if (!body) {\n                return RETURN_DOM ? null : '';\n            }\n        }\n\n        /* Remove first element node (ours) if FORCE_BODY is set */\n        if (FORCE_BODY) {\n            _forceRemove(body.firstChild);\n        }\n\n        /* Get node iterator */\n        nodeIterator = _createIterator(body);\n\n        /* Now start iterating over the created document */\n        while ( (currentNode = nodeIterator.nextNode()) ) {\n\n            /* Fix IE's strange behavior with manipulated textNodes #89 */\n            if (currentNode.nodeType === 3 && currentNode === oldNode) {\n                continue;\n            }\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(currentNode)) {\n                continue;\n            }\n\n            /* Shadow DOM detected, sanitize it */\n            if (currentNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(currentNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(currentNode);\n\n            oldNode = currentNode;\n        }\n\n        /* Return sanitized string or DOM */\n        if (RETURN_DOM) {\n\n            if (RETURN_DOM_FRAGMENT) {\n                returnNode = createDocumentFragment.call(body.ownerDocument);\n\n                while (body.firstChild) {\n                    returnNode.appendChild(body.firstChild);\n                }\n            } else {\n                returnNode = body;\n            }\n\n            if (RETURN_DOM_IMPORT) {\n                /* adoptNode() is not used because internal state is not reset\n                   (e.g. the past names map of a HTMLFormElement), this is safe\n                   in theory but we would rather not risk another attack vector.\n                   The state that is cloned by importNode() is explicitly defined\n                   by the specs. */\n                returnNode = importNode.call(originalDocument, returnNode, true);\n            }\n\n            return returnNode;\n        }\n\n        return WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    };\n\n    /**\n     * addHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint\n     * @param {Function} hookFunction\n     */\n    DOMPurify.addHook = function(entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') { return; }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        hooks[entryPoint].push(hookFunction);\n    };\n\n    /**\n     * removeHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHook = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint].pop();\n        }\n    };\n\n    /**\n     * removeHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHooks = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint] = [];\n        }\n    };\n\n    /**\n     * removeAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     * @return void\n     */\n    DOMPurify.removeAllHooks = function() {\n        hooks = {};\n    };\n\n    return DOMPurify;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dompurify/src/purify.js\n// module id = 1032\n// module chunks = 1 3 10 11 14 15 16 17 18 19 21 24 25 28 29 31 32 38 39 41","import Label from './Label'\r\n\r\nexport default Label\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Label/index.js","import PropTypes from 'prop-types'\r\nimport DOMPurify from 'dompurify'\r\nimport ReactDOM from 'react-dom'\r\nimport React from 'react'\r\nimport './Label.scss'\r\n\r\nexport default class Label extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    textAlign: PropTypes.string,\r\n    className: PropTypes.string,\r\n    text: PropTypes.string\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    textAlign: 'left',\r\n    className: '',\r\n    text: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor (props) {\r\n\r\n    super (props)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    const classNames = [\r\n      'label-container',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    const style = {\r\n      width: this.props.textAlign === 'center'\r\n        ? '100%' : '',\r\n      textAlign: this.props.textAlign\r\n    }\r\n\r\n    return(\r\n      <div className={classNames.join(' ')}\r\n        style={style}>\r\n        <p>\r\n          { DOMPurify.sanitize(this.props.text) }\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Label/Label.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Label.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Label/Label.scss\n// module id = 1037\n// module chunks = 1 10 11 14 15 16 17 18 19 24 25 28 29 31 32 38 39 41","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ContentEditable = function (_React$Component) {\n  _inherits(ContentEditable, _React$Component);\n\n  function ContentEditable() {\n    _classCallCheck(this, ContentEditable);\n\n    var _this = _possibleConstructorReturn(this, (ContentEditable.__proto__ || Object.getPrototypeOf(ContentEditable)).call(this));\n\n    _this.emitChange = _this.emitChange.bind(_this);\n    return _this;\n  }\n\n  _createClass(ContentEditable, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          tagName = _props.tagName,\n          html = _props.html,\n          props = _objectWithoutProperties(_props, ['tagName', 'html']);\n\n      return _react2.default.createElement(tagName || 'div', _extends({}, props, {\n        ref: function ref(e) {\n          return _this2.htmlEl = e;\n        },\n        onInput: this.emitChange,\n        onBlur: this.props.onBlur || this.emitChange,\n        contentEditable: !this.props.disabled,\n        dangerouslySetInnerHTML: { __html: html }\n      }), this.props.children);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      // We need not rerender if the change of props simply reflects the user's\n      // edits. Rerendering in this case would make the cursor/caret jump.\n      return (\n        // Rerender if there is no element yet... (somehow?)\n        !this.htmlEl\n        // ...or if html really changed... (programmatically, not by user edit)\n        || nextProps.html !== this.htmlEl.innerHTML && nextProps.html !== this.props.html\n        // ...or if editing is enabled or disabled.\n        || this.props.disabled !== nextProps.disabled\n        // ...or if className changed\n        || this.props.className !== nextProps.className\n      );\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.htmlEl && this.props.html !== this.htmlEl.innerHTML) {\n        // Perhaps React (whose VDOM gets outdated because we often prevent\n        // rerendering) did not update the DOM. So we update it manually now.\n        this.htmlEl.innerHTML = this.props.html;\n      }\n    }\n  }, {\n    key: 'emitChange',\n    value: function emitChange(evt) {\n      if (!this.htmlEl) return;\n      var html = this.htmlEl.innerHTML;\n      if (this.props.onChange && html !== this.lastHtml) {\n        evt.target = { value: html };\n        this.props.onChange(evt);\n      }\n      this.lastHtml = html;\n    }\n  }]);\n\n  return ContentEditable;\n}(_react2.default.Component);\n\nexports.default = ContentEditable;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-contenteditable/lib/react-contenteditable.js\n// module id = 1040\n// module chunks = 0 1 3 10 11 14 16 18 19 29 31 32 39 52","import autobind from 'autobind-decorator'\r\nimport PropTypes from 'prop-types'\r\nimport React from 'react'\r\n\r\nexport default class Switch extends React.Component {\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    checked: PropTypes.bool\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static defaultProps = {\r\n    checked: true,\r\n    className: ''\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  constructor () {\r\n\r\n    super ()\r\n\r\n    this.state = {\r\n      checked: true\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  componentWillMount () {\r\n\r\n    this.setState({\r\n      checked: this.props.checked\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  @autobind\r\n  toggle () {\r\n\r\n    if (this.props.disabled) {\r\n      return\r\n    }\r\n\r\n    const checked = !this.state.checked\r\n\r\n    this.setState({\r\n      checked\r\n    })\r\n\r\n    if (this.props.onChange) {\r\n\r\n      this.props.onChange (checked)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render () {\r\n\r\n    const classNames = [\r\n      'switch-container',\r\n      this.props.disabled ? 'disabled' : '',\r\n      ...this.props.className.split(' ')\r\n    ]\r\n\r\n    return(\r\n      <div className={classNames.join(' ')}\r\n        onClick={this.toggle}>\r\n        <input ref=\"switch\" className=\"switch\"\r\n          checked={this.state.checked}\r\n          value={this.state.checked}\r\n          onChange={()=> {}}\r\n          type=\"checkbox\"\r\n        />\r\n        <div>\r\n          <span>\r\n            <g className=\"icon icon-toolbar grid-view\"/>\r\n          </span>\r\n          <span>\r\n            <g className=\"icon icon-toolbar ticket-view\"/>\r\n          </span>\r\n          <div/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Switch/Switch.js","import Switch from './Switch'\r\nimport './Switch.scss'\r\n\r\nexport default Switch\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/components/Switch/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../node_modules/sass-loader/index.js!./Switch.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/Switch/Switch.scss\n// module id = 1050\n// module chunks = 11 13 14 15 19 21 24 28 31 32 36 38","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".markup-2d .title {\\n  display: -webkit-inline-box;\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  float: left; }\\n  .markup-2d .title > label {\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    -ms-user-select: none;\\n    white-space: nowrap;\\n    font-weight: normal;\\n    user-select: none;\\n    margin-left: 27px;\\n    margin-top: 10px;\\n    select: none;\\n    width: 90px;\\n    float: left; }\\n  .markup-2d .title > .dropdown {\\n    position: relative;\\n    height: 27px;\\n    top: 6px; }\\n    .markup-2d .title > .dropdown > button {\\n      padding: 2px 12px;\\n      height: 26px; }\\n\\n.markup-2d .content {\\n  overflow-y: scroll;\\n  overflow-x: hidden;\\n  height: 100%; }\\n\\n.markup-2d-controls {\\n  margin: auto 0 auto calc(100% - 152px);\\n  position: relative;\\n  float: left; }\\n\\n.markup-2d-controls > button {\\n  border: 1px solid #c6c6c6;\\n  background-color: #e1e1e1;\\n  border-radius: 6px;\\n  position: relative;\\n  overflow: hidden;\\n  outline: none;\\n  height: 24px;\\n  width: 26px; }\\n\\n.markup-2d-controls > button:hover {\\n  border: 1px solid #878787;\\n  background-color: #f5f5f5; }\\n\\n.markup-2d-controls > button > label {\\n  position: relative;\\n  font-size: 20px;\\n  color: #f0fcff;\\n  top: -8px; }\\n\\n.markup-2d-controls > button > span {\\n  pointer-events: none;\\n  color: #9b9b9b; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/Viewing.Extension.Markup2D.scss\n// module id = 1397\n// module chunks = 31","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".adsk-icon-markup:before {\\n  content: \\\"a\\\"; }\\n\\n.markups-panel-content {\\n  color: white; }\\n\\n.markups-panel-content > div {\\n  padding: 10px 5px; }\\n\\n.markups-panel-content button {\\n  background: #cacaca;\\n  display: inline-block;\\n  color: #FFFFFF;\\n  border-radius: 3px;\\n  text-align: center;\\n  vertical-align: middle;\\n  font-size: 13px;\\n  font-style: normal;\\n  cursor: pointer;\\n  pointer-events: all;\\n  border: 1px solid transparent;\\n  outline: none;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  box-sizing: border-box;\\n  width: 34px;\\n  height: 30px;\\n  margin: 2px; }\\n\\n.markups-panel-content button:hover, .markups-panel-content button.active {\\n  border: 1px solid gray; }\\n\\n.markups-panel-content .viewer-actions button {\\n  background: #cacaca;\\n  margin-right: 6px;\\n  font-size: 24px;\\n  padding: 2px;\\n  width: 34px; }\\n\\n.markups-panel-content .markup-buttons, .markups-panel-content .viewer-actions {\\n  display: inline-block; }\\n\\n.markups-panel-content .panel-actions {\\n  text-align: center; }\\n\\n.markups-panel-content .panel-actions button {\\n  width: auto; }\\n\\n.markups-panel-content .vertical-seperator {\\n  display: inline-block;\\n  height: 100%;\\n  width: 1px;\\n  background-color: #cacaca; }\\n\\n.markups-panel-content [data-panel-action=\\\"finish\\\"], .markups-panel-content [data-panel-action=\\\"clear\\\"] {\\n  background-color: gray; }\\n\\n.markups-panel-content button.active {\\n  background-color: #939393; }\\n\\n.markups-panel-content hr {\\n  margin: 0; }\\n\\n.markups-panel-content .markup-tools {\\n  display: inline-block; }\\n\\n.markups-panel-content .markup-actions {\\n  display: inline-block; }\\n\\n.markups-panel-content .markup-actions button {\\n  display: inline-block;\\n  width: 50px;\\n  color: gray; }\\n\\n.markups-panel-content .markup-actions button.active {\\n  color: #404040;\\n  background-color: transparent; }\\n\\n.markups-panel-content select, .markups-panel-content option {\\n  background-color: white;\\n  color: black; }\\n\\n#markup-arrow {\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAQCAYAAADNo/U5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REU4MDA0MDNCOTNFMTFFNDlBRjVDMkIyRDQyNUE0RkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REU4MDA0MDRCOTNFMTFFNDlBRjVDMkIyRDQyNUE0RkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpERTgwMDQwMUI5M0UxMUU0OUFGNUMyQjJENDI1QTRGRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpERTgwMDQwMkI5M0UxMUU0OUFGNUMyQjJENDI1QTRGRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmOmkSIAAAC/SURBVHjaYvj///89IJ4KxO5AzM5ADAAqfPYfAT4B8WogjgFiIXyaTv/HDv4C8QEgLsRwAVBg23/cAKQxE5tNs3Fo+AzEnric14bDBld8fsrGYdNRIGbDpSkMSeEOIN6AxJ+GS5M1VMFMIGYGYh4gvoqkMRGbJmUgLkMTUwPiD1BNP4DYlNhI90Gy7TEQixGrsQFJ434gZiFGEyMQb0LSOIFY2wSA+BaSxihiNWpBUwgInGAgFgAVB0PjkR8gwADzDYCmgUOGQwAAAABJRU5ErkJggg==\\\"); }\\n\\n#markup-label {\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPCAYAAAA/I0V3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REU4MDA0MDdCOTNFMTFFNDlBRjVDMkIyRDQyNUE0RkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REU4MDA0MDhCOTNFMTFFNDlBRjVDMkIyRDQyNUE0RkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpERTgwMDQwNUI5M0UxMUU0OUFGNUMyQjJENDI1QTRGRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpERTgwMDQwNkI5M0UxMUU0OUFGNUMyQjJENDI1QTRGRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoySdycAAAEiSURBVHjahNK7SgNREIDhcySKSSNYKGk0iZc0NrFWxDyARRpbH8FGAoJgZWWlL2ApeAFT2AiWlhaCICgiKGLjpRAVEzn+A3N0WHZ14GOXmTM7y+w6pxFCGMYmrsNvPOIQ8/DOBolpvIa/Y8s2eFxp4Q4NDKCIGRyZxnpsmjDJKZcIcgW8aL0puRy6cYAOTpJN3vs3Dt9y24e8+y843Is5tHXSapwUD5S4NFBDGRUUs54mi1hDJ2VjT9jR1f9MkqZFc+gcS5jFkHnwTbLpUhOn6Ml4mwfb1IVRre2xqc+UBpk4aHPS9KH35ZQG+RwbaaNbOvoLy7JFjGABZ1p71+s+qtI0jueM/002uoJ1m4zTxnS18ae9xzYmtd6PXVzg+FuAAQAB46m3CGHlZgAAAABJRU5ErkJggg==\\\"); }\\n\\n#markup-rectangle {\\n  /* annot_icon_rect.png */\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAYAAAARIY8tAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAB2SURBVEhL7ZUxCoAwDEVTdPMMCp7aXWcP5OhJ0l9tcZAGLWmnPHiDws9zk7in+jBzB2dln0/Hwwi1meL59oEDLoWGbSIb2OLr32C73icuLPAGWwvIYGsBGWwtIIPtp8AJ90LDNpENaNE24OCgrIvnEcDvuY5EHvqmFjhw6lRVAAAAAElFTkSuQmCC\\\"); }\\n\\n#markup-circle {\\n  /* annot_icon_circle.png */\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAE/SURBVEhLvZWxccMwDEVdeIQUKTxAygzgAVxkCBcZIUX2yCAuPIZLFykygAsXKVMq//EM3SdFWVbOzL97dxQIQBQIUouu65pSNVZ4FlvxfoExtppvRtVovIovMSbmeFktNlE1igexE7dqLx7FINfAINbiJFw/4iA+LjDG5jqLjcjyZQ+ClXtykryJ0g+Wgjl/0bdYid7PA8DLchRPovQpwedThChXP++ObGiIVd2SPMDXv6TfeHfybhkryzWICZEr2WOSng6xkrDPgT3xr0jnJCb5pBAd4oFzIDaUyhQTnM4QbehBcyA2RM7/e0HzEjXfZGjaptD8oAHHPHT3qwK4crkVQ6xqrFx/uuyAKxdHF0noENoQGHtiRMyLyPJlDwar8HJNCd9s5cHAUNDsl1lCT5OI0wmMU59PUTXej27xC14SYOIfE4RhAAAAAElFTkSuQmCC\\\"); }\\n\\n#markup-cloud {\\n  /* annot_icon_cloud.png */\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAy1JREFUSEudlklsjkEYx9tqrVVbU0vTJi7WINLQSCUuJK4O4thwdHARQeLq4kBwQhw04SIcKhFLSERccLEllpBaYi1qp3jr9xvPfP2aSNp6kt838/yfmXned2bema+i3Pr6+iqhGkaENMDUB4nZtzKkflMsimIW7IXzcBo2Q51xyumwA06BsS30qY1YA2yFTrgIu2HmgEQ4LYgv4XdQoPVRXINFcB9+QSmOnaHJHEpj2u/ooz2CeXnwGhyfKlk0cpAfSSiK7rKO6ibK7d5Zx35C6cE0qscoKvMrvgjRhjeoXqf8AHkgzae6BMZ71DV8B35A1T7d+qE/phhrgib4AtpZxEkGqG+E70ktigto9VADE/H3wU/qDnQS6mAcLIU7oX+EySZYCHlKTsComLqR1J26LuotaT7D0Fz0Z3AbWkNOhr89EnyDGQqzwzGJc7qR+MRoPAZG4Q/YevpQCyNDym03gJtFe0283sB4uAtfIS/iEYLV0XdQMyF91kHeGI5xVN1gFc4WReq+Wi/sojrcBOvLxvgEbTlYjdMBaZthp9DSFA3VTABr6esU53EOqTtFaZsmqSiuIDZHv2EZ/erpv47yOvgWXTDGBAvA/e9C+3HURJ9hG32dqk2guaaNJlgMJnDP+8Esh9LuGKrRZwT954Ifo/YFrdkEU+ANuPLfEHsoD1IOd5HXwFvIa3ATvcagi7wf0hkT1vEfCdoh76L3sDrC6SNZAm8j+BxmRWhIFgn8yHpjDGdkfg56mnaWBdrVUhDD90NsQBvwNYfeiF4VvvN/CN7FWMdTH36acTzsnLvb+BPSCBj1aWheQLdgasjJ8HeC23tVSPlhD1CawBkZq7gcRzOBr7gNPFE9Nb3hNNdnD5p7vS765HviKngie6Iug4ehuzNn5zf4EaIDeZ48hSeQd4Tmd6LuvfDR9poB7DWoe0TkO8T7ZLIJRlO5XNbYQU2Uy8NgUs+oXKp/hmNgu/T2UH5BOVV/1w1nIY43Uh7YM+UyrEF3G3uQuQ4O+grOQRsxH2473IN85PvkTmf6U1AyRM/zVlgB40vZw0wEk2z3j5g3XTOsJN7UH6+o+ANSF73vdqluuAAAAABJRU5ErkJggg==\\\"); }\\n\\n#markup-freehand {\\n  /* annot_icon_freehand.png */\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAZZJREFUSEu1lr1KA0EYRWMwNlFIJTbpFPQN1C611kpsTCV2Vv6ArY0KElBLn0JfQRsb7QUFOwUb8QcV1nPXb9YsmtmdDTlwYpjvzl5INrOWoijqqz8vBu8rOIhlW+qJVAF/h3EX13EO61qLhwVhf6qghZ3c4w5OYiUOBcK+VEEDb/AJv9BxiUs4GgcDYM9vgeD9Im7hEV7gJ4pn3MeqRXNBPl3gYK2Ms9jGRxSvuGKRXJD/v8DBrIZr+IHiFqdtnAlZf4FgrrvrBB2nNsqEbHaBIKNb9h2FPqpxG3khl7tAXqOjaSMv5PIVCHLburLRtmUv5IIKNnRl49iWvZALKmjqysYV2qQ7cSZPUJCbQH3BQl943UZdIZO/QJA9Q4duXe9hyDy4YAbvUOjHpx9hzcZ/YBZWIMiv4huKBzxAFQ9YJIG1QgVV1EVfUOhAPMdD3MQFixYrEOwZw2XUUe7QEa+jXkd+w3LFCgT7hnAK9VDSw6mTlmWKFzjYP4I6q+ZRj9s9rdms9wIH19EzRP8wJI/XpKB/RqVv5QTxCPrEmO8AAAAASUVORK5CYII=\\\"); }\\n\\n.markups-panel-content .markup-properties {\\n  color: #797979; }\\n  .markups-panel-content .markup-properties label {\\n    display: block;\\n    font-weight: normal;\\n    margin: 7px;\\n    font-weight: normal; }\\n\\n.color-picker-pallete {\\n  margin: 0;\\n  padding: 0; }\\n\\n.color-picker-pallete li {\\n  display: inline-block;\\n  margin: 5px;\\n  vertical-align: middle; }\\n\\n.color-picker-pallete .color-picker-item {\\n  border: 1px solid grey;\\n  width: 20px;\\n  height: 20px;\\n  box-sizing: border-box;\\n  background-clip: red;\\n  cursor: pointer; }\\n\\n.color-picker-pallete .color-picker-item.active {\\n  border: 2px solid dimgray;\\n  width: 30px;\\n  height: 30px; }\\n\\n.markup-buttons button {\\n  background: #cacaca; }\\n  .markup-buttons button div {\\n    background-position: center center;\\n    background-repeat: no-repeat;\\n    background-size: cover;\\n    pointer-events: none;\\n    position: relative;\\n    height: 20px;\\n    width: 18px;\\n    left: 1px; }\\n\\n#markup-panel {\\n  background: rgba(255, 255, 255, 0.7);\\n  width: 258px; }\\n\\n#markup-panel:hover {\\n  background: white; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./~/sass-loader!./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsUi.scss\n// module id = 1398\n// module chunks = 31","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/***\\r\\nSpectrum Colorpicker v1.5.1\\r\\nhttps://github.com/bgrins/spectrum\\r\\nAuthor: Brian Grinstead\\r\\nLicense: MIT\\r\\n***/\\r\\n\\r\\n.sp-container {\\r\\n    position:absolute;\\r\\n    top:0;\\r\\n    left:0;\\r\\n    display:inline-block;\\r\\n    *display: inline;\\r\\n    *zoom: 1;\\r\\n    /* https://github.com/bgrins/spectrum/issues/40 */\\r\\n    z-index: 9999994;\\r\\n    overflow: hidden;\\r\\n}\\r\\n.sp-container.sp-flat {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n/* Fix for * { box-sizing: border-box; } */\\r\\n.sp-container, .sp-container * {\\r\\n    box-sizing: content-box;\\r\\n}\\r\\n\\r\\n/* http://ansciath.tumblr.com/post/7347495869/css-aspect-ratio */\\r\\n.sp-top {\\r\\n  position:relative;\\r\\n  width: 100%;\\r\\n  display:inline-block;\\r\\n}\\r\\n.sp-top-inner {\\r\\n   position:absolute;\\r\\n   top:0;\\r\\n   left:0;\\r\\n   bottom:0;\\r\\n   right:0;\\r\\n}\\r\\n.sp-color {\\r\\n    position: absolute;\\r\\n    top:0;\\r\\n    left:0;\\r\\n    bottom:0;\\r\\n    right:20%;\\r\\n}\\r\\n.sp-hue {\\r\\n    position: absolute;\\r\\n    top:0;\\r\\n    right:0;\\r\\n    bottom:0;\\r\\n    left:84%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.sp-clear-enabled .sp-hue {\\r\\n    top:33px;\\r\\n    height: 77.5%;\\r\\n}\\r\\n\\r\\n.sp-fill {\\r\\n    padding-top: 80%;\\r\\n}\\r\\n.sp-sat, .sp-val {\\r\\n    position: absolute;\\r\\n    top:0;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom:0;\\r\\n}\\r\\n\\r\\n.sp-alpha-enabled .sp-top {\\r\\n    margin-bottom: 18px;\\r\\n}\\r\\n.sp-alpha-enabled .sp-alpha {\\r\\n    display: block;\\r\\n}\\r\\n.sp-alpha-handle {\\r\\n    position:absolute;\\r\\n    top:-4px;\\r\\n    bottom: -4px;\\r\\n    width: 6px;\\r\\n    left: 50%;\\r\\n    cursor: pointer;\\r\\n    border: 1px solid black;\\r\\n    background: white;\\r\\n    opacity: .8;\\r\\n}\\r\\n.sp-alpha {\\r\\n    display: none;\\r\\n    position: absolute;\\r\\n    bottom: -14px;\\r\\n    right: 0;\\r\\n    left: 0;\\r\\n    height: 8px;\\r\\n}\\r\\n.sp-alpha-inner {\\r\\n    border: solid 1px #333;\\r\\n}\\r\\n\\r\\n.sp-clear {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.sp-clear.sp-clear-display {\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.sp-clear-enabled .sp-clear {\\r\\n    display: block;\\r\\n    position:absolute;\\r\\n    top:0px;\\r\\n    right:0;\\r\\n    bottom:0;\\r\\n    left:84%;\\r\\n    height: 28px;\\r\\n}\\r\\n\\r\\n/* Don't allow text selection */\\r\\n.sp-container, .sp-replacer, .sp-preview, .sp-dragger, .sp-slider, .sp-alpha, .sp-clear, .sp-alpha-handle, .sp-container.sp-dragging .sp-input, .sp-container button  {\\r\\n    -webkit-user-select:none;\\r\\n    -moz-user-select: -moz-none;\\r\\n    -o-user-select:none;\\r\\n    -ms-user-select: none;\\r\\n        user-select: none;\\r\\n}\\r\\n\\r\\n.sp-container.sp-input-disabled .sp-input-container {\\r\\n    display: none;\\r\\n}\\r\\n.sp-container.sp-buttons-disabled .sp-button-container {\\r\\n    display: none;\\r\\n}\\r\\n.sp-container.sp-palette-buttons-disabled .sp-palette-button-container {\\r\\n    display: none;\\r\\n}\\r\\n.sp-palette-only .sp-picker-container {\\r\\n    display: none;\\r\\n}\\r\\n.sp-palette-disabled .sp-palette-container {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.sp-initial-disabled .sp-initial {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n\\r\\n/* Gradients for hue, saturation and value instead of images.  Not pretty... but it works */\\r\\n.sp-sat {\\r\\n    background-image: linear-gradient(to right, #fff, rgba(204, 154, 129, 0));\\r\\n    -ms-filter: \\\"progid:DXImageTransform.Microsoft.gradient(GradientType = 1, startColorstr=#FFFFFFFF, endColorstr=#00CC9A81)\\\";\\r\\n    filter : progid:DXImageTransform.Microsoft.gradient(GradientType = 1, startColorstr='#FFFFFFFF', endColorstr='#00CC9A81');\\r\\n}\\r\\n.sp-val {\\r\\n    background-image: linear-gradient(to top, #000, rgba(204, 154, 129, 0));\\r\\n    -ms-filter: \\\"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00CC9A81, endColorstr=#FF000000)\\\";\\r\\n    filter : progid:DXImageTransform.Microsoft.gradient(startColorstr='#00CC9A81', endColorstr='#FF000000');\\r\\n}\\r\\n\\r\\n.sp-hue {\\r\\n    background: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\\r\\n}\\r\\n\\r\\n/* IE filters do not support multiple color stops.\\r\\n   Generate 6 divs, line them up, and do two color gradients for each.\\r\\n   Yes, really.\\r\\n */\\r\\n.sp-1 {\\r\\n    height:17%;\\r\\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0000', endColorstr='#ffff00');\\r\\n}\\r\\n.sp-2 {\\r\\n    height:16%;\\r\\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffff00', endColorstr='#00ff00');\\r\\n}\\r\\n.sp-3 {\\r\\n    height:17%;\\r\\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00ff00', endColorstr='#00ffff');\\r\\n}\\r\\n.sp-4 {\\r\\n    height:17%;\\r\\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00ffff', endColorstr='#0000ff');\\r\\n}\\r\\n.sp-5 {\\r\\n    height:16%;\\r\\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#0000ff', endColorstr='#ff00ff');\\r\\n}\\r\\n.sp-6 {\\r\\n    height:17%;\\r\\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff00ff', endColorstr='#ff0000');\\r\\n}\\r\\n\\r\\n.sp-hidden {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n/* Clearfix hack */\\r\\n.sp-cf:before, .sp-cf:after { content: \\\"\\\"; display: table; }\\r\\n.sp-cf:after { clear: both; }\\r\\n.sp-cf { *zoom: 1; }\\r\\n\\r\\n/* Mobile devices, make hue slider bigger so it is easier to slide */\\r\\n@media (max-device-width: 480px) {\\r\\n    .sp-color { right: 40%; }\\r\\n    .sp-hue { left: 63%; }\\r\\n    .sp-fill { padding-top: 60%; }\\r\\n}\\r\\n.sp-dragger {\\r\\n   border-radius: 5px;\\r\\n   height: 5px;\\r\\n   width: 5px;\\r\\n   border: 1px solid #fff;\\r\\n   background: #000;\\r\\n   cursor: pointer;\\r\\n   position:absolute;\\r\\n   top:0;\\r\\n   left: 0;\\r\\n}\\r\\n.sp-slider {\\r\\n    position: absolute;\\r\\n    top:0;\\r\\n    cursor:pointer;\\r\\n    height: 3px;\\r\\n    left: -1px;\\r\\n    right: -1px;\\r\\n    border: 1px solid #000;\\r\\n    background: white;\\r\\n    opacity: .8;\\r\\n}\\r\\n\\r\\n/*\\r\\nTheme authors:\\r\\nHere are the basic themeable display options (colors, fonts, global widths).\\r\\nSee http://bgrins.github.io/spectrum/themes/ for instructions.\\r\\n*/\\r\\n\\r\\n.sp-container {\\r\\n    border-radius: 0;\\r\\n    background-color: #ECECEC;\\r\\n    border: solid 1px #f0c49B;\\r\\n    padding: 0;\\r\\n}\\r\\n.sp-container, .sp-container button, .sp-container input, .sp-color, .sp-hue, .sp-clear {\\r\\n    font: normal 12px \\\"Lucida Grande\\\", \\\"Lucida Sans Unicode\\\", \\\"Lucida Sans\\\", Geneva, Verdana, sans-serif;\\r\\n    -ms-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n.sp-top {\\r\\n    margin-bottom: 3px;\\r\\n}\\r\\n.sp-color, .sp-hue, .sp-clear {\\r\\n    border: solid 1px #666;\\r\\n}\\r\\n\\r\\n/* Input */\\r\\n.sp-input-container {\\r\\n    float:right;\\r\\n    width: 100px;\\r\\n    margin-bottom: 4px;\\r\\n}\\r\\n.sp-initial-disabled  .sp-input-container {\\r\\n    width: 100%;\\r\\n}\\r\\n.sp-input {\\r\\n   font-size: 12px !important;\\r\\n   border: 1px inset;\\r\\n   padding: 4px 5px;\\r\\n   margin: 0;\\r\\n   width: 100%;\\r\\n   background:transparent;\\r\\n   border-radius: 3px;\\r\\n   color: #222;\\r\\n}\\r\\n.sp-input:focus  {\\r\\n    border: 1px solid orange;\\r\\n}\\r\\n.sp-input.sp-validation-error {\\r\\n    border: 1px solid red;\\r\\n    background: #fdd;\\r\\n}\\r\\n.sp-picker-container, .sp-palette-container {\\r\\n    float:left;\\r\\n    position: relative;\\r\\n    padding: 10px;\\r\\n    padding-bottom: 300px;\\r\\n    margin-bottom: -290px;\\r\\n}\\r\\n.sp-picker-container {\\r\\n    width: 172px;\\r\\n    border-left: solid 1px #fff;\\r\\n}\\r\\n\\r\\n/* Palettes */\\r\\n.sp-palette-container {\\r\\n    border-right: solid 1px #ccc;\\r\\n}\\r\\n\\r\\n.sp-palette-only .sp-palette-container {\\r\\n    border: 0;\\r\\n}\\r\\n\\r\\n.sp-palette .sp-thumb-el {\\r\\n    display: block;\\r\\n    position:relative;\\r\\n    float:left;\\r\\n    width: 24px;\\r\\n    height: 15px;\\r\\n    margin: 3px;\\r\\n    cursor: pointer;\\r\\n    border:solid 2px transparent;\\r\\n}\\r\\n.sp-palette .sp-thumb-el:hover, .sp-palette .sp-thumb-el.sp-thumb-active {\\r\\n    border-color: orange;\\r\\n}\\r\\n.sp-thumb-el {\\r\\n    position:relative;\\r\\n}\\r\\n\\r\\n/* Initial */\\r\\n.sp-initial {\\r\\n    float: left;\\r\\n    border: solid 1px #333;\\r\\n}\\r\\n.sp-initial span {\\r\\n    width: 30px;\\r\\n    height: 25px;\\r\\n    border:none;\\r\\n    display:block;\\r\\n    float:left;\\r\\n    margin:0;\\r\\n}\\r\\n\\r\\n.sp-initial .sp-clear-display {\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n/* Buttons */\\r\\n.sp-palette-button-container, .sp-button-container {\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n/* Replacer (the little preview div that shows up instead of the <input>) */\\r\\n.sp-replacer {\\r\\n    margin:0;\\r\\n    overflow:hidden;\\r\\n    cursor:pointer;\\r\\n    padding: 4px;\\r\\n    display:inline-block;\\r\\n    *zoom: 1;\\r\\n    *display: inline;\\r\\n    border: solid 1px #91765d;\\r\\n    background: #eee;\\r\\n    color: #333;\\r\\n    vertical-align: middle;\\r\\n    height: 17px;\\r\\n    width: 56px;\\r\\n    border-radius:10px;\\r\\n}\\r\\n.sp-replacer:hover, .sp-replacer.sp-active {\\r\\n    border-color: #F0C49B;\\r\\n    color: #111;\\r\\n}\\r\\n.sp-replacer.sp-disabled {\\r\\n    cursor:default;\\r\\n    border-color: silver;\\r\\n    color: silver;\\r\\n}\\r\\n.sp-dd {\\r\\n    padding: 2px 0;\\r\\n    height: 16px;\\r\\n    line-height: 16px;\\r\\n    float:left;\\r\\n    font-size:10px;\\r\\n}\\r\\n.sp-preview {\\r\\n    position:relative;\\r\\n    width:25px;\\r\\n    height: 15px;\\r\\n    border: solid 1px #222;\\r\\n    margin-right: 5px;\\r\\n    float:left;\\r\\n    z-index: 0;\\r\\n    border-radius:8px;\\r\\n    width: 36px;\\r\\n}\\r\\n\\r\\n.sp-palette {\\r\\n    *width: 220px;\\r\\n    max-width: 220px;\\r\\n}\\r\\n.sp-palette .sp-thumb-el {\\r\\n    width:16px;\\r\\n    height: 16px;\\r\\n    margin:2px 1px;\\r\\n    border: solid 1px #d0d0d0;\\r\\n}\\r\\n\\r\\n.sp-container {\\r\\n    padding-bottom:0;\\r\\n}\\r\\n\\r\\n\\r\\n/* Buttons: http://hellohappy.org/css3-buttons/ */\\r\\n.sp-container button {\\r\\n  background-color: #eeeeee;\\r\\n  background-image: linear-gradient(to bottom, #eeeeee, #cccccc);\\r\\n  border: 1px solid #ccc;\\r\\n  border-bottom: 1px solid #bbb;\\r\\n  border-radius: 3px;\\r\\n  color: #333;\\r\\n  font-size: 14px;\\r\\n  line-height: 1;\\r\\n  padding: 5px 4px;\\r\\n  text-align: center;\\r\\n  text-shadow: 0 1px 0 #eee;\\r\\n  vertical-align: middle;\\r\\n}\\r\\n.sp-container button:hover {\\r\\n    background-color: #dddddd;\\r\\n    background-image: linear-gradient(to bottom, #dddddd, #bbbbbb);\\r\\n    border: 1px solid #bbb;\\r\\n    border-bottom: 1px solid #999;\\r\\n    cursor: pointer;\\r\\n    text-shadow: 0 1px 0 #ddd;\\r\\n}\\r\\n.sp-container button:active {\\r\\n    border: 1px solid #aaa;\\r\\n    border-bottom: 1px solid #888;\\r\\n    -ms-box-shadow: inset 0 0 5px 2px #aaaaaa, 0 1px 0 0 #eeeeee;\\r\\n    -o-box-shadow: inset 0 0 5px 2px #aaaaaa, 0 1px 0 0 #eeeeee;\\r\\n    box-shadow: inset 0 0 5px 2px #aaaaaa, 0 1px 0 0 #eeeeee;\\r\\n}\\r\\n.sp-cancel {\\r\\n    font-size: 11px;\\r\\n    color: #d93f3f !important;\\r\\n    margin:0;\\r\\n    padding:2px;\\r\\n    margin-right: 5px;\\r\\n    vertical-align: middle;\\r\\n    text-decoration:none;\\r\\n\\r\\n}\\r\\n.sp-cancel:hover {\\r\\n    color: #d93f3f !important;\\r\\n    text-decoration: underline;\\r\\n}\\r\\n\\r\\n\\r\\n.sp-palette span:hover, .sp-palette span.sp-thumb-active {\\r\\n    border-color: #000;\\r\\n}\\r\\n\\r\\n.sp-preview, .sp-alpha, .sp-thumb-el {\\r\\n    position:relative;\\r\\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);\\r\\n}\\r\\n.sp-preview-inner, .sp-alpha-inner, .sp-thumb-inner {\\r\\n    display:block;\\r\\n    position:absolute;\\r\\n    top:0;left:0;bottom:0;right:0;\\r\\n    border-radius:8px;\\r\\n}\\r\\n\\r\\n.sp-palette .sp-thumb-inner {\\r\\n    background-position: 50% 50%;\\r\\n    background-repeat: no-repeat;\\r\\n}\\r\\n\\r\\n.sp-palette .sp-thumb-light.sp-thumb-active .sp-thumb-inner {\\r\\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIVJREFUeNpiYBhsgJFMffxAXABlN5JruT4Q3wfi/0DsT64h8UD8HmpIPCWG/KemIfOJCUB+Aoacx6EGBZyHBqI+WsDCwuQ9mhxeg2A210Ntfo8klk9sOMijaURm7yc1UP2RNCMbKE9ODK1HM6iegYLkfx8pligC9lCD7KmRof0ZhjQACDAAceovrtpVBRkAAAAASUVORK5CYII=);\\r\\n}\\r\\n\\r\\n.sp-palette .sp-thumb-dark.sp-thumb-active .sp-thumb-inner {\\r\\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAMdJREFUOE+tkgsNwzAMRMugEAahEAahEAZhEAqlEAZhEAohEAYh81X2dIm8fKpEspLGvudPOsUYpxE2BIJCroJmEW9qJ+MKaBFhEMNabSy9oIcIPwrB+afvAUFoK4H0tMaQ3XtlrggDhOVVMuT4E5MMG0FBbCEYzjYT7OxLEvIHQLY2zWwQ3D+9luyOQTfKDiFD3iUIfPk8VqrKjgAiSfGFPecrg6HN6m/iBcwiDAo7WiBeawa+Kwh7tZoSCGLMqwlSAzVDhoK+6vH4G0P5wdkAAAAASUVORK5CYII=);\\r\\n}\\r\\n\\r\\n.sp-clear-display {\\r\\n    background-repeat:no-repeat;\\r\\n    background-position: center;\\r\\n    background-image: url(data:image/gif;base64,R0lGODlhFAAUAPcAAAAAAJmZmZ2dnZ6enqKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq/Hx8fLy8vT09PX19ff39/j4+Pn5+fr6+vv7+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAUABQAAAihAP9FoPCvoMGDBy08+EdhQAIJCCMybCDAAYUEARBAlFiQQoMABQhKUJBxY0SPICEYHBnggEmDKAuoPMjS5cGYMxHW3IiT478JJA8M/CjTZ0GgLRekNGpwAsYABHIypcAgQMsITDtWJYBR6NSqMico9cqR6tKfY7GeBCuVwlipDNmefAtTrkSzB1RaIAoXodsABiZAEFB06gIBWC1mLVgBa0AAOw==);\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/postcss-loader?{}!./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/spectrum.css\n// module id = 1412\n// module chunks = 31","\r\nimport './ui/spectrum.css'\r\nimport './ui/spectrum'\r\nimport './ui/MarkupsUiUtils'\r\nimport './ui/MarkupsUiUtils'\r\nimport './ui/MarkupsStyleDropdown'\r\nimport './ui/MarkupsColorPicker'\r\nimport './ui/MarkupsStyleToggleButton'\r\nimport './ui/MarkupsStyleControlFactory'\r\nimport './ui/MarkupsUi.scss'\r\nimport './ui/MarkupsPanel'\r\nimport './ui/MarkupsUi'\r\n\r\nimport './Viewing.Extension.Markup2D.scss'\r\nimport './Viewing.Extension.Markup2D'\r\n\r\nexport default 'Viewing.Extension.Markup2D'\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/index.js","/////////////////////////////////////////////////////////////////\r\n// Markup2D Viewer Extension\r\n// By Philippe Leefsma, Autodesk Inc, August 2017\r\n//\r\n/////////////////////////////////////////////////////////////////\r\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\r\nimport ContentEditable from 'react-contenteditable'\r\nimport WidgetContainer from 'WidgetContainer'\r\nimport { ReactLoader } from 'Loader'\r\nimport ReactDOM from 'react-dom'\r\nimport Switch from 'Switch'\r\nimport Label from 'Label'\r\nimport React from 'react'\r\nimport {\r\n  DropdownButton,\r\n  MenuItem\r\n  } from 'react-bootstrap'\r\n\r\nclass Markup2DExtension extends MultiModelExtensionBase {\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n  // Class constructor\r\n  //\r\n  /////////////////////////////////////////////////////////////////\r\n  constructor (viewer, options) {\r\n\r\n    super (viewer, options)\r\n\r\n    this.onSequenceDeleted = this.onSequenceDeleted.bind(this)\r\n    this.onStateDeleted = this.onStateDeleted.bind(this)\r\n    this.onStateToggled = this.onStateToggled.bind(this)\r\n    this.renderTitle = this.renderTitle.bind(this)\r\n\r\n    this.react = options.react\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Load callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  load () {\r\n\r\n    this.react.setState({\r\n\r\n      markupsMode: {name:'Disabled', id:'markupModeDisabled'},\r\n      modes: [\r\n        {name:'Disabled',     id:'markupsModeDisabled'},\r\n        {name:'View Markups', id:'markupsModeView'},\r\n        {name:'Edit Markups', id:'markupsModeEdit'},\r\n      ],\r\n      configManager: null,\r\n      markupsCore: null,\r\n      showLoader: true,\r\n      markupsUi: null\r\n\r\n    }).then (async() => {\r\n\r\n      const markupsCore =\r\n        await this.viewer.loadExtension(\r\n          'Autodesk.Viewing.MarkupsCore')\r\n\r\n      const markupsUi =\r\n        await this.viewer.loadExtension(\r\n        'Autodesk.MarkupsUi', {\r\n          markupsCore\r\n        })\r\n\r\n      markupsUi.panel.addVisibilityListener((show) => {\r\n\r\n        if (!show) {\r\n\r\n          this.onEditMarkupsClosed()\r\n        }\r\n      })\r\n\r\n      const configManagerReactOptions = {\r\n        pushRenderExtension: () => {\r\n          return Promise.resolve()\r\n        },\r\n        popRenderExtension: () => {\r\n          return Promise.resolve()\r\n        }\r\n      }\r\n\r\n      const configManager =\r\n        await this.viewer.loadDynamicExtension(\r\n          'Viewing.Extension.ConfigManager', {\r\n          emptyStateNameCaption: 'Layer Name ...',\r\n          react: configManagerReactOptions,\r\n          restoreImmediate: true,\r\n          itemToggling: true,\r\n          disabled: true\r\n        })\r\n\r\n      configManager.on('sequence.deleted',\r\n        this.onSequenceDeleted)\r\n\r\n      configManager.on('state.toggled',\r\n        this.onStateToggled)\r\n\r\n      configManager.on('state.deleted',\r\n        this.onStateDeleted)\r\n\r\n      this.react.setState({\r\n        showLoader: false,\r\n        configManager,\r\n        markupsCore,\r\n        markupsUi\r\n      })\r\n\r\n      this.react.pushRenderExtension(this)\r\n    })\r\n\r\n    console.log('Viewing.Extension.Markup2D loaded')\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  get className() {\r\n\r\n    return 'markup-2d'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Extension Id\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  static get ExtensionId () {\r\n\r\n    return 'Viewing.Extension.Markup2D'\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  // Unload callback\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  unload () {\r\n\r\n    console.log('Viewing.Extension.Markup2D unloaded')\r\n\r\n    super.unload ()\r\n\r\n    return true\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onModelRootLoaded (event) {\r\n\r\n    const nav = this.viewer.navigation\r\n\r\n    nav.toPerspective()\r\n\r\n    this.viewer.autocam.setHomeViewFrom(\r\n      nav.getCamera())\r\n\r\n    this.options.loader.show(false)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async setMarkupsMode (markupsMode) {\r\n\r\n    const {configManager, markupsCore, markupsUi} =\r\n      this.react.getState()\r\n\r\n    await this.react.setState({\r\n        markupsMode\r\n      })\r\n\r\n    switch (markupsMode.id) {\r\n\r\n      case 'markupsModeDisabled':\r\n\r\n        const {items} = configManager.react.getState()\r\n\r\n        await configManager.react.setState({\r\n          items: items.map((item) => {\r\n            return Object.assign({}, item, {\r\n              active:false\r\n            })\r\n          }),\r\n          stateSelection: true,\r\n          stateCreation: true,\r\n          disabled: true\r\n        })\r\n        markupsUi.panel.setVisible(false)\r\n        markupsCore.hide()\r\n        break\r\n\r\n      case 'markupsModeView':\r\n\r\n        await configManager.react.setState({\r\n          stateSelection: true,\r\n          stateCreation: false,\r\n          disabled: false\r\n        })\r\n        markupsUi.panel.setVisible(false)\r\n        markupsCore.show()\r\n        break\r\n\r\n      case 'markupsModeEdit':\r\n\r\n        await configManager.react.setState({\r\n          stateSelection: false,\r\n          stateCreation: true,\r\n          disabled: false\r\n        })\r\n        markupsUi.panel.setVisible(true)\r\n        markupsCore.show()\r\n        break\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  onEditMarkupsClosed () {\r\n\r\n    const {markupsMode} = this.react.getState()\r\n\r\n    if (markupsMode.id === 'markupsModeEdit') {\r\n\r\n      this.setMarkupsMode({\r\n        id:'markupsModeView',\r\n        name: 'View Markups'\r\n      })\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n  //\r\n  //  From viewer.getState:\r\n  //  Allow extensions to inject their state data\r\n  //\r\n  //  for (var extensionName in viewer.loadedExtensions) {\r\n  //    viewer.loadedExtensions[extensionName].getState(\r\n  //      viewerState);\r\n  //  }\r\n  /////////////////////////////////////////////////////////////////\r\n  getState (viewerState) {\r\n\r\n    const {markupsCore, markupsMode} = this.react.getState()\r\n\r\n    if (markupsMode.id === 'markupsModeEdit') {\r\n\r\n      viewerState.Markup2D = {\r\n        data: markupsCore.generateData()\r\n      }\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////////\r\n  //restoreState (viewerState) {\r\n  //\r\n  //  if (viewerState.Markup2D) {\r\n  //\r\n  //    const {markupsCore} = this.react.getState()\r\n  //\r\n  //    const onStateRestored = () => {\r\n  //\r\n  //      //markupsCore.show()\r\n  //\r\n  //      this.viewer.removeEventListener(\r\n  //        Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\r\n  //        onStateRestored)\r\n  //    }\r\n  //\r\n  //    this.viewer.addEventListener(\r\n  //      Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\r\n  //      onStateRestored)\r\n  //\r\n  //    //markupsCore.hide()\r\n  //  }\r\n  //}\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////////\r\n  onSequenceDeleted (sequence) {\r\n\r\n    const {markupsCore} = this.react.getState()\r\n\r\n    sequence.stateIds.forEach((id) => {\r\n\r\n      markupsCore.unloadMarkups(id)\r\n    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////////\r\n  onStateDeleted (stateId) {\r\n\r\n    const {markupsCore} = this.react.getState()\r\n\r\n    markupsCore.unloadMarkups(stateId)\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////////////\r\n  onStateToggled (viewerState) {\r\n\r\n    if (viewerState.Markup2D) {\r\n\r\n      const {markupsCore} = this.react.getState()\r\n\r\n      const {data} = viewerState.Markup2D\r\n\r\n      viewerState.active\r\n        ? markupsCore.loadMarkups(data, viewerState.id)\r\n        : markupsCore.unloadMarkups(viewerState.id)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  async setDocking (docked) {\r\n\r\n    const id = Markup2DExtension.ExtensionId\r\n\r\n    if (docked) {\r\n\r\n      await this.react.popRenderExtension(id)\r\n\r\n      this.react.pushViewerPanel(this, {\r\n        height: 250,\r\n        width: 350\r\n      })\r\n\r\n    } else {\r\n\r\n      await this.react.popViewerPanel(id)\r\n\r\n      this.react.pushRenderExtension(this)\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderTitle () {\r\n\r\n    const state = this.react.getState()\r\n\r\n    const menuItems = state.modes.map((item) => {\r\n      return (\r\n        <MenuItem eventKey={item.id} key={item.id}\r\n          onClick={() => {\r\n            this.setMarkupsMode (item)\r\n          }}>\r\n          { item.name }\r\n        </MenuItem>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div className=\"title\">\r\n        <label>\r\n          Markups 2D\r\n        </label>\r\n\r\n        <DropdownButton\r\n          title={\"Mode: \" + state.markupsMode.name }\r\n          key=\"markup-2d-dropdown\"\r\n          id=\"markup-2d-dropdown\">\r\n         { menuItems }\r\n        </DropdownButton>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  renderContent () {\r\n\r\n    const {configManager, showLoader} =\r\n      this.react.getState()\r\n\r\n    const opts = {\r\n      showTitle: false\r\n    }\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <ReactLoader show={showLoader}/>\r\n\r\n        { configManager && configManager.render(opts) }\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  //\r\n  //\r\n  /////////////////////////////////////////////////////////\r\n  render (opts) {\r\n\r\n    return (\r\n      <WidgetContainer\r\n        renderTitle={() => this.renderTitle(opts.docked)}\r\n        showTitle={opts.showTitle}\r\n        className={this.className}>\r\n\r\n        { this.renderContent () }\r\n\r\n      </WidgetContainer>\r\n    )\r\n  }\r\n}\r\n\r\nAutodesk.Viewing.theExtensionManager.registerExtension (\r\n  Markup2DExtension.ExtensionId,\r\n  Markup2DExtension)\r\n\r\nexport default 'Viewing.Extension.Markup2D'\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/Viewing.Extension.Markup2D.js","(function(){\r\n\r\n    var namespace = AutodeskNamespace('Autodesk.Markups.Ui');\r\n\r\n    var Utils = namespace.Utils,\r\n        toList = Utils.toList;\r\n\r\n    var clearButtonGroup = function (groupingElement) {\r\n        var buttons = groupingElement.querySelectorAll('.active');\r\n        toList(buttons).map(function(btn){\r\n            btn.classList.remove('active');\r\n        });\r\n    };\r\n\r\n    function ColorPicker(element) {\r\n        this.root = element;\r\n\r\n        this.render();\r\n        this.handleUIEvents();\r\n        this.selectedColor = null;\r\n\r\n        Object.defineProperty(this, 'value', {\r\n            get : function() {\r\n                return this.selectedColor;\r\n            },\r\n            set : function(val){\r\n                if (this.selectedColor === val) return;\r\n\r\n                this.selectedColor = val;\r\n\r\n                clearButtonGroup(this.root);\r\n                //set the active class on the element of the color selected\r\n                var element = this.root.querySelector('[data-value=\"' + val + '\"]');\r\n                element.classList.add('active');\r\n            }\r\n        });\r\n\r\n        window.colorPicker = this;\r\n    }\r\n\r\n    var proto = ColorPicker.prototype;\r\n\r\n    proto.render = function () {\r\n        var componentHTML = '' +\r\n            '<ul class=\"color-picker-pallete\">' +\r\n            '</ul>';\r\n        this.root.innerHTML = componentHTML;\r\n    };\r\n\r\n    proto.on = function (eventName, selector, callback) {\r\n        this.root.addEventListener(eventName, function(event){\r\n            var target = event.target;\r\n            if (Utils.matchesSelector(target, selector)) callback(event);\r\n        });\r\n    };\r\n\r\n    proto.handleUIEvents = function () {\r\n        this.on('click', '.color-picker-item', function(event){\r\n            var target = event.target;\r\n            this.value = target.getAttribute('data-value');\r\n\r\n            this.root.dispatchEvent(new CustomEvent('change', {\r\n                bubbles: true,\r\n                detail: {\r\n                    source: this\r\n                }\r\n            }));\r\n        }.bind(this));\r\n    };\r\n\r\n    proto.setOptions = function (colorsList) {\r\n        var colors = colorsList;\r\n        var items = colors.map(function(color){\r\n            var selected = color.value === this.selectedColor;\r\n            var markup = '' +\r\n                '<li>' +\r\n                    '<div ' +\r\n                        'class=\"color-picker-item ' + (selected ? 'active' : '') + '\" ' +\r\n                        'style=\"background-color: ' + color.value + '\" ' +\r\n                        'data-value=\"' + color.value + '\"></div>' +\r\n                '</li>';\r\n            return markup;\r\n        }.bind(this));\r\n\r\n        var ul = this.root.querySelector('ul');\r\n        ul.innerHTML = items.join('');\r\n    };\r\n\r\n    namespace.ColorPicker = ColorPicker;\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsColorPicker.js","(function(){\r\n\r\n  var namespace = AutodeskNamespace('Autodesk.Markups.Ui');\r\n  var coreNamespace = AutodeskNamespace('Autodesk.Viewing.Extensions.Markups.Core');\r\n  var utilsNamespace = AutodeskNamespace('Autodesk.Viewing.Extensions.Markups.Core.Utils');\r\n\r\n  var Utils = namespace.Utils,\r\n    toList = Utils.toList,\r\n    toTitleCase = Utils.toTitleCase,\r\n    getMarkupType = Utils.getMarkupType;\r\n\r\n  var StyleControlFactory = namespace.StyleControlFactory;\r\n\r\n  var convertToStyleValue = function (value) {\r\n    var output = value;\r\n    //only strings need conversion\r\n    if (typeof value === 'string') {\r\n      var potentialNumber = new Number(value);\r\n      var isNumber = !isNaN(potentialNumber);\r\n      if (isNumber) {\r\n        //its a number, return the primitive value\r\n        //not the object wrapper\r\n        output = potentialNumber.valueOf();\r\n      } else {\r\n        //not a number, could it be a boolean?\r\n        if (value === 'true' || value === 'false') {\r\n          output = (value === 'true');\r\n        }\r\n      }\r\n    }\r\n    return output;\r\n  };\r\n\r\n  function MarkupsPanel(viewer, markupsCore) {\r\n\r\n    this.viewer = viewer;\r\n    this.markupsCore = markupsCore;\r\n    Autodesk.Viewing.UI.DockingPanel.call(this, viewer.container, 'markup-panel', 'Markup Editor', null);\r\n\r\n    //these styles are overriden by the dockRight option but\r\n    //they are required so the panel displays correctly\r\n    this.container.style.top = '10px';\r\n    this.container.style.left = '10px';\r\n    this.container.style.width = '275px';\r\n    this.container.style.height = '400px';\r\n    //this.container.dockRight = true;\r\n\r\n    this.render();\r\n    this.handlePanelEvents();\r\n    this.handleUIEvents();\r\n    this.handleCoreEvents();\r\n  }\r\n\r\n  MarkupsPanel.prototype = Object.create(Autodesk.Viewing.UI.DockingPanel.prototype);\r\n  Autodesk.Viewing.Extensions.ViewerPanelMixin.call(MarkupsPanel.prototype);\r\n\r\n  var proto = MarkupsPanel.prototype;\r\n\r\n  proto.getNames = function () {\r\n    return ['markups-panel'];\r\n  };\r\n\r\n  proto.getName = function () {\r\n    return this.getNames()[0];\r\n  };\r\n\r\n  proto.render = function () {\r\n    var componentHTML = '' +\r\n      '<div class=\"markups-panel-content\">' +\r\n      '<div class=\"edit-tools\">' +\r\n      '<div class=\"markup-tools\" data-button-group>' +\r\n      '<div class=\"viewer-actions\">' +\r\n      '<button data-viewer-tool=\"dolly\" class=\"adsk-button-icon adsk-icon-zoom\"></button>' +\r\n      '<button data-viewer-tool=\"pan\" class=\"adsk-button-icon adsk-icon-pan\"></button>' +\r\n      '</div>' +\r\n      '<div class=\"vertical-seperator\">&nbsp;</div>' +\r\n      '<div class=\"markup-actions\">' +\r\n      '<button data-annotation-action=\"undo\">Undo</button>' +\r\n      '<button data-annotation-action=\"redo\">Redo</button>' +\r\n      '<button data-annotation-action=\"delete\">Delete</button>' +\r\n      '</div>' +\r\n      `<div class=\"markup-buttons\">\r\n      <button id=\"markup-arrow-button\" data-annotation-type=\"arrow\">\r\n        <div id=\"markup-arrow\"/>\r\n      </button>\r\n      <button id=\"markup-label-button\" data-annotation-type=\"text\">\r\n        <div id=\"markup-label\"/>\r\n      </button>\r\n      <button id=\"markup-rectangle-button\" data-annotation-type=\"rectangle\">\r\n        <div id=\"markup-rectangle\"/>\r\n      </button>\r\n      <button id=\"markup-circle-button\" data-annotation-type=\"circle\">\r\n        <div id=\"markup-circle\"/>\r\n      </button>\r\n      <button id=\"markup-cloud-button\" data-annotation-type=\"cloud\">\r\n        <div id=\"markup-cloud\"/>\r\n      </button>\r\n      <button id=\"markup-freehand-button\" data-annotation-type=\"freehand\">\r\n        <div id=\"markup-freehand\"/>\r\n      </button>\r\n      ` +\r\n      '</div>' +\r\n      '</div>' +\r\n      '</div>' +\r\n      '<hr />' +\r\n      '<div class=\"markup-properties\">' +\r\n      '<div>' +\r\n      '<strong>Stroke</strong>' +\r\n      '<label><select data-markup-style=\"stroke-width\"></select></label>' +\r\n      '<br />' +\r\n      '<label><div data-markup-style=\"stroke-color\"></div></label>' +\r\n      '<label><select data-markup-style=\"stroke-opacity\"></select></label>' +\r\n      '<hr />' +\r\n      '</div>' +\r\n      '<div>' +\r\n      '<strong>Fill</strong>' +\r\n      '<br />' +\r\n      '<label><div data-markup-style=\"fill-color\"></div></label>' +\r\n      '<label><select data-markup-style=\"fill-opacity\"></select></label>' +\r\n      '<hr />' +\r\n      '</div>' +\r\n      '<div>' +\r\n      '<strong>Font</strong>' +\r\n      '<label><select data-markup-style=\"font-size\"></select></label>' +\r\n      '<button data-font=\"bold\" data-markup-style=\"font-weight\">B</button>' +\r\n      '<button data-font=\"italic\" data-markup-style=\"font-style\">I</button>' +\r\n      '<label>Background Color: <select data-markup-style=\"background-color\"></select></label>' +\r\n      '<br />' +\r\n      '<label><select data-markup-style=\"font-family\"></select></label>' +\r\n      '</div>' +\r\n      '</div>' +\r\n      '<div class=\"panel-actions\">' +\r\n      '<button data-panel-action=\"clear\">Clear</button>' +\r\n      '<button data-panel-action=\"finish\">Close</button>' +\r\n      '</div>' +\r\n      '</div>';\r\n    this.createScrollContainer({});\r\n    this.scrollContainer.innerHTML = componentHTML;\r\n    this.btnUndo = this.scrollContainer.querySelector('[data-annotation-action=\"undo\"]');\r\n    this.btnRedo = this.scrollContainer.querySelector('[data-annotation-action=\"redo\"]');\r\n    this.ddAnnotationFont = this.scrollContainer.querySelector('[data-markup-style=\"font-family\"]');\r\n\r\n    //get all the style inputs and create a style controller for each one\r\n    this.styleControls = {};\r\n    var styleElements = this.scrollContainer.querySelectorAll('[data-markup-style]');\r\n    toList(styleElements).map(function(element){\r\n      var style = element.getAttribute('data-markup-style');\r\n      this.styleControls[style] = StyleControlFactory.create(element);\r\n    }.bind(this));\r\n  };\r\n\r\n  var clearButtonGroup = function (groupingElements) {\r\n    var containers = [];\r\n    if (groupingElements instanceof HTMLElement)\r\n      containers = [groupingElements]\r\n    else\r\n      containers = toList(groupingElements);\r\n\r\n    containers.map(function(c){\r\n      var buttons = c.querySelectorAll('button.active');\r\n      toList(buttons).map(function(btn){\r\n        btn.classList.remove('active');\r\n      });\r\n    });\r\n  };\r\n\r\n  proto.getAnnotationButton = function (type) {\r\n    var selector = '[data-annotation-type=\"' + type + '\"]';\r\n    return this.container.querySelector(selector);\r\n  };\r\n\r\n  proto.selectDefaultAnnotation = function () {\r\n    var def = this.getAnnotationButton('arrow');\r\n    this.switchEditMode('arrow');\r\n    this.selectAnnotationButton(def);\r\n  };\r\n\r\n  proto.engageEditMode = function(enabled) {\r\n    var markupsCore = this.markupsCore;\r\n    if (enabled) {\r\n      markupsCore.enterEditMode();\r\n      this.selectDefaultAnnotation();\r\n    } else {\r\n      markupsCore.leaveEditMode();\r\n    }\r\n  };\r\n\r\n  proto.handlePanelEvents = function () {\r\n    this.addVisibilityListener(this.engageEditMode.bind(this));\r\n  };\r\n\r\n  proto.selectAnnotationButton = function (element, options) {\r\n    var annotationType = element.getAttribute('data-annotation-type');\r\n    //clear the button group this button belongs to\r\n    clearButtonGroup(this.container.querySelectorAll('.viewer-actions, .markup-buttons'));\r\n    element.classList.add('active');\r\n\r\n    activateApplicableControls.bind(this)(options);\r\n    this.resizeToContent();\r\n  };\r\n\r\n  var displayStyleInput = function (element) {\r\n    if (Utils.matchesSelector(element.parentElement, 'label')) {\r\n      element.parentElement.style.display = 'inline-block';\r\n    } else {\r\n      element.style.display = 'inline-block';\r\n    }\r\n  };\r\n\r\n  var hideStyleInput = function (element) {\r\n    if (Utils.matchesSelector(element.parentElement, 'label')) {\r\n      //when the control is inside a label, hide\r\n      //the label instead\r\n      element.parentElement.style.display = 'none';\r\n    } else {\r\n      element.style.display = 'none';\r\n    }\r\n  };\r\n\r\n  proto.getStyleInputs = function () {\r\n    //get all the style controls\r\n    var controls = this.container.querySelectorAll('[data-markup-style]');\r\n    return toList(controls);\r\n  };\r\n\r\n  proto.hideStyleInputs = function () {\r\n    this.getStyleInputs().map(hideStyleInput);\r\n  };\r\n\r\n\r\n  var activateApplicableControls = function () {\r\n\r\n    var markupsCore = this.viewer.getExtension('Autodesk.Viewing.MarkupsCore')\r\n\r\n    var currentStyles = this.markupsCore.getStyle();\r\n    var defaultValues = utilsNamespace.getStyleDefaultValues(currentStyles, markupsCore);\r\n    this.hideStyleInputs();\r\n\r\n    //display only the controls that apply to this given edit mode\r\n    for(var activeStyle in defaultValues){\r\n      var styleSettings = defaultValues[activeStyle];\r\n      var styleElement = this.container.querySelector('[data-markup-style=\"' + activeStyle + '\"]');\r\n      var styleControl;\r\n\r\n      //when a style control for the given style isn't found\r\n      //ignore it and just move on\r\n      if (!styleElement) {\r\n        continue;\r\n      }\r\n\r\n      //get the style control associated with this style\r\n      //and update its option\r\n      styleControl = this.styleControls[activeStyle];\r\n\r\n\r\n      styleSettings.values = styleSettings.values.map(function(v){\r\n        return {\r\n          title: v.name,\r\n          value: v.value,\r\n          //the drop down list needs to these additional attributes\r\n          attrs: {\r\n            value: v.value,\r\n            style: 'font-family: \"' + v.value + '\"'\r\n          }\r\n        };\r\n      });\r\n\r\n      styleControl.setOptions(styleSettings.values);\r\n      displayStyleInput(styleElement);\r\n\r\n      styleControl.value = currentStyles[activeStyle] || styleSettings.values[styleSettings['default']].value;\r\n    }\r\n\r\n    //the markup styles are grouped together by the style which they modify(fill, stroke, font)\r\n    //iterate through each group\r\n    toList(this.container.querySelectorAll('.markup-properties > div')).map(function(div){\r\n      //hide the section container\r\n      div.style.display = 'none';\r\n      //iterate through all immediate button and labels, which either\r\n      //are the control are contain the contro\r\n      toList(div.querySelectorAll('label, button')).map(function(control){\r\n        //if any control is visible\r\n        if (control.style.display !== 'none') {\r\n          //display the section\r\n          div.style.display = 'block';\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  proto.setViewerTool = function(toolName){\r\n    this.viewer.setActiveNavigationTool(toolName);\r\n    this.markupsCore.allowNavigation(!!toolName);\r\n  };\r\n\r\n  proto.switchEditMode = function (type) {\r\n    var className = 'EditMode' + toTitleCase(type);\r\n    var editMode = new Autodesk.Viewing.Extensions.Markups.Core[className](this.markupsCore);\r\n    this.markupsCore.changeEditMode(editMode);\r\n  };\r\n\r\n  proto.handleUIEvents = function () {\r\n    var self = this;\r\n\r\n    var selectAnnotation = function (event) {\r\n      //figure out what annotation type was selected\r\n      var target = event.target;\r\n      var annotationType = target.getAttribute('data-annotation-type');\r\n\r\n      //disable any tool that may be selected\r\n      self.setViewerTool(null);\r\n      //switch to the new mode\r\n      self.switchEditMode(annotationType);\r\n      //reflect the change in edit mode on the panel\r\n      self.selectAnnotationButton(target);\r\n    };\r\n\r\n    var selectFontStyle = function (event) {\r\n      var target = event.target;\r\n      var parent = target.parentElement;\r\n\r\n      target.classList.toggle('active');\r\n      target.value = target.classList.contains('active');\r\n      //trigger a change event\r\n      target.dispatchEvent(new Event('change', { bubbles: true }));\r\n    };\r\n\r\n    //helper function to facilate the use of event delegation\r\n    var on = function (eventName, selector, callback) {\r\n      self.container.addEventListener(eventName, function(event){\r\n        var target = event.target;\r\n        if (Utils.matchesSelector(target, selector)) callback(event);\r\n      });\r\n    };\r\n\r\n    on('click', '[data-annotation-type]', selectAnnotation);\r\n    on('click', 'button[data-markup-style]', selectFontStyle);\r\n    on('click', '[data-panel-action=\"finish\"]', function(){\r\n      //hide the panel\r\n      self.setVisible(false);\r\n    });\r\n\r\n    on('click', '[data-viewer-tool]', function(event){\r\n      var target = event.target;\r\n      //clear the button group this button belongs to\r\n      clearButtonGroup(self.container.querySelectorAll('.viewer-actions, .markup-buttons'));\r\n\r\n      //toggle the active state of the toolButton clicked\r\n      target.classList.toggle('active');\r\n\r\n      //figure out what tool was clicked\r\n      var actionType = target.getAttribute('data-viewer-tool');\r\n      self.setViewerTool(actionType);\r\n    });\r\n\r\n    on('click', '[data-annotation-action=\"delete\"]', function(event){\r\n      var selectedAnnotation = self.markupsCore.getSelection();\r\n      if (selectedAnnotation)\r\n        self.markupsCore.deleteMarkup(selectedAnnotation);\r\n    });\r\n\r\n    on('click', '[data-panel-action=\"clear\"]', function(event){\r\n      self.markupsCore.clear();\r\n    });\r\n\r\n    this.btnUndo.addEventListener('click', function(event){\r\n      if (this.markupsCore.isUndoStackEmpty()) return;\r\n      this.markupsCore.undo();\r\n    }.bind(this));\r\n\r\n    this.btnRedo.addEventListener('click', function(event){\r\n      if (this.markupsCore.isRedoStackEmpty()) return;\r\n      this.markupsCore.redo();\r\n    }.bind(this));\r\n\r\n    var applySelectedFontFamily = function(event){\r\n      var target = event.target;\r\n      var selection = target.options[target.selectedIndex].value;\r\n      target.style.fontFamily = selection;\r\n    };\r\n    this.ddAnnotationFont.addEventListener('change', applySelectedFontFamily);\r\n\r\n    var applyStyleChangeToMarkup = function(event){\r\n\r\n      var target = event.target;\r\n      var style = target.getAttribute('data-markup-style');\r\n      var value = (event.detail && event.detail.source.value) || target.value;\r\n      var updatedStyle = {};\r\n      updatedStyle[style] = convertToStyleValue(value);\r\n      this.markupsCore.setStyle(updatedStyle);\r\n    }.bind(this);\r\n\r\n    //listen for change events on the elements/controls\r\n    //that control the markup style\r\n    on('change', '[data-markup-style]', applyStyleChangeToMarkup);\r\n\r\n  };\r\n\r\n  proto.getContentSize = function getContentSize() {\r\n    return {\r\n      height: this.container.querySelector('.markups-panel-content').offsetHeight + 55,\r\n      width: this.container.querySelector('.markups-panel-content').offsetWidth\r\n    };\r\n  };\r\n\r\n  proto.handleCoreEvents = function () {\r\n    this.markupsCore.addEventListener(coreNamespace.EVENT_HISTORY_CHANGED, function(){\r\n      var emptyUndo = this.markupsCore.isUndoStackEmpty();\r\n      var emptyRedo = this.markupsCore.isRedoStackEmpty();\r\n      this.btnUndo.classList[emptyUndo ? 'remove' : 'add']('active');\r\n      this.btnRedo.classList[emptyRedo ? 'remove' : 'add']('active');\r\n    }.bind(this));\r\n\r\n\r\n    this.markupsCore.addEventListener(coreNamespace.EVENT_MARKUP_SELECTED, function(event){\r\n      var target = event.target;\r\n      var markupType = getMarkupType(target);\r\n      var markupButton = this.getAnnotationButton(markupType);\r\n      this.selectAnnotationButton(markupButton);\r\n      this.container.querySelector('[data-annotation-action=\"delete\"]').classList.add('active');\r\n    }.bind(this));\r\n\r\n    this.markupsCore.addEventListener(coreNamespace.EVENT_MARKUP_DESELECT, function(event){\r\n      this.container.querySelector('[data-annotation-action=\"delete\"]').classList.remove('active');\r\n    }.bind(this));\r\n  };\r\n\r\n  namespace.MarkupsPanel = MarkupsPanel;\r\n})();\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsPanel.js","(function(){\r\n\r\n    var namespace = AutodeskNamespace('Autodesk.Markups.Ui');\r\n\r\n    var ColorPicker = namespace.ColorPicker,\r\n        DropDown    = namespace.DropDown,\r\n        ToggleButton = namespace.ToggleButton;\r\n\r\n    namespace.StyleControlFactory = {\r\n        create: function(element){\r\n            var style = element.getAttribute('data-markup-style');\r\n            var styleControl;\r\n            //NOTE: this check will have to get more \r\n            //      specific if more custom style inputs are needed\r\n            if (element instanceof HTMLDivElement) {\r\n                styleControl = new ColorPicker(element);\r\n            } else if (element instanceof HTMLSelectElement) {\r\n                styleControl = new DropDown(element);\r\n            } else if (element instanceof HTMLButtonElement) {\r\n                styleControl = new ToggleButton(element);\r\n            }\r\n            return styleControl;\r\n        }\r\n    };\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsStyleControlFactory.js","(function(){\r\n\r\n    var namespace = AutodeskNamespace('Autodesk.Markups.Ui');\r\n    var coreNamespace = AutodeskNamespace('Autodesk.Markups.Core');\r\n    var utilsNamespace = AutodeskNamespace('Autodesk.Markups.Core.Utils');\r\n\r\n    var Utils = namespace.Utils,\r\n        toList = Utils.toList,\r\n        toTitleCase = Utils.toTitleCase,\r\n        updateDropDownOptions = Utils.updateDropDownOptions;\r\n\r\n    function DropDown(element) {\r\n        this.root = element;\r\n        Object.defineProperty(this, 'value', {\r\n            get : function() {\r\n                return this.root.value;\r\n            },\r\n            set : function(val){\r\n                this.root.value = val;\r\n            }\r\n        });\r\n    }\r\n\r\n    var proto = DropDown.prototype;\r\n\r\n    proto.setOptions = function (options) {\r\n        updateDropDownOptions(this.root, options);\r\n    };\r\n\r\n    namespace.DropDown = DropDown;\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsStyleDropdown.js","(function(){\r\n\r\n    var namespace = AutodeskNamespace('Autodesk.Markups.Ui');\r\n\r\n    function ToggleButton(element) {\r\n        this.root = element;\r\n        Object.defineProperty(this, 'value', {\r\n            get : function() {\r\n                return this.root.value;\r\n            },\r\n            set : function(val){\r\n                this.root.value = val;\r\n            }\r\n        });\r\n    }\r\n\r\n    var proto = ToggleButton.prototype;\r\n\r\n    proto.setOptions = function (options) {\r\n        //nothing to do\r\n        //it's either true or false, on or off\r\n    };\r\n\r\n    namespace.ToggleButton = ToggleButton;\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsStyleToggleButton.js","(function(){\r\n\r\n  var EXTENSION_NAME = 'Autodesk.MarkupsUi';\r\n  var namespace = AutodeskNamespace('Autodesk.Markups.Ui');\r\n\r\n  function MarkupsUi(viewer, options) {\r\n\r\n    Autodesk.Viewing.Extension.call(this, viewer, options)\r\n\r\n    this.markupsCore = options.markupsCore\r\n\r\n    this.options = options\r\n\r\n    this.viewer = viewer\r\n  }\r\n\r\n  MarkupsUi.prototype = Object.create(Autodesk.Viewing.Extension.prototype);\r\n  MarkupsUi.prototype.constructor = MarkupsUi;\r\n  var proto = MarkupsUi.prototype;\r\n\r\n  var Button = Autodesk.Viewing.UI.Button,\r\n    ACTIVE = Button.State.ACTIVE,\r\n    INACTIVE = Button.State.INACTIVE;\r\n\r\n  function createMarkupButton () {\r\n    var btn = new Button( \"toolbar-markupTool\");\r\n    btn.setToolTip(\"Markup\");\r\n    btn.setIcon(\"adsk-icon-markup\");\r\n    btn.onClick = function () {\r\n      var state = btn.getState();\r\n      btn.setState(state === INACTIVE ? ACTIVE : INACTIVE);\r\n    };\r\n    return btn;\r\n  }\r\n\r\n  proto.load = function () {\r\n    // TODO: Even if the toolController is missing, the viewer may create it later and\r\n    // notify consumers (like us) through an event\r\n    if (!this.viewer.toolController) {\r\n      return false;\r\n    }\r\n\r\n    this.panel = new Autodesk.Markups.Ui.MarkupsPanel(\r\n      this.viewer, this.markupsCore)\r\n\r\n    this.viewer.addPanel(this.panel)\r\n\r\n    if (this.options.showControl){\r\n      this.createUI()\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  proto.unload = function() {\r\n    return true;\r\n  }\r\n\r\n  proto.createUI = function () {\r\n\r\n    var viewer = this.viewer;\r\n\r\n    this.markupToolButton = createMarkupButton();\r\n\r\n    var modelTools = viewer\r\n      .getToolbar(true)\r\n      .getControl(Autodesk.Viewing.TOOLBAR.MODELTOOLSID);\r\n\r\n    this.panel.addVisibilityListener(function(show){\r\n      this.markupToolButton.setState(show ? ACTIVE : INACTIVE)\r\n    }.bind(this))\r\n\r\n    this.onMarkupButtonStateChange = function(e) {\r\n      this.panel.setVisible(e.state === ACTIVE)\r\n    }\r\n\r\n    this.markupToolButton.addEventListener(\r\n      Button.Event.STATE_CHANGED,\r\n      this.onMarkupButtonStateChange)\r\n\r\n    modelTools.addControl(this.markupToolButton, {index:0})\r\n  }\r\n\r\n  Autodesk.Viewing.theExtensionManager.registerExtension(\r\n    EXTENSION_NAME, MarkupsUi)\r\n\r\n  namespace.MarkupsUi = MarkupsUi\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsUi.js","(function(){\r\n\r\n    var coreNamespace = AutodeskNamespace('Autodesk.Viewing.Extensions.Markups.Core');\r\n    var namespace = AutodeskNamespace('Autodesk.Markups.Ui');\r\n\r\n    var Utils = {\r\n        updateDropDownOptions: function(element, items){\r\n            if (!(element instanceof HTMLSelectElement)) return;\r\n\r\n            //clear out the previous options\r\n            element.innerHTML = '';\r\n\r\n            var docFrag = document.createDocumentFragment();\r\n            items.map(function(item){\r\n                var option = document.createElement('option');\r\n                option.textContent = item.title;\r\n                for (var attr in item.attrs) {\r\n                    var value = item.attrs[attr];\r\n                    option.setAttribute(attr, value);\r\n                }\r\n                docFrag.appendChild(option);\r\n            });\r\n            element.appendChild(docFrag);\r\n        },\r\n        toList: function (listLikeStructure) {\r\n            return [].slice.apply(listLikeStructure);\r\n        },\r\n        toTitleCase: function (str) {\r\n            return str.charAt(0).toUpperCase() + str.substring(1);\r\n        },\r\n        getMarkupType: function(annotation){\r\n\r\n            switch(annotation.type) {\r\n                case coreNamespace.MARKUP_TYPE_ARROW:\r\n                    return \"arrow\";\r\n                case coreNamespace.MARKUP_TYPE_TEXT:\r\n                    return \"text\";\r\n                case coreNamespace.MARKUP_TYPE_RECTANGLE:\r\n                    return \"rectangle\";\r\n                case coreNamespace.MARKUP_TYPE_CIRCLE:\r\n                    return \"circle\";\r\n                case coreNamespace.MARKUP_TYPE_CLOUD:\r\n                    return \"cloud\";\r\n                case coreNamespace.MARKUP_TYPE_FREEHAND:\r\n                    return \"freehand\";\r\n            }\r\n        },\r\n        matchesSelector: function(domElem, selector) {\r\n            if (domElem.matches) return domElem.matches(selector); //Un-prefixed\r\n            if (domElem.msMatchesSelector) return domElem.msMatchesSelector(selector);  //IE\r\n            if (domElem.mozMatchesSelector) return domElem.mozMatchesSelector(selector); //Firefox (Gecko)\r\n            if (domElem.webkitMatchesSelector) return domElem.webkitMatchesSelector(selector); // Opera, Safari, Chrome\r\n            return false;\r\n        }\r\n    };\r\n\r\n    namespace.Utils = Utils;\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsUiUtils.js","// Spectrum Colorpicker v1.5.1\r\n// https://github.com/bgrins/spectrum\r\n// Author: Brian Grinstead\r\n// License: MIT\r\n\r\n(function (window, $, undefined) {\r\n    \"use strict\";\r\n\r\n    var defaultOpts = {\r\n\r\n        // Callbacks\r\n        beforeShow: noop,\r\n        move: noop,\r\n        change: noop,\r\n        show: noop,\r\n        hide: noop,\r\n\r\n        // Options\r\n        color: false,\r\n        flat: false,\r\n        showInput: false,\r\n        allowEmpty: false,\r\n        showButtons: true,\r\n        clickoutFiresChange: false,\r\n        showInitial: false,\r\n        showPalette: false,\r\n        showPaletteOnly: false,\r\n        hideAfterPaletteSelect: false,\r\n        togglePaletteOnly: false,\r\n        showSelectionPalette: true,\r\n        localStorageKey: false,\r\n        appendTo: \"body\",\r\n        maxSelectionSize: 7,\r\n        cancelText: \"cancel\",\r\n        chooseText: \"choose\",\r\n        togglePaletteMoreText: \"more\",\r\n        togglePaletteLessText: \"less\",\r\n        clearText: \"Clear Color Selection\",\r\n        noColorSelectedText: \"No Color Selected\",\r\n        preferredFormat: false,\r\n        className: \"\", // Deprecated - use containerClassName and replacerClassName instead.\r\n        containerClassName: \"\",\r\n        replacerClassName: \"\",\r\n        showAlpha: false,\r\n        theme: \"sp-light\",\r\n        palette: [[\"#ffffff\", \"#000000\", \"#ff0000\", \"#ff8000\", \"#ffff00\", \"#008000\", \"#0000ff\", \"#4b0082\", \"#9400d3\"]],\r\n        selectionPalette: [],\r\n        disabled: false\r\n    },\r\n    spectrums = [],\r\n    IE = !!/msie/i.exec( window.navigator.userAgent ),\r\n    rgbaSupport = (function() {\r\n        function contains( str, substr ) {\r\n            return !!~('' + str).indexOf(substr);\r\n        }\r\n\r\n        var elem = document.createElement('div');\r\n        var style = elem.style;\r\n        style.cssText = 'background-color:rgba(0,0,0,.5)';\r\n        return contains(style.backgroundColor, 'rgba') || contains(style.backgroundColor, 'hsla');\r\n    })(),\r\n    inputTypeColorSupport = (function() {\r\n        var colorInput = $(\"<input type='color' value='!' />\")[0];\r\n        return colorInput.type === \"color\" && colorInput.value !== \"!\";\r\n    })(),\r\n    replaceInput = [\r\n        \"<div class='sp-replacer'>\",\r\n            \"<div class='sp-preview'><div class='sp-preview-inner'></div></div>\",\r\n            \"<div class='sp-dd'>&#9660;</div>\",\r\n        \"</div>\"\r\n    ].join(''),\r\n    markup = (function () {\r\n\r\n        // IE does not support gradients with multiple stops, so we need to simulate\r\n        //  that for the rainbow slider with 8 divs that each have a single gradient\r\n        var gradientFix = \"\";\r\n        if (IE) {\r\n            for (var i = 1; i <= 6; i++) {\r\n                gradientFix += \"<div class='sp-\" + i + \"'></div>\";\r\n            }\r\n        }\r\n\r\n        return [\r\n            \"<div class='sp-container sp-hidden'>\",\r\n                \"<div class='sp-palette-container'>\",\r\n                    \"<div class='sp-palette sp-thumb sp-cf'></div>\",\r\n                    \"<div class='sp-palette-button-container sp-cf'>\",\r\n                        \"<button type='button' class='sp-palette-toggle'></button>\",\r\n                    \"</div>\",\r\n                \"</div>\",\r\n                \"<div class='sp-picker-container'>\",\r\n                    \"<div class='sp-top sp-cf'>\",\r\n                        \"<div class='sp-fill'></div>\",\r\n                        \"<div class='sp-top-inner'>\",\r\n                            \"<div class='sp-color'>\",\r\n                                \"<div class='sp-sat'>\",\r\n                                    \"<div class='sp-val'>\",\r\n                                        \"<div class='sp-dragger'></div>\",\r\n                                    \"</div>\",\r\n                                \"</div>\",\r\n                            \"</div>\",\r\n                            \"<div class='sp-clear sp-clear-display'>\",\r\n                            \"</div>\",\r\n                            \"<div class='sp-hue'>\",\r\n                                \"<div class='sp-slider'></div>\",\r\n                                gradientFix,\r\n                            \"</div>\",\r\n                        \"</div>\",\r\n                        \"<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>\",\r\n                    \"</div>\",\r\n                    \"<div class='sp-input-container sp-cf'>\",\r\n                        \"<input class='sp-input' type='text' spellcheck='false'  />\",\r\n                    \"</div>\",\r\n                    \"<div class='sp-initial sp-thumb sp-cf'></div>\",\r\n                    \"<div class='sp-button-container sp-cf'>\",\r\n                        \"<a class='sp-cancel' href='#'></a>\",\r\n                        \"<button type='button' class='sp-choose'></button>\",\r\n                    \"</div>\",\r\n                \"</div>\",\r\n            \"</div>\"\r\n        ].join(\"\");\r\n    })();\r\n\r\n    function paletteTemplate (p, color, className, opts) {\r\n        var html = [];\r\n        for (var i = 0; i < p.length; i++) {\r\n            var current = p[i];\r\n            if(current) {\r\n                var tiny = tinycolor(current);\r\n                var c = tiny.toHsl().l < 0.5 ? \"sp-thumb-el sp-thumb-dark\" : \"sp-thumb-el sp-thumb-light\";\r\n                c += (tinycolor.equals(color, current)) ? \" sp-thumb-active\" : \"\";\r\n                var formattedString = tiny.toString(opts.preferredFormat || \"rgb\");\r\n                var swatchStyle = rgbaSupport ? (\"background-color:\" + tiny.toRgbString()) : \"filter:\" + tiny.toFilter();\r\n                html.push('<span title=\"' + formattedString + '\" data-color=\"' + tiny.toRgbString() + '\" class=\"' + c + '\"><span class=\"sp-thumb-inner\" style=\"' + swatchStyle + ';\" /></span>');\r\n            } else {\r\n                var cls = 'sp-clear-display';\r\n                html.push($('<div />')\r\n                    .append($('<span data-color=\"\" style=\"background-color:transparent;\" class=\"' + cls + '\"></span>')\r\n                        .attr('title', opts.noColorSelectedText)\r\n                    )\r\n                    .html()\r\n                );\r\n            }\r\n        }\r\n        return \"<div class='sp-cf \" + className + \"'>\" + html.join('') + \"</div>\";\r\n    }\r\n\r\n    function hideAll() {\r\n        for (var i = 0; i < spectrums.length; i++) {\r\n            if (spectrums[i]) {\r\n                spectrums[i].hide();\r\n            }\r\n        }\r\n    }\r\n\r\n    function instanceOptions(o, callbackContext) {\r\n        var opts = $.extend({}, defaultOpts, o);\r\n        opts.callbacks = {\r\n            'move': bind(opts.move, callbackContext),\r\n            'change': bind(opts.change, callbackContext),\r\n            'show': bind(opts.show, callbackContext),\r\n            'hide': bind(opts.hide, callbackContext),\r\n            'beforeShow': bind(opts.beforeShow, callbackContext)\r\n        };\r\n\r\n        return opts;\r\n    }\r\n\r\n    function spectrum(element, o) {\r\n\r\n        var opts = instanceOptions(o, element),\r\n            flat = opts.flat,\r\n            showSelectionPalette = opts.showSelectionPalette,\r\n            localStorageKey = opts.localStorageKey,\r\n            theme = opts.theme,\r\n            callbacks = opts.callbacks,\r\n            resize = throttle(reflow, 10),\r\n            visible = false,\r\n            dragWidth = 0,\r\n            dragHeight = 0,\r\n            dragHelperHeight = 0,\r\n            slideHeight = 0,\r\n            slideWidth = 0,\r\n            alphaWidth = 0,\r\n            alphaSlideHelperWidth = 0,\r\n            slideHelperHeight = 0,\r\n            currentHue = 0,\r\n            currentSaturation = 0,\r\n            currentValue = 0,\r\n            currentAlpha = 1,\r\n            palette = [],\r\n            paletteArray = [],\r\n            paletteLookup = {},\r\n            selectionPalette = opts.selectionPalette.slice(0),\r\n            maxSelectionSize = opts.maxSelectionSize,\r\n            draggingClass = \"sp-dragging\",\r\n            shiftMovementDirection = null;\r\n\r\n        var doc = element.ownerDocument,\r\n            body = doc.body,\r\n            boundElement = $(element),\r\n            disabled = false,\r\n            container = $(markup, doc).addClass(theme),\r\n            pickerContainer = container.find(\".sp-picker-container\"),\r\n            dragger = container.find(\".sp-color\"),\r\n            dragHelper = container.find(\".sp-dragger\"),\r\n            slider = container.find(\".sp-hue\"),\r\n            slideHelper = container.find(\".sp-slider\"),\r\n            alphaSliderInner = container.find(\".sp-alpha-inner\"),\r\n            alphaSlider = container.find(\".sp-alpha\"),\r\n            alphaSlideHelper = container.find(\".sp-alpha-handle\"),\r\n            textInput = container.find(\".sp-input\"),\r\n            paletteContainer = container.find(\".sp-palette\"),\r\n            initialColorContainer = container.find(\".sp-initial\"),\r\n            cancelButton = container.find(\".sp-cancel\"),\r\n            clearButton = container.find(\".sp-clear\"),\r\n            chooseButton = container.find(\".sp-choose\"),\r\n            toggleButton = container.find(\".sp-palette-toggle\"),\r\n            isInput = boundElement.is(\"input\"),\r\n            isInputTypeColor = isInput && inputTypeColorSupport && boundElement.attr(\"type\") === \"color\",\r\n            shouldReplace = isInput && !flat,\r\n            replacer = (shouldReplace) ? $(replaceInput).addClass(theme).addClass(opts.className).addClass(opts.replacerClassName) : $([]),\r\n            offsetElement = (shouldReplace) ? replacer : boundElement,\r\n            previewElement = replacer.find(\".sp-preview-inner\"),\r\n            initialColor = opts.color || (isInput && boundElement.val()),\r\n            colorOnShow = false,\r\n            preferredFormat = opts.preferredFormat,\r\n            currentPreferredFormat = preferredFormat,\r\n            clickoutFiresChange = !opts.showButtons || opts.clickoutFiresChange,\r\n            isEmpty = !initialColor,\r\n            allowEmpty = opts.allowEmpty && !isInputTypeColor;\r\n\r\n        function applyOptions() {\r\n\r\n            if (opts.showPaletteOnly) {\r\n                opts.showPalette = true;\r\n            }\r\n\r\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\r\n\r\n            if (opts.palette) {\r\n                palette = opts.palette.slice(0);\r\n                paletteArray = $.isArray(palette[0]) ? palette : [palette];\r\n                paletteLookup = {};\r\n                for (var i = 0; i < paletteArray.length; i++) {\r\n                    for (var j = 0; j < paletteArray[i].length; j++) {\r\n                        var rgb = tinycolor(paletteArray[i][j]).toRgbString();\r\n                        paletteLookup[rgb] = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            container.toggleClass(\"sp-flat\", flat);\r\n            container.toggleClass(\"sp-input-disabled\", !opts.showInput);\r\n            container.toggleClass(\"sp-alpha-enabled\", opts.showAlpha);\r\n            container.toggleClass(\"sp-clear-enabled\", allowEmpty);\r\n            container.toggleClass(\"sp-buttons-disabled\", !opts.showButtons);\r\n            container.toggleClass(\"sp-palette-buttons-disabled\", !opts.togglePaletteOnly);\r\n            container.toggleClass(\"sp-palette-disabled\", !opts.showPalette);\r\n            container.toggleClass(\"sp-palette-only\", opts.showPaletteOnly);\r\n            container.toggleClass(\"sp-initial-disabled\", !opts.showInitial);\r\n            container.addClass(opts.className).addClass(opts.containerClassName);\r\n\r\n            reflow();\r\n        }\r\n\r\n        function initialize() {\r\n\r\n            if (IE) {\r\n                container.find(\"*:not(input)\").attr(\"unselectable\", \"on\");\r\n            }\r\n\r\n            applyOptions();\r\n\r\n            if (shouldReplace) {\r\n                boundElement.after(replacer).hide();\r\n            }\r\n\r\n            if (!allowEmpty) {\r\n                clearButton.hide();\r\n            }\r\n\r\n            if (flat) {\r\n                boundElement.after(container).hide();\r\n            }\r\n            else {\r\n\r\n                var appendTo = opts.appendTo === \"parent\" ? boundElement.parent() : $(opts.appendTo);\r\n                if (appendTo.length !== 1) {\r\n                    appendTo = $(\"body\");\r\n                }\r\n\r\n                appendTo.append(container);\r\n            }\r\n\r\n            updateSelectionPaletteFromStorage();\r\n\r\n            offsetElement.bind(\"click.spectrum touchstart.spectrum\", function (e) {\r\n                if (!disabled) {\r\n                    toggle();\r\n                }\r\n\r\n                e.stopPropagation();\r\n\r\n                if (!$(e.target).is(\"input\")) {\r\n                    e.preventDefault();\r\n                }\r\n            });\r\n\r\n            if(boundElement.is(\":disabled\") || (opts.disabled === true)) {\r\n                disable();\r\n            }\r\n\r\n            // Prevent clicks from bubbling up to document.  This would cause it to be hidden.\r\n            container.click(stopPropagation);\r\n\r\n            // Handle user typed input\r\n            textInput.change(setFromTextInput);\r\n            textInput.bind(\"paste\", function () {\r\n                setTimeout(setFromTextInput, 1);\r\n            });\r\n            textInput.keydown(function (e) { if (e.keyCode == 13) { setFromTextInput(); } });\r\n\r\n            cancelButton.text(opts.cancelText);\r\n            cancelButton.bind(\"click.spectrum\", function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                revert();\r\n                hide();\r\n            });\r\n\r\n            clearButton.attr(\"title\", opts.clearText);\r\n            clearButton.bind(\"click.spectrum\", function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                isEmpty = true;\r\n                move();\r\n\r\n                if(flat) {\r\n                    //for the flat style, this is a change event\r\n                    updateOriginalInput(true);\r\n                }\r\n            });\r\n\r\n            chooseButton.text(opts.chooseText);\r\n            chooseButton.bind(\"click.spectrum\", function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n\r\n                if (isValid()) {\r\n                    updateOriginalInput(true);\r\n                    hide();\r\n                }\r\n            });\r\n\r\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\r\n            toggleButton.bind(\"click.spectrum\", function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n\r\n                opts.showPaletteOnly = !opts.showPaletteOnly;\r\n\r\n                // To make sure the Picker area is drawn on the right, next to the\r\n                // Palette area (and not below the palette), first move the Palette\r\n                // to the left to make space for the picker, plus 5px extra.\r\n                // The 'applyOptions' function puts the whole container back into place\r\n                // and takes care of the button-text and the sp-palette-only CSS class.\r\n                if (!opts.showPaletteOnly && !flat) {\r\n                    container.css('left', '-=' + (pickerContainer.outerWidth(true) + 5));\r\n                }\r\n                applyOptions();\r\n            });\r\n\r\n            draggable(alphaSlider, function (dragX, dragY, e) {\r\n                currentAlpha = (dragX / alphaWidth);\r\n                isEmpty = false;\r\n                if (e.shiftKey) {\r\n                    currentAlpha = Math.round(currentAlpha * 10) / 10;\r\n                }\r\n\r\n                move();\r\n            }, dragStart, dragStop);\r\n\r\n            draggable(slider, function (dragX, dragY) {\r\n                currentHue = parseFloat(dragY / slideHeight);\r\n                isEmpty = false;\r\n                if (!opts.showAlpha) {\r\n                    currentAlpha = 1;\r\n                }\r\n                move();\r\n            }, dragStart, dragStop);\r\n\r\n            draggable(dragger, function (dragX, dragY, e) {\r\n\r\n                // shift+drag should snap the movement to either the x or y axis.\r\n                if (!e.shiftKey) {\r\n                    shiftMovementDirection = null;\r\n                }\r\n                else if (!shiftMovementDirection) {\r\n                    var oldDragX = currentSaturation * dragWidth;\r\n                    var oldDragY = dragHeight - (currentValue * dragHeight);\r\n                    var furtherFromX = Math.abs(dragX - oldDragX) > Math.abs(dragY - oldDragY);\r\n\r\n                    shiftMovementDirection = furtherFromX ? \"x\" : \"y\";\r\n                }\r\n\r\n                var setSaturation = !shiftMovementDirection || shiftMovementDirection === \"x\";\r\n                var setValue = !shiftMovementDirection || shiftMovementDirection === \"y\";\r\n\r\n                if (setSaturation) {\r\n                    currentSaturation = parseFloat(dragX / dragWidth);\r\n                }\r\n                if (setValue) {\r\n                    currentValue = parseFloat((dragHeight - dragY) / dragHeight);\r\n                }\r\n\r\n                isEmpty = false;\r\n                if (!opts.showAlpha) {\r\n                    currentAlpha = 1;\r\n                }\r\n\r\n                move();\r\n\r\n            }, dragStart, dragStop);\r\n\r\n            if (!!initialColor) {\r\n                set(initialColor);\r\n\r\n                // In case color was black - update the preview UI and set the format\r\n                // since the set function will not run (default color is black).\r\n                updateUI();\r\n                currentPreferredFormat = preferredFormat || tinycolor(initialColor).format;\r\n\r\n                addColorToSelectionPalette(initialColor);\r\n            }\r\n            else {\r\n                updateUI();\r\n            }\r\n\r\n            if (flat) {\r\n                show();\r\n            }\r\n\r\n            function paletteElementClick(e) {\r\n                if (e.data && e.data.ignore) {\r\n                    set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\r\n                    move();\r\n                }\r\n                else {\r\n                    set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\r\n                    move();\r\n                    updateOriginalInput(true);\r\n                    if (opts.hideAfterPaletteSelect) {\r\n                      hide();\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n            var paletteEvent = IE ? \"mousedown.spectrum\" : \"click.spectrum touchstart.spectrum\";\r\n            paletteContainer.delegate(\".sp-thumb-el\", paletteEvent, paletteElementClick);\r\n            initialColorContainer.delegate(\".sp-thumb-el:nth-child(1)\", paletteEvent, { ignore: true }, paletteElementClick);\r\n        }\r\n\r\n        function updateSelectionPaletteFromStorage() {\r\n\r\n            if (localStorageKey && window.localStorage) {\r\n\r\n                // Migrate old palettes over to new format.  May want to remove this eventually.\r\n                try {\r\n                    var oldPalette = window.localStorage[localStorageKey].split(\",#\");\r\n                    if (oldPalette.length > 1) {\r\n                        delete window.localStorage[localStorageKey];\r\n                        $.each(oldPalette, function(i, c) {\r\n                             addColorToSelectionPalette(c);\r\n                        });\r\n                    }\r\n                }\r\n                catch(e) { }\r\n\r\n                try {\r\n                    selectionPalette = window.localStorage[localStorageKey].split(\";\");\r\n                }\r\n                catch (e) { }\r\n            }\r\n        }\r\n\r\n        function addColorToSelectionPalette(color) {\r\n            if (showSelectionPalette) {\r\n                var rgb = tinycolor(color).toRgbString();\r\n                if (!paletteLookup[rgb] && $.inArray(rgb, selectionPalette) === -1) {\r\n                    selectionPalette.push(rgb);\r\n                    while(selectionPalette.length > maxSelectionSize) {\r\n                        selectionPalette.shift();\r\n                    }\r\n                }\r\n\r\n                if (localStorageKey && window.localStorage) {\r\n                    try {\r\n                        window.localStorage[localStorageKey] = selectionPalette.join(\";\");\r\n                    }\r\n                    catch(e) { }\r\n                }\r\n            }\r\n        }\r\n\r\n        function getUniqueSelectionPalette() {\r\n            var unique = [];\r\n            if (opts.showPalette) {\r\n                for (var i = 0; i < selectionPalette.length; i++) {\r\n                    var rgb = tinycolor(selectionPalette[i]).toRgbString();\r\n\r\n                    if (!paletteLookup[rgb]) {\r\n                        unique.push(selectionPalette[i]);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return unique.reverse().slice(0, opts.maxSelectionSize);\r\n        }\r\n\r\n        function drawPalette() {\r\n\r\n            var currentColor = get();\r\n\r\n            var html = $.map(paletteArray, function (palette, i) {\r\n                return paletteTemplate(palette, currentColor, \"sp-palette-row sp-palette-row-\" + i, opts);\r\n            });\r\n\r\n            updateSelectionPaletteFromStorage();\r\n\r\n            if (selectionPalette) {\r\n                html.push(paletteTemplate(getUniqueSelectionPalette(), currentColor, \"sp-palette-row sp-palette-row-selection\", opts));\r\n            }\r\n\r\n            paletteContainer.html(html.join(\"\"));\r\n        }\r\n\r\n        function drawInitial() {\r\n            if (opts.showInitial) {\r\n                var initial = colorOnShow;\r\n                var current = get();\r\n                initialColorContainer.html(paletteTemplate([initial, current], current, \"sp-palette-row-initial\", opts));\r\n            }\r\n        }\r\n\r\n        function dragStart() {\r\n            if (dragHeight <= 0 || dragWidth <= 0 || slideHeight <= 0) {\r\n                reflow();\r\n            }\r\n            container.addClass(draggingClass);\r\n            shiftMovementDirection = null;\r\n            boundElement.trigger('dragstart.spectrum', [ get() ]);\r\n        }\r\n\r\n        function dragStop() {\r\n            container.removeClass(draggingClass);\r\n            boundElement.trigger('dragstop.spectrum', [ get() ]);\r\n        }\r\n\r\n        function setFromTextInput() {\r\n\r\n            var value = textInput.val();\r\n\r\n            if ((value === null || value === \"\") && allowEmpty) {\r\n                set(null);\r\n                updateOriginalInput(true);\r\n            }\r\n            else {\r\n                var tiny = tinycolor(value);\r\n                if (tiny.isValid()) {\r\n                    set(tiny);\r\n                    updateOriginalInput(true);\r\n                }\r\n                else {\r\n                    textInput.addClass(\"sp-validation-error\");\r\n                }\r\n            }\r\n        }\r\n\r\n        function toggle() {\r\n            if (visible) {\r\n                hide();\r\n            }\r\n            else {\r\n                show();\r\n            }\r\n        }\r\n\r\n        function show() {\r\n            var event = $.Event('beforeShow.spectrum');\r\n\r\n            if (visible) {\r\n                reflow();\r\n                return;\r\n            }\r\n\r\n            boundElement.trigger(event, [ get() ]);\r\n\r\n            if (callbacks.beforeShow(get()) === false || event.isDefaultPrevented()) {\r\n                return;\r\n            }\r\n\r\n            hideAll();\r\n            visible = true;\r\n\r\n            $(doc).bind(\"click.spectrum\", clickout);\r\n            $(window).bind(\"resize.spectrum\", resize);\r\n            replacer.addClass(\"sp-active\");\r\n            container.removeClass(\"sp-hidden\");\r\n\r\n            reflow();\r\n            updateUI();\r\n\r\n            colorOnShow = get();\r\n\r\n            drawInitial();\r\n            callbacks.show(colorOnShow);\r\n            boundElement.trigger('show.spectrum', [ colorOnShow ]);\r\n        }\r\n\r\n        function clickout(e) {\r\n            // Return on right click.\r\n            if (e && e.type == \"click\" && e.button == 2) { return; }\r\n\r\n            if (clickoutFiresChange) {\r\n                updateOriginalInput(true);\r\n            }\r\n            else {\r\n                revert();\r\n            }\r\n            hide();\r\n        }\r\n\r\n        function hide() {\r\n            // Return if hiding is unnecessary\r\n            if (!visible || flat) { return; }\r\n            visible = false;\r\n\r\n            $(doc).unbind(\"click.spectrum\", clickout);\r\n            $(window).unbind(\"resize.spectrum\", resize);\r\n\r\n            replacer.removeClass(\"sp-active\");\r\n            container.addClass(\"sp-hidden\");\r\n\r\n            callbacks.hide(get());\r\n            boundElement.trigger('hide.spectrum', [ get() ]);\r\n        }\r\n\r\n        function revert() {\r\n            set(colorOnShow, true);\r\n        }\r\n\r\n        function set(color, ignoreFormatChange) {\r\n            if (tinycolor.equals(color, get())) {\r\n                // Update UI just in case a validation error needs\r\n                // to be cleared.\r\n                updateUI();\r\n                return;\r\n            }\r\n\r\n            var newColor, newHsv;\r\n            if (!color && allowEmpty) {\r\n                isEmpty = true;\r\n            } else {\r\n                isEmpty = false;\r\n                newColor = tinycolor(color);\r\n                newHsv = newColor.toHsv();\r\n\r\n                currentHue = (newHsv.h % 360) / 360;\r\n                currentSaturation = newHsv.s;\r\n                currentValue = newHsv.v;\r\n                currentAlpha = newHsv.a;\r\n            }\r\n            updateUI();\r\n\r\n            if (newColor && newColor.isValid() && !ignoreFormatChange) {\r\n                currentPreferredFormat = preferredFormat || newColor.getFormat();\r\n            }\r\n        }\r\n\r\n        function get(opts) {\r\n            opts = opts || { };\r\n\r\n            if (allowEmpty && isEmpty) {\r\n                return null;\r\n            }\r\n\r\n            return tinycolor.fromRatio({\r\n                h: currentHue,\r\n                s: currentSaturation,\r\n                v: currentValue,\r\n                a: Math.round(currentAlpha * 100) / 100\r\n            }, { format: opts.format || currentPreferredFormat });\r\n        }\r\n\r\n        function isValid() {\r\n            return !textInput.hasClass(\"sp-validation-error\");\r\n        }\r\n\r\n        function move() {\r\n            updateUI();\r\n\r\n            callbacks.move(get());\r\n            boundElement.trigger('move.spectrum', [ get() ]);\r\n        }\r\n\r\n        function updateUI() {\r\n\r\n            textInput.removeClass(\"sp-validation-error\");\r\n\r\n            updateHelperLocations();\r\n\r\n            // Update dragger background color (gradients take care of saturation and value).\r\n            var flatColor = tinycolor.fromRatio({ h: currentHue, s: 1, v: 1 });\r\n            dragger.css(\"background-color\", flatColor.toHexString());\r\n\r\n            // Get a format that alpha will be included in (hex and names ignore alpha)\r\n            var format = currentPreferredFormat;\r\n            if (currentAlpha < 1 && !(currentAlpha === 0 && format === \"name\")) {\r\n                if (format === \"hex\" || format === \"hex3\" || format === \"hex6\" || format === \"name\") {\r\n                    format = \"rgb\";\r\n                }\r\n            }\r\n\r\n            var realColor = get({ format: format }),\r\n                displayColor = '';\r\n\r\n             //reset background info for preview element\r\n            previewElement.removeClass(\"sp-clear-display\");\r\n            previewElement.css('background-color', 'transparent');\r\n\r\n            if (!realColor && allowEmpty) {\r\n                // Update the replaced elements background with icon indicating no color selection\r\n                previewElement.addClass(\"sp-clear-display\");\r\n            }\r\n            else {\r\n                var realHex = realColor.toHexString(),\r\n                    realRgb = realColor.toRgbString();\r\n\r\n                // Update the replaced elements background color (with actual selected color)\r\n                if (rgbaSupport || realColor.alpha === 1) {\r\n                    previewElement.css(\"background-color\", realRgb);\r\n                }\r\n                else {\r\n                    previewElement.css(\"background-color\", \"transparent\");\r\n                    previewElement.css(\"filter\", realColor.toFilter());\r\n                }\r\n\r\n                if (opts.showAlpha) {\r\n                    var rgb = realColor.toRgb();\r\n                    rgb.a = 0;\r\n                    var realAlpha = tinycolor(rgb).toRgbString();\r\n                    var gradient = \"linear-gradient(left, \" + realAlpha + \", \" + realHex + \")\";\r\n\r\n                    if (IE) {\r\n                        alphaSliderInner.css(\"filter\", tinycolor(realAlpha).toFilter({ gradientType: 1 }, realHex));\r\n                    }\r\n                    else {\r\n                        alphaSliderInner.css(\"background\", \"-webkit-\" + gradient);\r\n                        alphaSliderInner.css(\"background\", \"-moz-\" + gradient);\r\n                        alphaSliderInner.css(\"background\", \"-ms-\" + gradient);\r\n                        // Use current syntax gradient on unprefixed property.\r\n                        alphaSliderInner.css(\"background\",\r\n                            \"linear-gradient(to right, \" + realAlpha + \", \" + realHex + \")\");\r\n                    }\r\n                }\r\n\r\n                displayColor = realColor.toString(format);\r\n            }\r\n\r\n            // Update the text entry input as it changes happen\r\n            if (opts.showInput) {\r\n                textInput.val(displayColor);\r\n            }\r\n\r\n            if (opts.showPalette) {\r\n                drawPalette();\r\n            }\r\n\r\n            drawInitial();\r\n        }\r\n\r\n        function updateHelperLocations() {\r\n            var s = currentSaturation;\r\n            var v = currentValue;\r\n\r\n            if(allowEmpty && isEmpty) {\r\n                //if selected color is empty, hide the helpers\r\n                alphaSlideHelper.hide();\r\n                slideHelper.hide();\r\n                dragHelper.hide();\r\n            }\r\n            else {\r\n                //make sure helpers are visible\r\n                alphaSlideHelper.show();\r\n                slideHelper.show();\r\n                dragHelper.show();\r\n\r\n                // Where to show the little circle in that displays your current selected color\r\n                var dragX = s * dragWidth;\r\n                var dragY = dragHeight - (v * dragHeight);\r\n                dragX = Math.max(\r\n                    -dragHelperHeight,\r\n                    Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight)\r\n                );\r\n                dragY = Math.max(\r\n                    -dragHelperHeight,\r\n                    Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight)\r\n                );\r\n                dragHelper.css({\r\n                    \"top\": dragY + \"px\",\r\n                    \"left\": dragX + \"px\"\r\n                });\r\n\r\n                var alphaX = currentAlpha * alphaWidth;\r\n                alphaSlideHelper.css({\r\n                    \"left\": (alphaX - (alphaSlideHelperWidth / 2)) + \"px\"\r\n                });\r\n\r\n                // Where to show the bar that displays your current selected hue\r\n                var slideY = (currentHue) * slideHeight;\r\n                slideHelper.css({\r\n                    \"top\": (slideY - slideHelperHeight) + \"px\"\r\n                });\r\n            }\r\n        }\r\n\r\n        function updateOriginalInput(fireCallback) {\r\n            var color = get(),\r\n                displayColor = '',\r\n                hasChanged = !tinycolor.equals(color, colorOnShow);\r\n\r\n            if (color) {\r\n                displayColor = color.toString(currentPreferredFormat);\r\n                // Update the selection palette with the current color\r\n                addColorToSelectionPalette(color);\r\n            }\r\n\r\n            if (isInput) {\r\n                boundElement.val(displayColor);\r\n            }\r\n\r\n            if (fireCallback && hasChanged) {\r\n                callbacks.change(color);\r\n                boundElement.trigger('change', [ color ]);\r\n            }\r\n        }\r\n\r\n        function reflow() {\r\n            dragWidth = dragger.width();\r\n            dragHeight = dragger.height();\r\n            dragHelperHeight = dragHelper.height();\r\n            slideWidth = slider.width();\r\n            slideHeight = slider.height();\r\n            slideHelperHeight = slideHelper.height();\r\n            alphaWidth = alphaSlider.width();\r\n            alphaSlideHelperWidth = alphaSlideHelper.width();\r\n\r\n            if (!flat) {\r\n                container.css(\"position\", \"absolute\");\r\n                container.offset(getOffset(container, offsetElement));\r\n            }\r\n\r\n            updateHelperLocations();\r\n\r\n            if (opts.showPalette) {\r\n                drawPalette();\r\n            }\r\n\r\n            boundElement.trigger('reflow.spectrum');\r\n        }\r\n\r\n        function destroy() {\r\n            boundElement.show();\r\n            offsetElement.unbind(\"click.spectrum touchstart.spectrum\");\r\n            container.remove();\r\n            replacer.remove();\r\n            spectrums[spect.id] = null;\r\n        }\r\n\r\n        function option(optionName, optionValue) {\r\n            if (optionName === undefined) {\r\n                return $.extend({}, opts);\r\n            }\r\n            if (optionValue === undefined) {\r\n                return opts[optionName];\r\n            }\r\n\r\n            opts[optionName] = optionValue;\r\n            applyOptions();\r\n        }\r\n\r\n        function enable() {\r\n            disabled = false;\r\n            boundElement.attr(\"disabled\", false);\r\n            offsetElement.removeClass(\"sp-disabled\");\r\n        }\r\n\r\n        function disable() {\r\n            hide();\r\n            disabled = true;\r\n            boundElement.attr(\"disabled\", true);\r\n            offsetElement.addClass(\"sp-disabled\");\r\n        }\r\n\r\n        initialize();\r\n\r\n        var spect = {\r\n            show: show,\r\n            hide: hide,\r\n            toggle: toggle,\r\n            reflow: reflow,\r\n            option: option,\r\n            enable: enable,\r\n            disable: disable,\r\n            set: function (c) {\r\n                set(c);\r\n                updateOriginalInput();\r\n            },\r\n            get: get,\r\n            destroy: destroy,\r\n            container: container\r\n        };\r\n\r\n        spect.id = spectrums.push(spect) - 1;\r\n\r\n        return spect;\r\n    }\r\n\r\n    /**\r\n    * checkOffset - get the offset below/above and left/right element depending on screen position\r\n    * Thanks https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js\r\n    */\r\n    function getOffset(picker, input) {\r\n        var extraY = 0;\r\n        var dpWidth = picker.outerWidth();\r\n        var dpHeight = picker.outerHeight();\r\n        var inputHeight = input.outerHeight();\r\n        var doc = picker[0].ownerDocument;\r\n        var docElem = doc.documentElement;\r\n        var viewWidth = docElem.clientWidth + $(doc).scrollLeft();\r\n        var viewHeight = docElem.clientHeight + $(doc).scrollTop();\r\n        var offset = input.offset();\r\n        offset.top += inputHeight;\r\n\r\n        offset.left -=\r\n            Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?\r\n            Math.abs(offset.left + dpWidth - viewWidth) : 0);\r\n\r\n        offset.top -=\r\n            Math.min(offset.top, ((offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?\r\n            Math.abs(dpHeight + inputHeight - extraY) : extraY));\r\n\r\n        return offset;\r\n    }\r\n\r\n    /**\r\n    * noop - do nothing\r\n    */\r\n    function noop() {\r\n\r\n    }\r\n\r\n    /**\r\n    * stopPropagation - makes the code only doing this a little easier to read in line\r\n    */\r\n    function stopPropagation(e) {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    /**\r\n    * Create a function bound to a given object\r\n    * Thanks to underscore.js\r\n    */\r\n    function bind(func, obj) {\r\n        var slice = Array.prototype.slice;\r\n        var args = slice.call(arguments, 2);\r\n        return function () {\r\n            return func.apply(obj, args.concat(slice.call(arguments)));\r\n        };\r\n    }\r\n\r\n    /**\r\n    * Lightweight drag helper.  Handles containment within the element, so that\r\n    * when dragging, the x is within [0,element.width] and y is within [0,element.height]\r\n    */\r\n    function draggable(element, onmove, onstart, onstop) {\r\n        onmove = onmove || function () { };\r\n        onstart = onstart || function () { };\r\n        onstop = onstop || function () { };\r\n        var doc = document;\r\n        var dragging = false;\r\n        var offset = {};\r\n        var maxHeight = 0;\r\n        var maxWidth = 0;\r\n        var hasTouch = ('ontouchstart' in window);\r\n\r\n        var duringDragEvents = {};\r\n        duringDragEvents[\"selectstart\"] = prevent;\r\n        duringDragEvents[\"dragstart\"] = prevent;\r\n        duringDragEvents[\"touchmove mousemove\"] = move;\r\n        duringDragEvents[\"touchend mouseup\"] = stop;\r\n\r\n        function prevent(e) {\r\n            if (e.stopPropagation) {\r\n                e.stopPropagation();\r\n            }\r\n            if (e.preventDefault) {\r\n                e.preventDefault();\r\n            }\r\n            e.returnValue = false;\r\n        }\r\n\r\n        function move(e) {\r\n            if (dragging) {\r\n                // Mouseup happened outside of window\r\n                if (IE && doc.documentMode < 9 && !e.button) {\r\n                    return stop();\r\n                }\r\n\r\n                var touches = e.originalEvent.touches;\r\n                var pageX = touches ? touches[0].pageX : e.pageX;\r\n                var pageY = touches ? touches[0].pageY : e.pageY;\r\n\r\n                var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\r\n                var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\r\n\r\n                if (hasTouch) {\r\n                    // Stop scrolling in iOS\r\n                    prevent(e);\r\n                }\r\n\r\n                onmove.apply(element, [dragX, dragY, e]);\r\n            }\r\n        }\r\n\r\n        function start(e) {\r\n            var rightclick = (e.which) ? (e.which == 3) : (e.button == 2);\r\n\r\n            if (!rightclick && !dragging) {\r\n                if (onstart.apply(element, arguments) !== false) {\r\n                    dragging = true;\r\n                    maxHeight = $(element).height();\r\n                    maxWidth = $(element).width();\r\n                    offset = $(element).offset();\r\n\r\n                    $(doc).bind(duringDragEvents);\r\n                    $(doc.body).addClass(\"sp-dragging\");\r\n\r\n                    if (!hasTouch) {\r\n                        move(e);\r\n                    }\r\n\r\n                    prevent(e);\r\n                }\r\n            }\r\n        }\r\n\r\n        function stop() {\r\n            if (dragging) {\r\n                $(doc).unbind(duringDragEvents);\r\n                $(doc.body).removeClass(\"sp-dragging\");\r\n                onstop.apply(element, arguments);\r\n            }\r\n            dragging = false;\r\n        }\r\n\r\n        $(element).bind(\"touchstart mousedown\", start);\r\n    }\r\n\r\n    function throttle(func, wait, debounce) {\r\n        var timeout;\r\n        return function () {\r\n            var context = this, args = arguments;\r\n            var throttler = function () {\r\n                timeout = null;\r\n                func.apply(context, args);\r\n            };\r\n            if (debounce) clearTimeout(timeout);\r\n            if (debounce || !timeout) timeout = setTimeout(throttler, wait);\r\n        };\r\n    }\r\n\r\n    /**\r\n    * Define a jQuery plugin\r\n    */\r\n    var dataID = \"spectrum.id\";\r\n    $.fn.spectrum = function (opts, extra) {\r\n\r\n        if (typeof opts == \"string\") {\r\n\r\n            var returnValue = this;\r\n            var args = Array.prototype.slice.call( arguments, 1 );\r\n\r\n            this.each(function () {\r\n                var spect = spectrums[$(this).data(dataID)];\r\n                if (spect) {\r\n                    var method = spect[opts];\r\n                    if (!method) {\r\n                        throw new Error( \"Spectrum: no such method: '\" + opts + \"'\" );\r\n                    }\r\n\r\n                    if (opts == \"get\") {\r\n                        returnValue = spect.get();\r\n                    }\r\n                    else if (opts == \"container\") {\r\n                        returnValue = spect.container;\r\n                    }\r\n                    else if (opts == \"option\") {\r\n                        returnValue = spect.option.apply(spect, args);\r\n                    }\r\n                    else if (opts == \"destroy\") {\r\n                        spect.destroy();\r\n                        $(this).removeData(dataID);\r\n                    }\r\n                    else {\r\n                        method.apply(spect, args);\r\n                    }\r\n                }\r\n            });\r\n\r\n            return returnValue;\r\n        }\r\n\r\n        // Initializing a new instance of spectrum\r\n        return this.spectrum(\"destroy\").each(function () {\r\n            var options = $.extend({}, opts, $(this).data());\r\n            var spect = spectrum(this, options);\r\n            $(this).data(dataID, spect.id);\r\n        });\r\n    };\r\n\r\n    $.fn.spectrum.load = true;\r\n    $.fn.spectrum.loadOpts = {};\r\n    $.fn.spectrum.draggable = draggable;\r\n    $.fn.spectrum.defaults = defaultOpts;\r\n\r\n    $.spectrum = { };\r\n    $.spectrum.localization = { };\r\n    $.spectrum.palettes = { };\r\n\r\n    $.fn.spectrum.processNativeColorInputs = function () {\r\n        if (!inputTypeColorSupport) {\r\n            $(\"input[type=color]\").spectrum({\r\n                preferredFormat: \"hex6\"\r\n            });\r\n        }\r\n    };\r\n\r\n    // TinyColor v1.0.0\r\n    // https://github.com/bgrins/TinyColor\r\n    // Brian Grinstead, MIT License\r\n\r\n    (function() {\r\n\r\n    var trimLeft = /^[\\s,#]+/,\r\n        trimRight = /\\s+$/,\r\n        tinyCounter = 0,\r\n        math = Math,\r\n        mathRound = math.round,\r\n        mathMin = math.min,\r\n        mathMax = math.max,\r\n        mathRandom = math.random;\r\n\r\n    var tinycolor = function tinycolor (color, opts) {\r\n\r\n        color = (color) ? color : '';\r\n        opts = opts || { };\r\n\r\n        // If input is already a tinycolor, return itself\r\n        if (color instanceof tinycolor) {\r\n           return color;\r\n        }\r\n        // If we are called as a function, call using new instead\r\n        if (!(this instanceof tinycolor)) {\r\n            return new tinycolor(color, opts);\r\n        }\r\n\r\n        var rgb = inputToRGB(color);\r\n        this._r = rgb.r,\r\n        this._g = rgb.g,\r\n        this._b = rgb.b,\r\n        this._a = rgb.a,\r\n        this._roundA = mathRound(100*this._a) / 100,\r\n        this._format = opts.format || rgb.format;\r\n        this._gradientType = opts.gradientType;\r\n\r\n        // Don't let the range of [0,255] come back in [0,1].\r\n        // Potentially lose a little bit of precision here, but will fix issues where\r\n        // .5 gets interpreted as half of the total, instead of half of 1\r\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\r\n        if (this._r < 1) { this._r = mathRound(this._r); }\r\n        if (this._g < 1) { this._g = mathRound(this._g); }\r\n        if (this._b < 1) { this._b = mathRound(this._b); }\r\n\r\n        this._ok = rgb.ok;\r\n        this._tc_id = tinyCounter++;\r\n    };\r\n\r\n    tinycolor.prototype = {\r\n        isDark: function() {\r\n            return this.getBrightness() < 128;\r\n        },\r\n        isLight: function() {\r\n            return !this.isDark();\r\n        },\r\n        isValid: function() {\r\n            return this._ok;\r\n        },\r\n        getFormat: function() {\r\n            return this._format;\r\n        },\r\n        getAlpha: function() {\r\n            return this._a;\r\n        },\r\n        getBrightness: function() {\r\n            var rgb = this.toRgb();\r\n            return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\r\n        },\r\n        setAlpha: function(value) {\r\n            this._a = boundAlpha(value);\r\n            this._roundA = mathRound(100*this._a) / 100;\r\n            return this;\r\n        },\r\n        toHsv: function() {\r\n            var hsv = rgbToHsv(this._r, this._g, this._b);\r\n            return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\r\n        },\r\n        toHsvString: function() {\r\n            var hsv = rgbToHsv(this._r, this._g, this._b);\r\n            var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\r\n            return (this._a == 1) ?\r\n              \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\r\n              \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\r\n        },\r\n        toHsl: function() {\r\n            var hsl = rgbToHsl(this._r, this._g, this._b);\r\n            return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\r\n        },\r\n        toHslString: function() {\r\n            var hsl = rgbToHsl(this._r, this._g, this._b);\r\n            var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\r\n            return (this._a == 1) ?\r\n              \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\r\n              \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\r\n        },\r\n        toHex: function(allow3Char) {\r\n            return rgbToHex(this._r, this._g, this._b, allow3Char);\r\n        },\r\n        toHexString: function(allow3Char) {\r\n            return '#' + this.toHex(allow3Char);\r\n        },\r\n        toHex8: function() {\r\n            return rgbaToHex(this._r, this._g, this._b, this._a);\r\n        },\r\n        toHex8String: function() {\r\n            return '#' + this.toHex8();\r\n        },\r\n        toRgb: function() {\r\n            return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\r\n        },\r\n        toRgbString: function() {\r\n            return (this._a == 1) ?\r\n              \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\r\n              \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\r\n        },\r\n        toPercentageRgb: function() {\r\n            return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\r\n        },\r\n        toPercentageRgbString: function() {\r\n            return (this._a == 1) ?\r\n              \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\r\n              \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\r\n        },\r\n        toName: function() {\r\n            if (this._a === 0) {\r\n                return \"transparent\";\r\n            }\r\n\r\n            if (this._a < 1) {\r\n                return false;\r\n            }\r\n\r\n            return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\r\n        },\r\n        toFilter: function(secondColor) {\r\n            var hex8String = '#' + rgbaToHex(this._r, this._g, this._b, this._a);\r\n            var secondHex8String = hex8String;\r\n            var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\r\n\r\n            if (secondColor) {\r\n                var s = tinycolor(secondColor);\r\n                secondHex8String = s.toHex8String();\r\n            }\r\n\r\n            return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\r\n        },\r\n        toString: function(format) {\r\n            var formatSet = !!format;\r\n            format = format || this._format;\r\n\r\n            var formattedString = false;\r\n            var hasAlpha = this._a < 1 && this._a >= 0;\r\n            var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"name\");\r\n\r\n            if (needsAlphaFormat) {\r\n                // Special case for \"transparent\", all other non-alpha formats\r\n                // will return rgba when there is transparency.\r\n                if (format === \"name\" && this._a === 0) {\r\n                    return this.toName();\r\n                }\r\n                return this.toRgbString();\r\n            }\r\n            if (format === \"rgb\") {\r\n                formattedString = this.toRgbString();\r\n            }\r\n            if (format === \"prgb\") {\r\n                formattedString = this.toPercentageRgbString();\r\n            }\r\n            if (format === \"hex\" || format === \"hex6\") {\r\n                formattedString = this.toHexString();\r\n            }\r\n            if (format === \"hex3\") {\r\n                formattedString = this.toHexString(true);\r\n            }\r\n            if (format === \"hex8\") {\r\n                formattedString = this.toHex8String();\r\n            }\r\n            if (format === \"name\") {\r\n                formattedString = this.toName();\r\n            }\r\n            if (format === \"hsl\") {\r\n                formattedString = this.toHslString();\r\n            }\r\n            if (format === \"hsv\") {\r\n                formattedString = this.toHsvString();\r\n            }\r\n\r\n            return formattedString || this.toHexString();\r\n        },\r\n\r\n        _applyModification: function(fn, args) {\r\n            var color = fn.apply(null, [this].concat([].slice.call(args)));\r\n            this._r = color._r;\r\n            this._g = color._g;\r\n            this._b = color._b;\r\n            this.setAlpha(color._a);\r\n            return this;\r\n        },\r\n        lighten: function() {\r\n            return this._applyModification(lighten, arguments);\r\n        },\r\n        brighten: function() {\r\n            return this._applyModification(brighten, arguments);\r\n        },\r\n        darken: function() {\r\n            return this._applyModification(darken, arguments);\r\n        },\r\n        desaturate: function() {\r\n            return this._applyModification(desaturate, arguments);\r\n        },\r\n        saturate: function() {\r\n            return this._applyModification(saturate, arguments);\r\n        },\r\n        greyscale: function() {\r\n            return this._applyModification(greyscale, arguments);\r\n        },\r\n        spin: function() {\r\n            return this._applyModification(spin, arguments);\r\n        },\r\n\r\n        _applyCombination: function(fn, args) {\r\n            return fn.apply(null, [this].concat([].slice.call(args)));\r\n        },\r\n        analogous: function() {\r\n            return this._applyCombination(analogous, arguments);\r\n        },\r\n        complement: function() {\r\n            return this._applyCombination(complement, arguments);\r\n        },\r\n        monochromatic: function() {\r\n            return this._applyCombination(monochromatic, arguments);\r\n        },\r\n        splitcomplement: function() {\r\n            return this._applyCombination(splitcomplement, arguments);\r\n        },\r\n        triad: function() {\r\n            return this._applyCombination(triad, arguments);\r\n        },\r\n        tetrad: function() {\r\n            return this._applyCombination(tetrad, arguments);\r\n        }\r\n    };\r\n\r\n    // If input is an object, force 1 into \"1.0\" to handle ratios properly\r\n    // String input requires \"1.0\" as input, so 1 will be treated as 1\r\n    tinycolor.fromRatio = function(color, opts) {\r\n        if (typeof color == \"object\") {\r\n            var newColor = {};\r\n            for (var i in color) {\r\n                if (color.hasOwnProperty(i)) {\r\n                    if (i === \"a\") {\r\n                        newColor[i] = color[i];\r\n                    }\r\n                    else {\r\n                        newColor[i] = convertToPercentage(color[i]);\r\n                    }\r\n                }\r\n            }\r\n            color = newColor;\r\n        }\r\n\r\n        return tinycolor(color, opts);\r\n    };\r\n\r\n    // Given a string or object, convert that input to RGB\r\n    // Possible string inputs:\r\n    //\r\n    //     \"red\"\r\n    //     \"#f00\" or \"f00\"\r\n    //     \"#ff0000\" or \"ff0000\"\r\n    //     \"#ff000000\" or \"ff000000\"\r\n    //     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\r\n    //     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\r\n    //     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\r\n    //     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\r\n    //     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\r\n    //     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\r\n    //     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\r\n    //\r\n    function inputToRGB(color) {\r\n\r\n        var rgb = { r: 0, g: 0, b: 0 };\r\n        var a = 1;\r\n        var ok = false;\r\n        var format = false;\r\n\r\n        if (typeof color == \"string\") {\r\n            color = stringInputToObject(color);\r\n        }\r\n\r\n        if (typeof color == \"object\") {\r\n            if (color.hasOwnProperty(\"r\") && color.hasOwnProperty(\"g\") && color.hasOwnProperty(\"b\")) {\r\n                rgb = rgbToRgb(color.r, color.g, color.b);\r\n                ok = true;\r\n                format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\r\n            }\r\n            else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"v\")) {\r\n                color.s = convertToPercentage(color.s);\r\n                color.v = convertToPercentage(color.v);\r\n                rgb = hsvToRgb(color.h, color.s, color.v);\r\n                ok = true;\r\n                format = \"hsv\";\r\n            }\r\n            else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"l\")) {\r\n                color.s = convertToPercentage(color.s);\r\n                color.l = convertToPercentage(color.l);\r\n                rgb = hslToRgb(color.h, color.s, color.l);\r\n                ok = true;\r\n                format = \"hsl\";\r\n            }\r\n\r\n            if (color.hasOwnProperty(\"a\")) {\r\n                a = color.a;\r\n            }\r\n        }\r\n\r\n        a = boundAlpha(a);\r\n\r\n        return {\r\n            ok: ok,\r\n            format: color.format || format,\r\n            r: mathMin(255, mathMax(rgb.r, 0)),\r\n            g: mathMin(255, mathMax(rgb.g, 0)),\r\n            b: mathMin(255, mathMax(rgb.b, 0)),\r\n            a: a\r\n        };\r\n    }\r\n\r\n\r\n    // Conversion Functions\r\n    // --------------------\r\n\r\n    // `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\r\n    // <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\r\n\r\n    // `rgbToRgb`\r\n    // Handle bounds / percentage checking to conform to CSS color spec\r\n    // <http://www.w3.org/TR/css3-color/>\r\n    // *Assumes:* r, g, b in [0, 255] or [0, 1]\r\n    // *Returns:* { r, g, b } in [0, 255]\r\n    function rgbToRgb(r, g, b){\r\n        return {\r\n            r: bound01(r, 255) * 255,\r\n            g: bound01(g, 255) * 255,\r\n            b: bound01(b, 255) * 255\r\n        };\r\n    }\r\n\r\n    // `rgbToHsl`\r\n    // Converts an RGB color value to HSL.\r\n    // *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\r\n    // *Returns:* { h, s, l } in [0,1]\r\n    function rgbToHsl(r, g, b) {\r\n\r\n        r = bound01(r, 255);\r\n        g = bound01(g, 255);\r\n        b = bound01(b, 255);\r\n\r\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\r\n        var h, s, l = (max + min) / 2;\r\n\r\n        if(max == min) {\r\n            h = s = 0; // achromatic\r\n        }\r\n        else {\r\n            var d = max - min;\r\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n            switch(max) {\r\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n                case g: h = (b - r) / d + 2; break;\r\n                case b: h = (r - g) / d + 4; break;\r\n            }\r\n\r\n            h /= 6;\r\n        }\r\n\r\n        return { h: h, s: s, l: l };\r\n    }\r\n\r\n    // `hslToRgb`\r\n    // Converts an HSL color value to RGB.\r\n    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\r\n    // *Returns:* { r, g, b } in the set [0, 255]\r\n    function hslToRgb(h, s, l) {\r\n        var r, g, b;\r\n\r\n        h = bound01(h, 360);\r\n        s = bound01(s, 100);\r\n        l = bound01(l, 100);\r\n\r\n        function hue2rgb(p, q, t) {\r\n            if(t < 0) t += 1;\r\n            if(t > 1) t -= 1;\r\n            if(t < 1/6) return p + (q - p) * 6 * t;\r\n            if(t < 1/2) return q;\r\n            if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n            return p;\r\n        }\r\n\r\n        if(s === 0) {\r\n            r = g = b = l; // achromatic\r\n        }\r\n        else {\r\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n            var p = 2 * l - q;\r\n            r = hue2rgb(p, q, h + 1/3);\r\n            g = hue2rgb(p, q, h);\r\n            b = hue2rgb(p, q, h - 1/3);\r\n        }\r\n\r\n        return { r: r * 255, g: g * 255, b: b * 255 };\r\n    }\r\n\r\n    // `rgbToHsv`\r\n    // Converts an RGB color value to HSV\r\n    // *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\r\n    // *Returns:* { h, s, v } in [0,1]\r\n    function rgbToHsv(r, g, b) {\r\n\r\n        r = bound01(r, 255);\r\n        g = bound01(g, 255);\r\n        b = bound01(b, 255);\r\n\r\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\r\n        var h, s, v = max;\r\n\r\n        var d = max - min;\r\n        s = max === 0 ? 0 : d / max;\r\n\r\n        if(max == min) {\r\n            h = 0; // achromatic\r\n        }\r\n        else {\r\n            switch(max) {\r\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n                case g: h = (b - r) / d + 2; break;\r\n                case b: h = (r - g) / d + 4; break;\r\n            }\r\n            h /= 6;\r\n        }\r\n        return { h: h, s: s, v: v };\r\n    }\r\n\r\n    // `hsvToRgb`\r\n    // Converts an HSV color value to RGB.\r\n    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\r\n    // *Returns:* { r, g, b } in the set [0, 255]\r\n     function hsvToRgb(h, s, v) {\r\n\r\n        h = bound01(h, 360) * 6;\r\n        s = bound01(s, 100);\r\n        v = bound01(v, 100);\r\n\r\n        var i = math.floor(h),\r\n            f = h - i,\r\n            p = v * (1 - s),\r\n            q = v * (1 - f * s),\r\n            t = v * (1 - (1 - f) * s),\r\n            mod = i % 6,\r\n            r = [v, q, p, p, t, v][mod],\r\n            g = [t, v, v, q, p, p][mod],\r\n            b = [p, p, t, v, v, q][mod];\r\n\r\n        return { r: r * 255, g: g * 255, b: b * 255 };\r\n    }\r\n\r\n    // `rgbToHex`\r\n    // Converts an RGB color to hex\r\n    // Assumes r, g, and b are contained in the set [0, 255]\r\n    // Returns a 3 or 6 character hex\r\n    function rgbToHex(r, g, b, allow3Char) {\r\n\r\n        var hex = [\r\n            pad2(mathRound(r).toString(16)),\r\n            pad2(mathRound(g).toString(16)),\r\n            pad2(mathRound(b).toString(16))\r\n        ];\r\n\r\n        // Return a 3 character hex if possible\r\n        if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\r\n            return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\r\n        }\r\n\r\n        return hex.join(\"\");\r\n    }\r\n        // `rgbaToHex`\r\n        // Converts an RGBA color plus alpha transparency to hex\r\n        // Assumes r, g, b and a are contained in the set [0, 255]\r\n        // Returns an 8 character hex\r\n        function rgbaToHex(r, g, b, a) {\r\n\r\n            var hex = [\r\n                pad2(convertDecimalToHex(a)),\r\n                pad2(mathRound(r).toString(16)),\r\n                pad2(mathRound(g).toString(16)),\r\n                pad2(mathRound(b).toString(16))\r\n            ];\r\n\r\n            return hex.join(\"\");\r\n        }\r\n\r\n    // `equals`\r\n    // Can be called with any tinycolor input\r\n    tinycolor.equals = function (color1, color2) {\r\n        if (!color1 || !color2) { return false; }\r\n        return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\r\n    };\r\n    tinycolor.random = function() {\r\n        return tinycolor.fromRatio({\r\n            r: mathRandom(),\r\n            g: mathRandom(),\r\n            b: mathRandom()\r\n        });\r\n    };\r\n\r\n\r\n    // Modification Functions\r\n    // ----------------------\r\n    // Thanks to less.js for some of the basics here\r\n    // <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\r\n\r\n    function desaturate(color, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 10);\r\n        var hsl = tinycolor(color).toHsl();\r\n        hsl.s -= amount / 100;\r\n        hsl.s = clamp01(hsl.s);\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    function saturate(color, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 10);\r\n        var hsl = tinycolor(color).toHsl();\r\n        hsl.s += amount / 100;\r\n        hsl.s = clamp01(hsl.s);\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    function greyscale(color) {\r\n        return tinycolor(color).desaturate(100);\r\n    }\r\n\r\n    function lighten (color, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 10);\r\n        var hsl = tinycolor(color).toHsl();\r\n        hsl.l += amount / 100;\r\n        hsl.l = clamp01(hsl.l);\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    function brighten(color, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 10);\r\n        var rgb = tinycolor(color).toRgb();\r\n        rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\r\n        rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\r\n        rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\r\n        return tinycolor(rgb);\r\n    }\r\n\r\n    function darken (color, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 10);\r\n        var hsl = tinycolor(color).toHsl();\r\n        hsl.l -= amount / 100;\r\n        hsl.l = clamp01(hsl.l);\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    // Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\r\n    // Values outside of this range will be wrapped into this range.\r\n    function spin(color, amount) {\r\n        var hsl = tinycolor(color).toHsl();\r\n        var hue = (mathRound(hsl.h) + amount) % 360;\r\n        hsl.h = hue < 0 ? 360 + hue : hue;\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    // Combination Functions\r\n    // ---------------------\r\n    // Thanks to jQuery xColor for some of the ideas behind these\r\n    // <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\r\n\r\n    function complement(color) {\r\n        var hsl = tinycolor(color).toHsl();\r\n        hsl.h = (hsl.h + 180) % 360;\r\n        return tinycolor(hsl);\r\n    }\r\n\r\n    function triad(color) {\r\n        var hsl = tinycolor(color).toHsl();\r\n        var h = hsl.h;\r\n        return [\r\n            tinycolor(color),\r\n            tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\r\n            tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\r\n        ];\r\n    }\r\n\r\n    function tetrad(color) {\r\n        var hsl = tinycolor(color).toHsl();\r\n        var h = hsl.h;\r\n        return [\r\n            tinycolor(color),\r\n            tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\r\n            tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\r\n            tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\r\n        ];\r\n    }\r\n\r\n    function splitcomplement(color) {\r\n        var hsl = tinycolor(color).toHsl();\r\n        var h = hsl.h;\r\n        return [\r\n            tinycolor(color),\r\n            tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\r\n            tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\r\n        ];\r\n    }\r\n\r\n    function analogous(color, results, slices) {\r\n        results = results || 6;\r\n        slices = slices || 30;\r\n\r\n        var hsl = tinycolor(color).toHsl();\r\n        var part = 360 / slices;\r\n        var ret = [tinycolor(color)];\r\n\r\n        for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\r\n            hsl.h = (hsl.h + part) % 360;\r\n            ret.push(tinycolor(hsl));\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    function monochromatic(color, results) {\r\n        results = results || 6;\r\n        var hsv = tinycolor(color).toHsv();\r\n        var h = hsv.h, s = hsv.s, v = hsv.v;\r\n        var ret = [];\r\n        var modification = 1 / results;\r\n\r\n        while (results--) {\r\n            ret.push(tinycolor({ h: h, s: s, v: v}));\r\n            v = (v + modification) % 1;\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    // Utility Functions\r\n    // ---------------------\r\n\r\n    tinycolor.mix = function(color1, color2, amount) {\r\n        amount = (amount === 0) ? 0 : (amount || 50);\r\n\r\n        var rgb1 = tinycolor(color1).toRgb();\r\n        var rgb2 = tinycolor(color2).toRgb();\r\n\r\n        var p = amount / 100;\r\n        var w = p * 2 - 1;\r\n        var a = rgb2.a - rgb1.a;\r\n\r\n        var w1;\r\n\r\n        if (w * a == -1) {\r\n            w1 = w;\r\n        } else {\r\n            w1 = (w + a) / (1 + w * a);\r\n        }\r\n\r\n        w1 = (w1 + 1) / 2;\r\n\r\n        var w2 = 1 - w1;\r\n\r\n        var rgba = {\r\n            r: rgb2.r * w1 + rgb1.r * w2,\r\n            g: rgb2.g * w1 + rgb1.g * w2,\r\n            b: rgb2.b * w1 + rgb1.b * w2,\r\n            a: rgb2.a * p  + rgb1.a * (1 - p)\r\n        };\r\n\r\n        return tinycolor(rgba);\r\n    };\r\n\r\n\r\n    // Readability Functions\r\n    // ---------------------\r\n    // <http://www.w3.org/TR/AERT#color-contrast>\r\n\r\n    // `readability`\r\n    // Analyze the 2 colors and returns an object with the following properties:\r\n    //    `brightness`: difference in brightness between the two colors\r\n    //    `color`: difference in color/hue between the two colors\r\n    tinycolor.readability = function(color1, color2) {\r\n        var c1 = tinycolor(color1);\r\n        var c2 = tinycolor(color2);\r\n        var rgb1 = c1.toRgb();\r\n        var rgb2 = c2.toRgb();\r\n        var brightnessA = c1.getBrightness();\r\n        var brightnessB = c2.getBrightness();\r\n        var colorDiff = (\r\n            Math.max(rgb1.r, rgb2.r) - Math.min(rgb1.r, rgb2.r) +\r\n            Math.max(rgb1.g, rgb2.g) - Math.min(rgb1.g, rgb2.g) +\r\n            Math.max(rgb1.b, rgb2.b) - Math.min(rgb1.b, rgb2.b)\r\n        );\r\n\r\n        return {\r\n            brightness: Math.abs(brightnessA - brightnessB),\r\n            color: colorDiff\r\n        };\r\n    };\r\n\r\n    // `readable`\r\n    // http://www.w3.org/TR/AERT#color-contrast\r\n    // Ensure that foreground and background color combinations provide sufficient contrast.\r\n    // *Example*\r\n    //    tinycolor.isReadable(\"#000\", \"#111\") => false\r\n    tinycolor.isReadable = function(color1, color2) {\r\n        var readability = tinycolor.readability(color1, color2);\r\n        return readability.brightness > 125 && readability.color > 500;\r\n    };\r\n\r\n    // `mostReadable`\r\n    // Given a base color and a list of possible foreground or background\r\n    // colors for that base, returns the most readable color.\r\n    // *Example*\r\n    //    tinycolor.mostReadable(\"#123\", [\"#fff\", \"#000\"]) => \"#000\"\r\n    tinycolor.mostReadable = function(baseColor, colorList) {\r\n        var bestColor = null;\r\n        var bestScore = 0;\r\n        var bestIsReadable = false;\r\n        for (var i=0; i < colorList.length; i++) {\r\n\r\n            // We normalize both around the \"acceptable\" breaking point,\r\n            // but rank brightness constrast higher than hue.\r\n\r\n            var readability = tinycolor.readability(baseColor, colorList[i]);\r\n            var readable = readability.brightness > 125 && readability.color > 500;\r\n            var score = 3 * (readability.brightness / 125) + (readability.color / 500);\r\n\r\n            if ((readable && ! bestIsReadable) ||\r\n                (readable && bestIsReadable && score > bestScore) ||\r\n                ((! readable) && (! bestIsReadable) && score > bestScore)) {\r\n                bestIsReadable = readable;\r\n                bestScore = score;\r\n                bestColor = tinycolor(colorList[i]);\r\n            }\r\n        }\r\n        return bestColor;\r\n    };\r\n\r\n\r\n    // Big List of Colors\r\n    // ------------------\r\n    // <http://www.w3.org/TR/css3-color/#svg-color>\r\n    var names = tinycolor.names = {\r\n        aliceblue: \"f0f8ff\",\r\n        antiquewhite: \"faebd7\",\r\n        aqua: \"0ff\",\r\n        aquamarine: \"7fffd4\",\r\n        azure: \"f0ffff\",\r\n        beige: \"f5f5dc\",\r\n        bisque: \"ffe4c4\",\r\n        black: \"000\",\r\n        blanchedalmond: \"ffebcd\",\r\n        blue: \"00f\",\r\n        blueviolet: \"8a2be2\",\r\n        brown: \"a52a2a\",\r\n        burlywood: \"deb887\",\r\n        burntsienna: \"ea7e5d\",\r\n        cadetblue: \"5f9ea0\",\r\n        chartreuse: \"7fff00\",\r\n        chocolate: \"d2691e\",\r\n        coral: \"ff7f50\",\r\n        cornflowerblue: \"6495ed\",\r\n        cornsilk: \"fff8dc\",\r\n        crimson: \"dc143c\",\r\n        cyan: \"0ff\",\r\n        darkblue: \"00008b\",\r\n        darkcyan: \"008b8b\",\r\n        darkgoldenrod: \"b8860b\",\r\n        darkgray: \"a9a9a9\",\r\n        darkgreen: \"006400\",\r\n        darkgrey: \"a9a9a9\",\r\n        darkkhaki: \"bdb76b\",\r\n        darkmagenta: \"8b008b\",\r\n        darkolivegreen: \"556b2f\",\r\n        darkorange: \"ff8c00\",\r\n        darkorchid: \"9932cc\",\r\n        darkred: \"8b0000\",\r\n        darksalmon: \"e9967a\",\r\n        darkseagreen: \"8fbc8f\",\r\n        darkslateblue: \"483d8b\",\r\n        darkslategray: \"2f4f4f\",\r\n        darkslategrey: \"2f4f4f\",\r\n        darkturquoise: \"00ced1\",\r\n        darkviolet: \"9400d3\",\r\n        deeppink: \"ff1493\",\r\n        deepskyblue: \"00bfff\",\r\n        dimgray: \"696969\",\r\n        dimgrey: \"696969\",\r\n        dodgerblue: \"1e90ff\",\r\n        firebrick: \"b22222\",\r\n        floralwhite: \"fffaf0\",\r\n        forestgreen: \"228b22\",\r\n        fuchsia: \"f0f\",\r\n        gainsboro: \"dcdcdc\",\r\n        ghostwhite: \"f8f8ff\",\r\n        gold: \"ffd700\",\r\n        goldenrod: \"daa520\",\r\n        gray: \"808080\",\r\n        green: \"008000\",\r\n        greenyellow: \"adff2f\",\r\n        grey: \"808080\",\r\n        honeydew: \"f0fff0\",\r\n        hotpink: \"ff69b4\",\r\n        indianred: \"cd5c5c\",\r\n        indigo: \"4b0082\",\r\n        ivory: \"fffff0\",\r\n        khaki: \"f0e68c\",\r\n        lavender: \"e6e6fa\",\r\n        lavenderblush: \"fff0f5\",\r\n        lawngreen: \"7cfc00\",\r\n        lemonchiffon: \"fffacd\",\r\n        lightblue: \"add8e6\",\r\n        lightcoral: \"f08080\",\r\n        lightcyan: \"e0ffff\",\r\n        lightgoldenrodyellow: \"fafad2\",\r\n        lightgray: \"d3d3d3\",\r\n        lightgreen: \"90ee90\",\r\n        lightgrey: \"d3d3d3\",\r\n        lightpink: \"ffb6c1\",\r\n        lightsalmon: \"ffa07a\",\r\n        lightseagreen: \"20b2aa\",\r\n        lightskyblue: \"87cefa\",\r\n        lightslategray: \"789\",\r\n        lightslategrey: \"789\",\r\n        lightsteelblue: \"b0c4de\",\r\n        lightyellow: \"ffffe0\",\r\n        lime: \"0f0\",\r\n        limegreen: \"32cd32\",\r\n        linen: \"faf0e6\",\r\n        magenta: \"f0f\",\r\n        maroon: \"800000\",\r\n        mediumaquamarine: \"66cdaa\",\r\n        mediumblue: \"0000cd\",\r\n        mediumorchid: \"ba55d3\",\r\n        mediumpurple: \"9370db\",\r\n        mediumseagreen: \"3cb371\",\r\n        mediumslateblue: \"7b68ee\",\r\n        mediumspringgreen: \"00fa9a\",\r\n        mediumturquoise: \"48d1cc\",\r\n        mediumvioletred: \"c71585\",\r\n        midnightblue: \"191970\",\r\n        mintcream: \"f5fffa\",\r\n        mistyrose: \"ffe4e1\",\r\n        moccasin: \"ffe4b5\",\r\n        navajowhite: \"ffdead\",\r\n        navy: \"000080\",\r\n        oldlace: \"fdf5e6\",\r\n        olive: \"808000\",\r\n        olivedrab: \"6b8e23\",\r\n        orange: \"ffa500\",\r\n        orangered: \"ff4500\",\r\n        orchid: \"da70d6\",\r\n        palegoldenrod: \"eee8aa\",\r\n        palegreen: \"98fb98\",\r\n        paleturquoise: \"afeeee\",\r\n        palevioletred: \"db7093\",\r\n        papayawhip: \"ffefd5\",\r\n        peachpuff: \"ffdab9\",\r\n        peru: \"cd853f\",\r\n        pink: \"ffc0cb\",\r\n        plum: \"dda0dd\",\r\n        powderblue: \"b0e0e6\",\r\n        purple: \"800080\",\r\n        red: \"f00\",\r\n        rosybrown: \"bc8f8f\",\r\n        royalblue: \"4169e1\",\r\n        saddlebrown: \"8b4513\",\r\n        salmon: \"fa8072\",\r\n        sandybrown: \"f4a460\",\r\n        seagreen: \"2e8b57\",\r\n        seashell: \"fff5ee\",\r\n        sienna: \"a0522d\",\r\n        silver: \"c0c0c0\",\r\n        skyblue: \"87ceeb\",\r\n        slateblue: \"6a5acd\",\r\n        slategray: \"708090\",\r\n        slategrey: \"708090\",\r\n        snow: \"fffafa\",\r\n        springgreen: \"00ff7f\",\r\n        steelblue: \"4682b4\",\r\n        tan: \"d2b48c\",\r\n        teal: \"008080\",\r\n        thistle: \"d8bfd8\",\r\n        tomato: \"ff6347\",\r\n        turquoise: \"40e0d0\",\r\n        violet: \"ee82ee\",\r\n        wheat: \"f5deb3\",\r\n        white: \"fff\",\r\n        whitesmoke: \"f5f5f5\",\r\n        yellow: \"ff0\",\r\n        yellowgreen: \"9acd32\"\r\n    };\r\n\r\n    // Make it easy to access colors via `hexNames[hex]`\r\n    var hexNames = tinycolor.hexNames = flip(names);\r\n\r\n\r\n    // Utilities\r\n    // ---------\r\n\r\n    // `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\r\n    function flip(o) {\r\n        var flipped = { };\r\n        for (var i in o) {\r\n            if (o.hasOwnProperty(i)) {\r\n                flipped[o[i]] = i;\r\n            }\r\n        }\r\n        return flipped;\r\n    }\r\n\r\n    // Return a valid alpha value [0,1] with all invalid values being set to 1\r\n    function boundAlpha(a) {\r\n        a = parseFloat(a);\r\n\r\n        if (isNaN(a) || a < 0 || a > 1) {\r\n            a = 1;\r\n        }\r\n\r\n        return a;\r\n    }\r\n\r\n    // Take input from [0, n] and return it as [0, 1]\r\n    function bound01(n, max) {\r\n        if (isOnePointZero(n)) { n = \"100%\"; }\r\n\r\n        var processPercent = isPercentage(n);\r\n        n = mathMin(max, mathMax(0, parseFloat(n)));\r\n\r\n        // Automatically convert percentage into number\r\n        if (processPercent) {\r\n            n = parseInt(n * max, 10) / 100;\r\n        }\r\n\r\n        // Handle floating point rounding errors\r\n        if ((math.abs(n - max) < 0.000001)) {\r\n            return 1;\r\n        }\r\n\r\n        // Convert into [0, 1] range if it isn't already\r\n        return (n % max) / parseFloat(max);\r\n    }\r\n\r\n    // Force a number between 0 and 1\r\n    function clamp01(val) {\r\n        return mathMin(1, mathMax(0, val));\r\n    }\r\n\r\n    // Parse a base-16 hex value into a base-10 integer\r\n    function parseIntFromHex(val) {\r\n        return parseInt(val, 16);\r\n    }\r\n\r\n    // Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\r\n    // <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\r\n    function isOnePointZero(n) {\r\n        return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\r\n    }\r\n\r\n    // Check to see if string passed in is a percentage\r\n    function isPercentage(n) {\r\n        return typeof n === \"string\" && n.indexOf('%') != -1;\r\n    }\r\n\r\n    // Force a hex value to have 2 characters\r\n    function pad2(c) {\r\n        return c.length == 1 ? '0' + c : '' + c;\r\n    }\r\n\r\n    // Replace a decimal with it's percentage value\r\n    function convertToPercentage(n) {\r\n        if (n <= 1) {\r\n            n = (n * 100) + \"%\";\r\n        }\r\n\r\n        return n;\r\n    }\r\n\r\n    // Converts a decimal to a hex value\r\n    function convertDecimalToHex(d) {\r\n        return Math.round(parseFloat(d) * 255).toString(16);\r\n    }\r\n    // Converts a hex value to a decimal\r\n    function convertHexToDecimal(h) {\r\n        return (parseIntFromHex(h) / 255);\r\n    }\r\n\r\n    var matchers = (function() {\r\n\r\n        // <http://www.w3.org/TR/css3-values/#integers>\r\n        var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\r\n\r\n        // <http://www.w3.org/TR/css3-values/#number-value>\r\n        var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\r\n\r\n        // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\r\n        var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\r\n\r\n        // Actual matching.\r\n        // Parentheses and commas are optional, but not required.\r\n        // Whitespace can take the place of commas or opening paren\r\n        var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\r\n        var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\r\n\r\n        return {\r\n            rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\r\n            rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\r\n            hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\r\n            hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\r\n            hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\r\n            hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\r\n            hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\r\n            hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\r\n        };\r\n    })();\r\n\r\n    // `stringInputToObject`\r\n    // Permissive string parsing.  Take in a number of formats, and output an object\r\n    // based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\r\n    function stringInputToObject(color) {\r\n\r\n        color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\r\n        var named = false;\r\n        if (names[color]) {\r\n            color = names[color];\r\n            named = true;\r\n        }\r\n        else if (color == 'transparent') {\r\n            return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\r\n        }\r\n\r\n        // Try to match string input using regular expressions.\r\n        // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\r\n        // Just return an object and let the conversion functions handle that.\r\n        // This way the result will be the same whether the tinycolor is initialized with string or object.\r\n        var match;\r\n        if ((match = matchers.rgb.exec(color))) {\r\n            return { r: match[1], g: match[2], b: match[3] };\r\n        }\r\n        if ((match = matchers.rgba.exec(color))) {\r\n            return { r: match[1], g: match[2], b: match[3], a: match[4] };\r\n        }\r\n        if ((match = matchers.hsl.exec(color))) {\r\n            return { h: match[1], s: match[2], l: match[3] };\r\n        }\r\n        if ((match = matchers.hsla.exec(color))) {\r\n            return { h: match[1], s: match[2], l: match[3], a: match[4] };\r\n        }\r\n        if ((match = matchers.hsv.exec(color))) {\r\n            return { h: match[1], s: match[2], v: match[3] };\r\n        }\r\n        if ((match = matchers.hex8.exec(color))) {\r\n            return {\r\n                a: convertHexToDecimal(match[1]),\r\n                r: parseIntFromHex(match[2]),\r\n                g: parseIntFromHex(match[3]),\r\n                b: parseIntFromHex(match[4]),\r\n                format: named ? \"name\" : \"hex8\"\r\n            };\r\n        }\r\n        if ((match = matchers.hex6.exec(color))) {\r\n            return {\r\n                r: parseIntFromHex(match[1]),\r\n                g: parseIntFromHex(match[2]),\r\n                b: parseIntFromHex(match[3]),\r\n                format: named ? \"name\" : \"hex\"\r\n            };\r\n        }\r\n        if ((match = matchers.hex3.exec(color))) {\r\n            return {\r\n                r: parseIntFromHex(match[1] + '' + match[1]),\r\n                g: parseIntFromHex(match[2] + '' + match[2]),\r\n                b: parseIntFromHex(match[3] + '' + match[3]),\r\n                format: named ? \"name\" : \"hex\"\r\n            };\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    window.tinycolor = tinycolor;\r\n    })();\r\n\r\n\r\n    $(function () {\r\n        if ($.fn.spectrum.load) {\r\n            $.fn.spectrum.processNativeColorInputs();\r\n        }\r\n    });\r\n\r\n})(window, jQuery);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/spectrum.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--1-2!./spectrum.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--1-2!./spectrum.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--1-2!./spectrum.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/spectrum.css\n// module id = 1779\n// module chunks = 31","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.Markup2D.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.Markup2D.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../node_modules/sass-loader/index.js!./Viewing.Extension.Markup2D.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/Viewing.Extension.Markup2D.scss\n// module id = 1817\n// module chunks = 31","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../../node_modules/sass-loader/index.js!./MarkupsUi.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../../node_modules/sass-loader/index.js!./MarkupsUi.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/index.js??ref--2-2!../../../../../../node_modules/sass-loader/index.js!./MarkupsUi.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/viewer.components/Viewer.Extensions.Dynamic/Viewing.Extension.Markup2D/ui/MarkupsUi.scss\n// module id = 1818\n// module chunks = 31"],"sourceRoot":""}